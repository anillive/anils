(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var ld={exports:{}},ao={};var c_;function bb(){if(c_)return ao;c_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:h}}return ao.Fragment=e,ao.jsx=i,ao.jsxs=i,ao}var h_;function Sb(){return h_||(h_=1,ld.exports=bb()),ld.exports}var E=Sb(),od={exports:{}},pt={};var f_;function Ab(){if(f_)return pt;f_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function H(V){return V===null||typeof V!="object"?null:(V=M&&V[M]||V["@@iterator"],typeof V=="function"?V:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,W={};function lt(V,X,nt){this.props=V,this.context=X,this.refs=W,this.updater=nt||F}lt.prototype.isReactComponent={},lt.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},lt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Dt(){}Dt.prototype=lt.prototype;function St(V,X,nt){this.props=V,this.context=X,this.refs=W,this.updater=nt||F}var ie=St.prototype=new Dt;ie.constructor=St,$(ie,lt.prototype),ie.isPureReactComponent=!0;var ue=Array.isArray;function Ut(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function N(V,X,nt){var at=nt.ref;return{$$typeof:r,type:V,key:X,ref:at!==void 0?at:null,props:nt}}function O(V,X){return N(V.type,X,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function U(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(nt){return X[nt]})}var x=/\/+/g;function se(V,X){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):X.toString(36)}function Ie(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ut,Ut):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Q(V,X,nt,at,mt){var Tt=typeof V;(Tt==="undefined"||Tt==="boolean")&&(V=null);var Mt=!1;if(V===null)Mt=!0;else switch(Tt){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(V.$$typeof){case r:case e:Mt=!0;break;case b:return Mt=V._init,Q(Mt(V._payload),X,nt,at,mt)}}if(Mt)return mt=mt(V),Mt=at===""?"."+se(V,0):at,ue(mt)?(nt="",Mt!=null&&(nt=Mt.replace(x,"$&/")+"/"),Q(mt,X,nt,"",function(Zs){return Zs})):mt!=null&&(D(mt)&&(mt=O(mt,nt+(mt.key==null||V&&V.key===mt.key?"":(""+mt.key).replace(x,"$&/")+"/")+Mt)),X.push(mt)),1;Mt=0;var De=at===""?".":at+":";if(ue(V))for(var ae=0;ae<V.length;ae++)at=V[ae],Tt=De+se(at,ae),Mt+=Q(at,X,nt,Tt,mt);else if(ae=H(V),typeof ae=="function")for(V=ae.call(V),ae=0;!(at=V.next()).done;)at=at.value,Tt=De+se(at,ae++),Mt+=Q(at,X,nt,Tt,mt);else if(Tt==="object"){if(typeof V.then=="function")return Q(Ie(V),X,nt,at,mt);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function et(V,X,nt){if(V==null)return V;var at=[],mt=0;return Q(V,at,"","",function(Tt){return X.call(nt,Tt,mt++)}),at}function ht(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(nt){(V._status===0||V._status===-1)&&(V._status=1,V._result=nt)},function(nt){(V._status===0||V._status===-1)&&(V._status=2,V._result=nt)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var jt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ht={map:et,forEach:function(V,X,nt){et(V,function(){X.apply(this,arguments)},nt)},count:function(V){var X=0;return et(V,function(){X++}),X},toArray:function(V){return et(V,function(X){return X})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return pt.Activity=A,pt.Children=Ht,pt.Component=lt,pt.Fragment=i,pt.Profiler=o,pt.PureComponent=St,pt.StrictMode=a,pt.Suspense=p,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,pt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},pt.cache=function(V){return function(){return V.apply(null,arguments)}},pt.cacheSignal=function(){return null},pt.cloneElement=function(V,X,nt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var at=$({},V.props),mt=V.key;if(X!=null)for(Tt in X.key!==void 0&&(mt=""+X.key),X)!w.call(X,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&X.ref===void 0||(at[Tt]=X[Tt]);var Tt=arguments.length-2;if(Tt===1)at.children=nt;else if(1<Tt){for(var Mt=Array(Tt),De=0;De<Tt;De++)Mt[De]=arguments[De+2];at.children=Mt}return N(V.type,mt,at)},pt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},pt.createElement=function(V,X,nt){var at,mt={},Tt=null;if(X!=null)for(at in X.key!==void 0&&(Tt=""+X.key),X)w.call(X,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(mt[at]=X[at]);var Mt=arguments.length-2;if(Mt===1)mt.children=nt;else if(1<Mt){for(var De=Array(Mt),ae=0;ae<Mt;ae++)De[ae]=arguments[ae+2];mt.children=De}if(V&&V.defaultProps)for(at in Mt=V.defaultProps,Mt)mt[at]===void 0&&(mt[at]=Mt[at]);return N(V,Tt,mt)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(V){return{$$typeof:y,render:V}},pt.isValidElement=D,pt.lazy=function(V){return{$$typeof:b,_payload:{_status:-1,_result:V},_init:ht}},pt.memo=function(V,X){return{$$typeof:_,type:V,compare:X===void 0?null:X}},pt.startTransition=function(V){var X=C.T,nt={};C.T=nt;try{var at=V(),mt=C.S;mt!==null&&mt(nt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Ut,jt)}catch(Tt){jt(Tt)}finally{X!==null&&nt.types!==null&&(X.types=nt.types),C.T=X}},pt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},pt.use=function(V){return C.H.use(V)},pt.useActionState=function(V,X,nt){return C.H.useActionState(V,X,nt)},pt.useCallback=function(V,X){return C.H.useCallback(V,X)},pt.useContext=function(V){return C.H.useContext(V)},pt.useDebugValue=function(){},pt.useDeferredValue=function(V,X){return C.H.useDeferredValue(V,X)},pt.useEffect=function(V,X){return C.H.useEffect(V,X)},pt.useEffectEvent=function(V){return C.H.useEffectEvent(V)},pt.useId=function(){return C.H.useId()},pt.useImperativeHandle=function(V,X,nt){return C.H.useImperativeHandle(V,X,nt)},pt.useInsertionEffect=function(V,X){return C.H.useInsertionEffect(V,X)},pt.useLayoutEffect=function(V,X){return C.H.useLayoutEffect(V,X)},pt.useMemo=function(V,X){return C.H.useMemo(V,X)},pt.useOptimistic=function(V,X){return C.H.useOptimistic(V,X)},pt.useReducer=function(V,X,nt){return C.H.useReducer(V,X,nt)},pt.useRef=function(V){return C.H.useRef(V)},pt.useState=function(V){return C.H.useState(V)},pt.useSyncExternalStore=function(V,X,nt){return C.H.useSyncExternalStore(V,X,nt)},pt.useTransition=function(){return C.H.useTransition()},pt.version="19.2.4",pt}var d_;function tm(){return d_||(d_=1,od.exports=Ab()),od.exports}var _t=tm(),ud={exports:{}},ro={},cd={exports:{}},hd={};var m_;function wb(){return m_||(m_=1,(function(r){function e(Q,et){var ht=Q.length;Q.push(et);t:for(;0<ht;){var jt=ht-1>>>1,Ht=Q[jt];if(0<o(Ht,et))Q[jt]=et,Q[ht]=Ht,ht=jt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var et=Q[0],ht=Q.pop();if(ht!==et){Q[0]=ht;t:for(var jt=0,Ht=Q.length,V=Ht>>>1;jt<V;){var X=2*(jt+1)-1,nt=Q[X],at=X+1,mt=Q[at];if(0>o(nt,ht))at<Ht&&0>o(mt,nt)?(Q[jt]=mt,Q[at]=ht,jt=at):(Q[jt]=nt,Q[X]=ht,jt=X);else if(at<Ht&&0>o(mt,ht))Q[jt]=mt,Q[at]=ht,jt=at;else break t}}return et}function o(Q,et){var ht=Q.sortIndex-et.sortIndex;return ht!==0?ht:Q.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var p=[],_=[],b=1,A=null,M=3,H=!1,F=!1,$=!1,W=!1,lt=typeof setTimeout=="function"?setTimeout:null,Dt=typeof clearTimeout=="function"?clearTimeout:null,St=typeof setImmediate<"u"?setImmediate:null;function ie(Q){for(var et=i(_);et!==null;){if(et.callback===null)a(_);else if(et.startTime<=Q)a(_),et.sortIndex=et.expirationTime,e(p,et);else break;et=i(_)}}function ue(Q){if($=!1,ie(Q),!F)if(i(p)!==null)F=!0,Ut||(Ut=!0,U());else{var et=i(_);et!==null&&Ie(ue,et.startTime-Q)}}var Ut=!1,C=-1,w=5,N=-1;function O(){return W?!0:!(r.unstable_now()-N<w)}function D(){if(W=!1,Ut){var Q=r.unstable_now();N=Q;var et=!0;try{t:{F=!1,$&&($=!1,Dt(C),C=-1),H=!0;var ht=M;try{e:{for(ie(Q),A=i(p);A!==null&&!(A.expirationTime>Q&&O());){var jt=A.callback;if(typeof jt=="function"){A.callback=null,M=A.priorityLevel;var Ht=jt(A.expirationTime<=Q);if(Q=r.unstable_now(),typeof Ht=="function"){A.callback=Ht,ie(Q),et=!0;break e}A===i(p)&&a(p),ie(Q)}else a(p);A=i(p)}if(A!==null)et=!0;else{var V=i(_);V!==null&&Ie(ue,V.startTime-Q),et=!1}}break t}finally{A=null,M=ht,H=!1}et=void 0}}finally{et?U():Ut=!1}}}var U;if(typeof St=="function")U=function(){St(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,se=x.port2;x.port1.onmessage=D,U=function(){se.postMessage(null)}}else U=function(){lt(D,0)};function Ie(Q,et){C=lt(function(){Q(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(Q){switch(M){case 1:case 2:case 3:var et=3;break;default:et=M}var ht=M;M=et;try{return Q()}finally{M=ht}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(Q,et){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ht=M;M=Q;try{return et()}finally{M=ht}},r.unstable_scheduleCallback=function(Q,et,ht){var jt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?jt+ht:jt):ht=jt,Q){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ht+Ht,Q={id:b++,callback:et,priorityLevel:Q,startTime:ht,expirationTime:Ht,sortIndex:-1},ht>jt?(Q.sortIndex=ht,e(_,Q),i(p)===null&&Q===i(_)&&($?(Dt(C),C=-1):$=!0,Ie(ue,ht-jt))):(Q.sortIndex=Ht,e(p,Q),F||H||(F=!0,Ut||(Ut=!0,U()))),Q},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(Q){var et=M;return function(){var ht=M;M=et;try{return Q.apply(this,arguments)}finally{M=ht}}}})(hd)),hd}var g_;function xb(){return g_||(g_=1,cd.exports=wb()),cd.exports}var fd={exports:{}},Xe={};var p_;function Rb(){if(p_)return Xe;p_=1;var r=tm();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(p,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Xe.createPortal=function(p,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(p,_,null,b)},Xe.flushSync=function(p){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=_,a.p=b,a.d.f()}},Xe.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(p,_))},Xe.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Xe.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var b=_.as,A=y(b,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:H}):b==="script"&&a.d.X(p,{crossOrigin:A,integrity:M,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xe.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=y(_.as,_.crossOrigin);a.d.M(p,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(p)},Xe.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=y(b,_.crossOrigin);a.d.L(p,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xe.preloadModule=function(p,_){if(typeof p=="string")if(_){var b=y(_.as,_.crossOrigin);a.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(p)},Xe.requestFormReset=function(p){a.d.r(p)},Xe.unstable_batchedUpdates=function(p,_){return p(_)},Xe.useFormState=function(p,_,b){return d.H.useFormState(p,_,b)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.4",Xe}var y_;function Nb(){if(y_)return fd.exports;y_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fd.exports=Rb(),fd.exports}var __;function Cb(){if(__)return ro;__=1;var r=xb(),e=tm(),i=Nb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return p(c),t;if(f===l)return p(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=c,l=f;else{for(var g=!1,T=c.child;T;){if(T===s){g=!0,s=c,l=f;break}if(T===l){g=!0,l=c,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,l=c;break}if(T===l){g=!0,l=f,s=c;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),Dt=Symbol.for("react.consumer"),St=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function se(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case lt:return"Profiler";case W:return"StrictMode";case ue:return"Suspense";case Ut:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case St:return t.displayName||"Context";case Dt:return(t._context.displayName||"Context")+".Consumer";case ie:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:se(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return se(t(n))}catch{}}return null}var Ie=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},jt=[],Ht=-1;function V(t){return{current:t}}function X(t){0>Ht||(t.current=jt[Ht],jt[Ht]=null,Ht--)}function nt(t,n){Ht++,jt[Ht]=t.current,t.current=n}var at=V(null),mt=V(null),Tt=V(null),Mt=V(null);function De(t,n){switch(nt(Tt,n),nt(mt,t),nt(at,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?My(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=My(n),t=Oy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(at),nt(at,t)}function ae(){X(at),X(mt),X(Tt)}function Zs(t){t.memoizedState!==null&&nt(Mt,t);var n=at.current,s=Oy(n,t.type);n!==s&&(nt(mt,t),nt(at,s))}function La(t){mt.current===t&&(X(at),X(mt)),Mt.current===t&&(X(Mt),eo._currentValue=ht)}var ka,za;function si(t){if(ka===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ka=n&&n[1]||"",za=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ka+t+za}var el=!1;function Js(t,n){if(!t||el)return"";el=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var P=q}Reflect.construct(t,[],K)}else{try{K.call()}catch(q){P=q}t.call(K.prototype)}}else{try{throw Error()}catch(q){P=q}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var R=g.split(`
`),z=T.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===z.length)for(l=R.length-1,c=z.length-1;1<=l&&0<=c&&R[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==z[c]){var G=`
`+R[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{el=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?si(s):""}function nl(t,n){switch(t.tag){case 26:case 27:case 5:return si(t.type);case 16:return si("Lazy");case 13:return t.child!==n&&n!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return Js(t.type,!1);case 11:return Js(t.type.render,!1);case 1:return Js(t.type,!0);case 31:return si("Activity");default:return""}}function il(t){try{var n="",s=null;do n+=nl(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,es=r.unstable_cancelCallback,oh=r.unstable_shouldYield,zo=r.unstable_requestPaint,$e=r.unstable_now,$s=r.unstable_getCurrentPriorityLevel,sl=r.unstable_ImmediatePriority,al=r.unstable_UserBlockingPriority,ns=r.unstable_NormalPriority,uh=r.unstable_LowPriority,Po=r.unstable_IdlePriority,Bo=r.log,qo=r.unstable_setDisableYieldValue,Pn=null,Pe=null;function An(t){if(typeof Bo=="function"&&qo(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Pn,t)}catch{}}var fe=Math.clz32?Math.clz32:Fo,Ho=Math.log,Pa=Math.LN2;function Fo(t){return t>>>=0,t===0?32:31-(Ho(t)/Pa|0)|0}var ai=256,Ws=262144,ve=4194304;function ri(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function li(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?c=ri(l):(g&=T,g!==0?c=ri(g):s||(s=T&~t,s!==0&&(c=ri(s))))):(T=l&~f,T!==0?c=ri(T):g!==0?c=ri(g):s||(s=l&~t,s!==0&&(c=ri(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Bn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ch(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Go(){var t=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),t}function oi(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function ta(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function hh(t,n,s,l,c,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(s=g&~s;0<s;){var G=31-fe(s),K=1<<G;T[G]=0,R[G]=-1;var P=z[G];if(P!==null)for(z[G]=null,G=0;G<P.length;G++){var q=P[G];q!==null&&(q.lane&=-536870913)}s&=~K}l!==0&&ea(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function ea(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function rl(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-fe(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function ll(t,n){var s=n&-n;return s=(s&42)!==0?1:na(s),(s&(t.suspendedLanes|n))!==0?0:s}function na(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Di(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qo(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:i_(t.type))}function qn(t,n){var s=et.p;try{return et.p=t,n()}finally{et.p=s}}var Hn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Hn,Ue="__reactProps$"+Hn,ui="__reactContainer$"+Hn,Ba="__reactEvents$"+Hn,fh="__reactListeners$"+Hn,Yo="__reactHandles$"+Hn,Ko="__reactResources$"+Hn,ci="__reactMarker$"+Hn;function qa(t){delete t[Ee],delete t[Ue],delete t[Ba],delete t[fh],delete t[Yo]}function hi(t){var n=t[Ee];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ui]||s[Ee]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=By(t);t!==null;){if(s=t[Ee])return s;t=By(t)}return n}t=s,s=t.parentNode}return null}function wn(t){if(t=t[Ee]||t[ui]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function fi(t){var n=t[Ko];return n||(n=t[Ko]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(t){t[ci]=!0}var ol=new Set,ul={};function di(t,n){mi(t,n),mi(t+"Capture",n)}function mi(t,n){for(ul[t]=n,t=0;t<n.length;t++)ol.add(n[t])}var cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hl={},fl={};function Xo(t){return _e.call(fl,t)?!0:_e.call(hl,t)?!1:cl.test(t)?fl[t]=!0:(hl[t]=!0,!1)}function Ha(t,n,s){if(Xo(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function gn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function be(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Le(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function is(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function dl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ft(t){if(!t._valueTracker){var n=is(t)?"checked":"value";t._valueTracker=dl(t,n,""+t[n])}}function ia(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=is(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var sa=/[\n"\\]/g;function sn(t){return t.replace(sa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Fa(t,n,s,l,c,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Le(n)):t.value!==""+Le(n)&&(t.value=""+Le(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?ml(t,g,Le(n)):s!=null?ml(t,g,Le(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Le(T):t.removeAttribute("name")}function Zo(t,n,s,l,c,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(t);return}s=s!=null?""+Le(s):"",n=n!=null?""+Le(n):s,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ft(t)}function ml(t,n,s){n==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ss(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Le(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Jo(t,n,s){if(n!=null&&(n=""+Le(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Le(s):""}function as(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Ie(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Le(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Ft(t)}function an(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var $o=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||$o.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function pl(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&gl(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&gl(t,f,n[f])}function Ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qa(t){return rs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var yl=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ls=null,pi=null;function aa(t){var n=wn(t);if(n&&(t=n.stateNode)){var s=t[Ue]||null;t:switch(t=n.stateNode,n.type){case"input":if(Fa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Ue]||null;if(!c)throw Error(a(90));Fa(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&ia(l)}break t;case"textarea":Jo(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ss(t,!!s.multiple,n,!1)}}}var Ya=!1;function os(t,n,s){if(Ya)return t(n,s);Ya=!0;try{var l=t(n);return l}finally{if(Ya=!1,(ls!==null||pi!==null)&&(Qu(),ls&&(n=ls,t=pi,pi=ls=null,aa(n),t)))for(n=0;n<t.length;n++)aa(t[n])}}function Gn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Ue]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=!1;if(Rn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){ra=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{ra=!1}var yi=null,_l=null,la=null;function vl(){if(la)return la;var t,n=_l,s=n.length,l,c="value"in yi?yi.value:yi.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===c[f-l];l++);return la=c.slice(t,1<l?1-l:void 0)}function oa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Vi(){return!0}function Qn(){return!1}function Be(t){function n(s,l,c,f,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Vi:Qn,this.isPropagationStopped=Qn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),n}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Be(Mi),us=A({},Mi,{view:0,detail:0}),El=Be(us),cs,Ka,vi,Xa=A({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vi&&(vi&&t.type==="mousemove"?(cs=t.screenX-vi.screenX,Ka=t.screenY-vi.screenY):Ka=cs=0,vi=t),cs)},movementY:function(t){return"movementY"in t?t.movementY:Ka}}),Tl=Be(Xa),ua=A({},Xa,{dataTransfer:0}),tu=Be(ua),eu=A({},us,{relatedTarget:0}),ca=Be(eu),bl=A({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),nu=Be(bl),Za=A({},Mi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iu=Be(Za),su=A({},Mi,{data:0}),Ei=Be(su),au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ou(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=lu[t])?!!n[t]:!1}function hs(){return ou}var We=A({},us,{key:function(t){if(t.key){var n=au[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=oa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hs,charCode:function(t){return t.type==="keypress"?oa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uu=Be(We),cu=A({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=Be(cu),u=A({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hs}),m=Be(u),v=A({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Be(v),L=A({},Xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Be(L),tt=A({},Mi,{newState:0,oldState:0}),vt=Be(tt),de=[9,13,27,32],zt=Rn&&"CompositionEvent"in window,re=null;Rn&&"documentMode"in document&&(re=document.documentMode);var Nn=Rn&&"TextEvent"in window&&!re,Ti=Rn&&(!zt||re&&8<re&&11>=re),Yn=" ",Kn=!1;function ha(t,n){switch(t){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ja(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function GE(t,n){switch(t){case"compositionend":return Ja(n);case"keypress":return n.which!==32?null:(Kn=!0,Yn);case"textInput":return t=n.data,t===Yn&&Kn?null:t;default:return null}}function QE(t,n){if($a)return t==="compositionend"||!zt&&ha(t,n)?(t=vl(),la=_l=yi=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ti&&n.locale!=="ko"?null:n.data;default:return null}}var YE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!YE[t.type]:n==="textarea"}function Gm(t,n,s,l){ls?pi?pi.push(l):pi=[l]:ls=l,n=Wu(n,"onChange"),0<n.length&&(s=new _i("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Sl=null,Al=null;function KE(t){Ry(t,0)}function hu(t){var n=mn(t);if(ia(n))return t}function Qm(t,n){if(t==="change")return n}var Ym=!1;if(Rn){var dh;if(Rn){var mh="oninput"in document;if(!mh){var Km=document.createElement("div");Km.setAttribute("oninput","return;"),mh=typeof Km.oninput=="function"}dh=mh}else dh=!1;Ym=dh&&(!document.documentMode||9<document.documentMode)}function Xm(){Sl&&(Sl.detachEvent("onpropertychange",Zm),Al=Sl=null)}function Zm(t){if(t.propertyName==="value"&&hu(Al)){var n=[];Gm(n,Al,t,xn(t)),os(KE,n)}}function XE(t,n,s){t==="focusin"?(Xm(),Sl=n,Al=s,Sl.attachEvent("onpropertychange",Zm)):t==="focusout"&&Xm()}function ZE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hu(Al)}function JE(t,n){if(t==="click")return hu(n)}function $E(t,n){if(t==="input"||t==="change")return hu(n)}function WE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var pn=typeof Object.is=="function"?Object.is:WE;function wl(t,n){if(pn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!_e.call(n,c)||!pn(t[c],n[c]))return!1}return!0}function Jm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $m(t,n){var s=Jm(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Jm(s)}}function Wm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Wm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function tg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=gi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=gi(t.document)}return n}function gh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var tT=Rn&&"documentMode"in document&&11>=document.documentMode,Wa=null,ph=null,xl=null,yh=!1;function eg(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;yh||Wa==null||Wa!==gi(l)||(l=Wa,"selectionStart"in l&&gh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xl&&wl(xl,l)||(xl=l,l=Wu(ph,"onSelect"),0<l.length&&(n=new _i("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Wa)))}function fa(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var tr={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},_h={},ng={};Rn&&(ng=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function da(t){if(_h[t])return _h[t];if(!tr[t])return t;var n=tr[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in ng)return _h[t]=n[s];return t}var ig=da("animationend"),sg=da("animationiteration"),ag=da("animationstart"),eT=da("transitionrun"),nT=da("transitionstart"),iT=da("transitioncancel"),rg=da("transitionend"),lg=new Map,vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vh.push("scrollEnd");function Xn(t,n){lg.set(t,n),di(n,[t])}var fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],er=0,Eh=0;function du(){for(var t=er,n=Eh=er=0;n<t;){var s=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var c=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&og(s,c,f)}}function mu(t,n,s,l){Cn[er++]=t,Cn[er++]=n,Cn[er++]=s,Cn[er++]=l,Eh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Th(t,n,s,l){return mu(t,n,s,l),gu(t)}function ma(t,n){return mu(t,null,null,n),gu(t)}function og(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-fe(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function gu(t){if(50<Kl)throw Kl=0,Df=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var nr={};function sT(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,n,s,l){return new sT(t,n,s,l)}function bh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ji(t,n){var s=t.alternate;return s===null?(s=yn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function ug(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function pu(t,n,s,l,c,f){var g=0;if(l=t,typeof t=="function")bh(t)&&(g=1);else if(typeof t=="string")g=ub(t,s,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case N:return t=yn(31,s,n,c),t.elementType=N,t.lanes=f,t;case $:return ga(s.children,c,f,n);case W:g=8,c|=24;break;case lt:return t=yn(12,s,n,c|2),t.elementType=lt,t.lanes=f,t;case ue:return t=yn(13,s,n,c),t.elementType=ue,t.lanes=f,t;case Ut:return t=yn(19,s,n,c),t.elementType=Ut,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case St:g=10;break t;case Dt:g=9;break t;case ie:g=11;break t;case C:g=14;break t;case w:g=16,l=null;break t}g=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=yn(g,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ga(t,n,s,l){return t=yn(7,t,l,n),t.lanes=s,t}function Sh(t,n,s){return t=yn(6,t,null,n),t.lanes=s,t}function cg(t){var n=yn(18,null,null,0);return n.stateNode=t,n}function Ah(t,n,s){return n=yn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var hg=new WeakMap;function In(t,n){if(typeof t=="object"&&t!==null){var s=hg.get(t);return s!==void 0?s:(n={value:t,source:n,stack:il(n)},hg.set(t,n),n)}return{value:t,source:n,stack:il(n)}}var ir=[],sr=0,yu=null,Rl=0,Dn=[],Vn=0,fs=null,bi=1,Si="";function Ui(t,n){ir[sr++]=Rl,ir[sr++]=yu,yu=t,Rl=n}function fg(t,n,s){Dn[Vn++]=bi,Dn[Vn++]=Si,Dn[Vn++]=fs,fs=t;var l=bi;t=Si;var c=32-fe(l)-1;l&=~(1<<c),s+=1;var f=32-fe(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,bi=1<<32-fe(n)+c|s<<c|l,Si=f+t}else bi=1<<f|s<<c|l,Si=t}function wh(t){t.return!==null&&(Ui(t,1),fg(t,1,0))}function xh(t){for(;t===yu;)yu=ir[--sr],ir[sr]=null,Rl=ir[--sr],ir[sr]=null;for(;t===fs;)fs=Dn[--Vn],Dn[Vn]=null,Si=Dn[--Vn],Dn[Vn]=null,bi=Dn[--Vn],Dn[Vn]=null}function dg(t,n){Dn[Vn++]=bi,Dn[Vn++]=Si,Dn[Vn++]=fs,bi=n.id,Si=n.overflow,fs=t}var qe=null,Wt=null,Vt=!1,ds=null,Mn=!1,Rh=Error(a(519));function ms(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl(In(n,t)),Rh}function mg(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Ee]=t,n[Ue]=l,s){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(s=0;s<Zl.length;s++)wt(Zl[s],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),Zo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),as(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Dy(n.textContent,s)?(l.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),l.onScroll!=null&&wt("scroll",n),l.onScrollEnd!=null&&wt("scrollend",n),l.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||ms(t,!0)}function gg(t){for(qe=t.return;qe;)switch(qe.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qe=qe.return}}function ar(t){if(t!==qe)return!1;if(!Vt)return gg(t),Vt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Qf(t.type,t.memoizedProps)),s=!s),s&&Wt&&ms(t),gg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Wt=Py(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Wt=Py(t)}else n===27?(n=Wt,Ns(t.type)?(t=Jf,Jf=null,Wt=t):Wt=n):Wt=qe?jn(t.stateNode.nextSibling):null;return!0}function pa(){Wt=qe=null,Vt=!1}function Nh(){var t=ds;return t!==null&&(un===null?un=t:un.push.apply(un,t),ds=null),t}function Nl(t){ds===null?ds=[t]:ds.push(t)}var Ch=V(null),ya=null,Li=null;function gs(t,n,s){nt(Ch,n._currentValue),n._currentValue=s}function ki(t){t._currentValue=Ch.current,X(Ch)}function Ih(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Dh(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=c;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Ih(f.return,s,t),l||(g=null);break t}f=T.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Ih(g,s,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function rr(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=c.type;pn(c.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(c===Mt.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(eo):t=[eo])}c=c.return}t!==null&&Dh(n,t,s,l),n.flags|=262144}function _u(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function _a(t){ya=t,Li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return pg(ya,t)}function vu(t,n){return ya===null&&_a(t),pg(t,n)}function pg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Li===null){if(t===null)throw Error(a(308));Li=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Li=Li.next=n;return s}var aT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},rT=r.unstable_scheduleCallback,lT=r.unstable_NormalPriority,Se={$$typeof:St,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vh(){return{controller:new aT,data:new Map,refCount:0}}function Cl(t){t.refCount--,t.refCount===0&&rT(lT,function(){t.controller.abort()})}var Il=null,Mh=0,lr=0,or=null;function oT(t,n){if(Il===null){var s=Il=[];Mh=0,lr=Lf(),or={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Mh++,n.then(yg,yg),n}function yg(){if(--Mh===0&&Il!==null){or!==null&&(or.status="fulfilled");var t=Il;Il=null,lr=0,or=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function uT(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var _g=Q.S;Q.S=function(t,n){ey=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&oT(t,n),_g!==null&&_g(t,n)};var va=V(null);function Oh(){var t=va.current;return t!==null?t:Jt.pooledCache}function Eu(t,n){n===null?nt(va,va.current):nt(va,n.pool)}function vg(){var t=Oh();return t===null?null:{parent:Se._currentValue,pool:t}}var ur=Error(a(460)),jh=Error(a(474)),Tu=Error(a(542)),bu={then:function(){}};function Eg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Tg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Fn,Fn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Sg(t),t;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Sg(t),t}throw Ta=n,ur}}function Ea(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ta=s,ur):s}}var Ta=null;function bg(){if(Ta===null)throw Error(a(459));var t=Ta;return Ta=null,t}function Sg(t){if(t===ur||t===Tu)throw Error(a(483))}var cr=null,Dl=0;function Su(t){var n=Dl;return Dl+=1,cr===null&&(cr=[]),Tg(cr,t,n)}function Vl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Au(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ag(t){function n(j,I){if(t){var k=j.deletions;k===null?(j.deletions=[I],j.flags|=16):k.push(I)}}function s(j,I){if(!t)return null;for(;I!==null;)n(j,I),I=I.sibling;return null}function l(j){for(var I=new Map;j!==null;)j.key!==null?I.set(j.key,j):I.set(j.index,j),j=j.sibling;return I}function c(j,I){return j=ji(j,I),j.index=0,j.sibling=null,j}function f(j,I,k){return j.index=k,t?(k=j.alternate,k!==null?(k=k.index,k<I?(j.flags|=67108866,I):k):(j.flags|=67108866,I)):(j.flags|=1048576,I)}function g(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,I,k,Y){return I===null||I.tag!==6?(I=Sh(k,j.mode,Y),I.return=j,I):(I=c(I,k),I.return=j,I)}function R(j,I,k,Y){var ut=k.type;return ut===$?G(j,I,k.props.children,Y,k.key):I!==null&&(I.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===w&&Ea(ut)===I.type)?(I=c(I,k.props),Vl(I,k),I.return=j,I):(I=pu(k.type,k.key,k.props,null,j.mode,Y),Vl(I,k),I.return=j,I)}function z(j,I,k,Y){return I===null||I.tag!==4||I.stateNode.containerInfo!==k.containerInfo||I.stateNode.implementation!==k.implementation?(I=Ah(k,j.mode,Y),I.return=j,I):(I=c(I,k.children||[]),I.return=j,I)}function G(j,I,k,Y,ut){return I===null||I.tag!==7?(I=ga(k,j.mode,Y,ut),I.return=j,I):(I=c(I,k),I.return=j,I)}function K(j,I,k){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Sh(""+I,j.mode,k),I.return=j,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case H:return k=pu(I.type,I.key,I.props,null,j.mode,k),Vl(k,I),k.return=j,k;case F:return I=Ah(I,j.mode,k),I.return=j,I;case w:return I=Ea(I),K(j,I,k)}if(Ie(I)||U(I))return I=ga(I,j.mode,k,null),I.return=j,I;if(typeof I.then=="function")return K(j,Su(I),k);if(I.$$typeof===St)return K(j,vu(j,I),k);Au(j,I)}return null}function P(j,I,k,Y){var ut=I!==null?I.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ut!==null?null:T(j,I,""+k,Y);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case H:return k.key===ut?R(j,I,k,Y):null;case F:return k.key===ut?z(j,I,k,Y):null;case w:return k=Ea(k),P(j,I,k,Y)}if(Ie(k)||U(k))return ut!==null?null:G(j,I,k,Y,null);if(typeof k.then=="function")return P(j,I,Su(k),Y);if(k.$$typeof===St)return P(j,I,vu(j,k),Y);Au(j,k)}return null}function q(j,I,k,Y,ut){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return j=j.get(k)||null,T(I,j,""+Y,ut);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:return j=j.get(Y.key===null?k:Y.key)||null,R(I,j,Y,ut);case F:return j=j.get(Y.key===null?k:Y.key)||null,z(I,j,Y,ut);case w:return Y=Ea(Y),q(j,I,k,Y,ut)}if(Ie(Y)||U(Y))return j=j.get(k)||null,G(I,j,Y,ut,null);if(typeof Y.then=="function")return q(j,I,k,Su(Y),ut);if(Y.$$typeof===St)return q(j,I,k,vu(I,Y),ut);Au(I,Y)}return null}function rt(j,I,k,Y){for(var ut=null,Lt=null,ot=I,bt=I=0,Rt=null;ot!==null&&bt<k.length;bt++){ot.index>bt?(Rt=ot,ot=null):Rt=ot.sibling;var kt=P(j,ot,k[bt],Y);if(kt===null){ot===null&&(ot=Rt);break}t&&ot&&kt.alternate===null&&n(j,ot),I=f(kt,I,bt),Lt===null?ut=kt:Lt.sibling=kt,Lt=kt,ot=Rt}if(bt===k.length)return s(j,ot),Vt&&Ui(j,bt),ut;if(ot===null){for(;bt<k.length;bt++)ot=K(j,k[bt],Y),ot!==null&&(I=f(ot,I,bt),Lt===null?ut=ot:Lt.sibling=ot,Lt=ot);return Vt&&Ui(j,bt),ut}for(ot=l(ot);bt<k.length;bt++)Rt=q(ot,j,bt,k[bt],Y),Rt!==null&&(t&&Rt.alternate!==null&&ot.delete(Rt.key===null?bt:Rt.key),I=f(Rt,I,bt),Lt===null?ut=Rt:Lt.sibling=Rt,Lt=Rt);return t&&ot.forEach(function(Ms){return n(j,Ms)}),Vt&&Ui(j,bt),ut}function ft(j,I,k,Y){if(k==null)throw Error(a(151));for(var ut=null,Lt=null,ot=I,bt=I=0,Rt=null,kt=k.next();ot!==null&&!kt.done;bt++,kt=k.next()){ot.index>bt?(Rt=ot,ot=null):Rt=ot.sibling;var Ms=P(j,ot,kt.value,Y);if(Ms===null){ot===null&&(ot=Rt);break}t&&ot&&Ms.alternate===null&&n(j,ot),I=f(Ms,I,bt),Lt===null?ut=Ms:Lt.sibling=Ms,Lt=Ms,ot=Rt}if(kt.done)return s(j,ot),Vt&&Ui(j,bt),ut;if(ot===null){for(;!kt.done;bt++,kt=k.next())kt=K(j,kt.value,Y),kt!==null&&(I=f(kt,I,bt),Lt===null?ut=kt:Lt.sibling=kt,Lt=kt);return Vt&&Ui(j,bt),ut}for(ot=l(ot);!kt.done;bt++,kt=k.next())kt=q(ot,j,bt,kt.value,Y),kt!==null&&(t&&kt.alternate!==null&&ot.delete(kt.key===null?bt:kt.key),I=f(kt,I,bt),Lt===null?ut=kt:Lt.sibling=kt,Lt=kt);return t&&ot.forEach(function(Tb){return n(j,Tb)}),Vt&&Ui(j,bt),ut}function Zt(j,I,k,Y){if(typeof k=="object"&&k!==null&&k.type===$&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case H:t:{for(var ut=k.key;I!==null;){if(I.key===ut){if(ut=k.type,ut===$){if(I.tag===7){s(j,I.sibling),Y=c(I,k.props.children),Y.return=j,j=Y;break t}}else if(I.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===w&&Ea(ut)===I.type){s(j,I.sibling),Y=c(I,k.props),Vl(Y,k),Y.return=j,j=Y;break t}s(j,I);break}else n(j,I);I=I.sibling}k.type===$?(Y=ga(k.props.children,j.mode,Y,k.key),Y.return=j,j=Y):(Y=pu(k.type,k.key,k.props,null,j.mode,Y),Vl(Y,k),Y.return=j,j=Y)}return g(j);case F:t:{for(ut=k.key;I!==null;){if(I.key===ut)if(I.tag===4&&I.stateNode.containerInfo===k.containerInfo&&I.stateNode.implementation===k.implementation){s(j,I.sibling),Y=c(I,k.children||[]),Y.return=j,j=Y;break t}else{s(j,I);break}else n(j,I);I=I.sibling}Y=Ah(k,j.mode,Y),Y.return=j,j=Y}return g(j);case w:return k=Ea(k),Zt(j,I,k,Y)}if(Ie(k))return rt(j,I,k,Y);if(U(k)){if(ut=U(k),typeof ut!="function")throw Error(a(150));return k=ut.call(k),ft(j,I,k,Y)}if(typeof k.then=="function")return Zt(j,I,Su(k),Y);if(k.$$typeof===St)return Zt(j,I,vu(j,k),Y);Au(j,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,I!==null&&I.tag===6?(s(j,I.sibling),Y=c(I,k),Y.return=j,j=Y):(s(j,I),Y=Sh(k,j.mode,Y),Y.return=j,j=Y),g(j)):s(j,I)}return function(j,I,k,Y){try{Dl=0;var ut=Zt(j,I,k,Y);return cr=null,ut}catch(ot){if(ot===ur||ot===Tu)throw ot;var Lt=yn(29,ot,null,j.mode);return Lt.lanes=Y,Lt.return=j,Lt}}}var ba=Ag(!0),wg=Ag(!1),ps=!1;function Uh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ys(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _s(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Pt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=gu(t),og(t,null,s),n}return mu(t,l,n,s),gu(t)}function Ml(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,rl(t,s)}}function kh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var zh=!1;function Ol(){if(zh){var t=or;if(t!==null)throw t}}function jl(t,n,s,l){zh=!1;var c=t.updateQueue;ps=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var R=T,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==g&&(T===null?G.firstBaseUpdate=z:T.next=z,G.lastBaseUpdate=R))}if(f!==null){var K=c.baseState;g=0,G=z=R=null,T=f;do{var P=T.lane&-536870913,q=P!==T.lane;if(q?(xt&P)===P:(l&P)===P){P!==0&&P===lr&&(zh=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var rt=t,ft=T;P=n;var Zt=s;switch(ft.tag){case 1:if(rt=ft.payload,typeof rt=="function"){K=rt.call(Zt,K,P);break t}K=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ft.payload,P=typeof rt=="function"?rt.call(Zt,K,P):rt,P==null)break t;K=A({},K,P);break t;case 2:ps=!0}}P=T.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[P]:q.push(P))}else q={lane:P,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(z=G=q,R=K):G=G.next=q,g|=P;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;q=T,T=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);G===null&&(R=K),c.baseState=R,c.firstBaseUpdate=z,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),Ss|=g,t.lanes=g,t.memoizedState=K}}function xg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Rg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)xg(s[t],n)}var hr=V(null),wu=V(0);function Ng(t,n){t=Yi,nt(wu,t),nt(hr,n),Yi=t|n.baseLanes}function Ph(){nt(wu,Yi),nt(hr,hr.current)}function Bh(){Yi=wu.current,X(hr),X(wu)}var _n=V(null),On=null;function vs(t){var n=t.alternate;nt(me,me.current&1),nt(_n,t),On===null&&(n===null||hr.current!==null||n.memoizedState!==null)&&(On=t)}function qh(t){nt(me,me.current),nt(_n,t),On===null&&(On=t)}function Cg(t){t.tag===22?(nt(me,me.current),nt(_n,t),On===null&&(On=t)):Es()}function Es(){nt(me,me.current),nt(_n,_n.current)}function vn(t){X(_n),On===t&&(On=null),X(me)}var me=V(0);function xu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Xf(s)||Zf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,Et=null,Kt=null,Ae=null,Ru=!1,fr=!1,Sa=!1,Nu=0,Ul=0,dr=null,cT=0;function ce(){throw Error(a(321))}function Hh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!pn(t[s],n[s]))return!1;return!0}function Fh(t,n,s,l,c,f){return zi=f,Et=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?fp:rf,Sa=!1,f=s(l,c),Sa=!1,fr&&(f=Dg(n,s,l,c)),Ig(t),f}function Ig(t){Q.H=zl;var n=Kt!==null&&Kt.next!==null;if(zi=0,Ae=Kt=Et=null,Ru=!1,Ul=0,dr=null,n)throw Error(a(300));t===null||we||(t=t.dependencies,t!==null&&_u(t)&&(we=!0))}function Dg(t,n,s,l){Et=t;var c=0;do{if(fr&&(dr=null),Ul=0,fr=!1,25<=c)throw Error(a(301));if(c+=1,Ae=Kt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=dp,f=n(s,l)}while(fr);return f}function hT(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?Ll(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(Et.flags|=1024),n}function Gh(){var t=Nu!==0;return Nu=0,t}function Qh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Yh(t){if(Ru){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ru=!1}zi=0,Ae=Kt=Et=null,fr=!1,Ul=Nu=0,dr=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Et.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function ge(){if(Kt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=Ae===null?Et.memoizedState:Ae.next;if(n!==null)Ae=n,Kt=t;else{if(t===null)throw Et.alternate===null?Error(a(467)):Error(a(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Ae===null?Et.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function Cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(t){var n=Ul;return Ul+=1,dr===null&&(dr=[]),t=Tg(dr,t,n),n=Et,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?fp:rf),t}function Iu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ll(t);if(t.$$typeof===St)return He(t)}throw Error(a(438,String(t)))}function Kh(t){var n=null,s=Et.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Et.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Cu(),Et.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=O;return n.index++,s}function Pi(t,n){return typeof n=="function"?n(t):n}function Du(t){var n=ge();return Xh(n,Kt,t)}function Xh(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var T=g=null,R=null,z=n,G=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(xt&K)===K:(zi&K)===K){var P=z.revertLane;if(P===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===lr&&(G=!0);else if((zi&P)===P){z=z.next,P===lr&&(G=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=K,g=f):R=R.next=K,Et.lanes|=P,Ss|=P;K=z.action,Sa&&s(f,K),f=z.hasEagerState?z.eagerState:s(f,K)}else P={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=P,g=f):R=R.next=P,Et.lanes|=K,Ss|=K;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=T,!pn(f,t.memoizedState)&&(we=!0,G&&(s=or,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Zh(t){var n=ge(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);pn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Vg(t,n,s){var l=Et,c=ge(),f=Vt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!pn((Kt||c).memoizedState,s);if(g&&(c.memoizedState=s,we=!0),c=c.queue,Wh(jg.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,mr(9,{destroy:void 0},Og.bind(null,l,c,s,n),null),Jt===null)throw Error(a(349));f||(zi&127)!==0||Mg(l,n,s)}return s}function Mg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Et.updateQueue,n===null?(n=Cu(),Et.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Og(t,n,s,l){n.value=s,n.getSnapshot=l,Ug(n)&&Lg(t)}function jg(t,n,s){return s(function(){Ug(n)&&Lg(t)})}function Ug(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!pn(t,s)}catch{return!0}}function Lg(t){var n=ma(t,2);n!==null&&cn(n,t,2)}function Jh(t){var n=tn();if(typeof t=="function"){var s=t;if(t=s(),Sa){An(!0);try{s()}finally{An(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},n}function kg(t,n,s,l){return t.baseState=s,Xh(t,Kt,typeof l=="function"?l:Pi)}function fT(t,n,s,l,c){if(Ou(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};Q.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,zg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function zg(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=Q.T,g={};Q.T=g;try{var T=s(c,l),R=Q.S;R!==null&&R(g,T),Pg(t,n,T)}catch(z){$h(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),Q.T=f}}else try{f=s(c,l),Pg(t,n,f)}catch(z){$h(t,n,z)}}function Pg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Bg(t,n,l)},function(l){return $h(t,n,l)}):Bg(t,n,s)}function Bg(t,n,s){n.status="fulfilled",n.value=s,qg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,zg(t,s)))}function $h(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,qg(n),n=n.next;while(n!==l)}t.action=null}function qg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Hg(t,n){return n}function Fg(t,n){if(Vt){var s=Jt.formState;if(s!==null){t:{var l=Et;if(Vt){if(Wt){e:{for(var c=Wt,f=Mn;c.nodeType!==8;){if(!f){c=null;break e}if(c=jn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Wt=jn(c.nextSibling),l=c.data==="F!";break t}}ms(l)}l=!1}l&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hg,lastRenderedState:n},s.queue=l,s=up.bind(null,Et,l),l.dispatch=s,l=Jh(!1),f=af.bind(null,Et,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=fT.bind(null,Et,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function Gg(t){var n=ge();return Qg(n,Kt,t)}function Qg(t,n,s){if(n=Xh(t,n,Hg)[0],t=Du(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ll(n)}catch(g){throw g===ur?Tu:g}else l=n;n=ge();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Et.flags|=2048,mr(9,{destroy:void 0},dT.bind(null,c,s),null)),[l,f,t]}function dT(t,n){t.action=n}function Yg(t){var n=ge(),s=Kt;if(s!==null)return Qg(n,s,t);ge(),n=n.memoizedState,s=ge();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function mr(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Et.updateQueue,n===null&&(n=Cu(),Et.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function Kg(){return ge().memoizedState}function Vu(t,n,s,l){var c=tn();Et.flags|=t,c.memoizedState=mr(1|n,{destroy:void 0},s,l===void 0?null:l)}function Mu(t,n,s,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Kt!==null&&l!==null&&Hh(l,Kt.memoizedState.deps)?c.memoizedState=mr(n,f,s,l):(Et.flags|=t,c.memoizedState=mr(1|n,f,s,l))}function Xg(t,n){Vu(8390656,8,t,n)}function Wh(t,n){Mu(2048,8,t,n)}function mT(t){Et.flags|=4;var n=Et.updateQueue;if(n===null)n=Cu(),Et.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Zg(t){var n=ge().memoizedState;return mT({ref:n,nextImpl:t}),function(){if((Pt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Jg(t,n){return Mu(4,2,t,n)}function $g(t,n){return Mu(4,4,t,n)}function Wg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function tp(t,n,s){s=s!=null?s.concat([t]):null,Mu(4,4,Wg.bind(null,n,t),s)}function tf(){}function ep(t,n){var s=ge();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Hh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function np(t,n){var s=ge();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Hh(n,l[1]))return l[0];if(l=t(),Sa){An(!0);try{t()}finally{An(!1)}}return s.memoizedState=[l,n],l}function ef(t,n,s){return s===void 0||(zi&1073741824)!==0&&(xt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=iy(),Et.lanes|=t,Ss|=t,s)}function ip(t,n,s,l){return pn(s,n)?s:hr.current!==null?(t=ef(t,s,l),pn(t,n)||(we=!0),t):(zi&42)===0||(zi&1073741824)!==0&&(xt&261930)===0?(we=!0,t.memoizedState=s):(t=iy(),Et.lanes|=t,Ss|=t,n)}function sp(t,n,s,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var g=Q.T,T={};Q.T=T,af(t,!1,n,s);try{var R=c(),z=Q.S;if(z!==null&&z(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=uT(R,l);kl(t,n,G,bn(t))}else kl(t,n,l,bn(t))}catch(K){kl(t,n,{then:function(){},status:"rejected",reason:K},bn())}finally{et.p=f,g!==null&&T.types!==null&&(g.types=T.types),Q.T=g}}function gT(){}function nf(t,n,s,l){if(t.tag!==5)throw Error(a(476));var c=ap(t).queue;sp(t,c,n,ht,s===null?gT:function(){return rp(t),s(l)})}function ap(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function rp(t){var n=ap(t);n.next===null&&(n=t.alternate.memoizedState),kl(t,n.next.queue,{},bn())}function sf(){return He(eo)}function lp(){return ge().memoizedState}function op(){return ge().memoizedState}function pT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=bn();t=ys(s);var l=_s(n,t,s);l!==null&&(cn(l,n,s),Ml(l,n,s)),n={cache:Vh()},t.payload=n;return}n=n.return}}function yT(t,n,s){var l=bn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ou(t)?cp(n,s):(s=Th(t,n,s,l),s!==null&&(cn(s,t,l),hp(s,n,l)))}function up(t,n,s){var l=bn();kl(t,n,s,l)}function kl(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ou(t))cp(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(c.hasEagerState=!0,c.eagerState=T,pn(T,g))return mu(t,n,c,0),Jt===null&&du(),!1}catch{}if(s=Th(t,n,c,l),s!==null)return cn(s,t,l),hp(s,n,l),!0}return!1}function af(t,n,s,l){if(l={lane:2,revertLane:Lf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ou(t)){if(n)throw Error(a(479))}else n=Th(t,s,l,2),n!==null&&cn(n,t,2)}function Ou(t){var n=t.alternate;return t===Et||n!==null&&n===Et}function cp(t,n){fr=Ru=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function hp(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,rl(t,s)}}var zl={readContext:He,use:Iu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};zl.useEffectEvent=ce;var fp={readContext:He,use:Iu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:Xg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Vu(4194308,4,Wg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Vu(4194308,4,t,n)},useInsertionEffect:function(t,n){Vu(4,2,t,n)},useMemo:function(t,n){var s=tn();n=n===void 0?null:n;var l=t();if(Sa){An(!0);try{t()}finally{An(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=tn();if(s!==void 0){var c=s(n);if(Sa){An(!0);try{s(n)}finally{An(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=yT.bind(null,Et,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Jh(t);var n=t.queue,s=up.bind(null,Et,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:tf,useDeferredValue:function(t,n){var s=tn();return ef(s,t,n)},useTransition:function(){var t=Jh(!1);return t=sp.bind(null,Et,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Et,c=tn();if(Vt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Jt===null)throw Error(a(349));(xt&127)!==0||Mg(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Xg(jg.bind(null,l,f,t),[t]),l.flags|=2048,mr(9,{destroy:void 0},Og.bind(null,l,f,s,n),null),s},useId:function(){var t=tn(),n=Jt.identifierPrefix;if(Vt){var s=Si,l=bi;s=(l&~(1<<32-fe(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Nu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=cT++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:sf,useFormState:Fg,useActionState:Fg,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=af.bind(null,Et,!0,s),s.dispatch=n,[t,n]},useMemoCache:Kh,useCacheRefresh:function(){return tn().memoizedState=pT.bind(null,Et)},useEffectEvent:function(t){var n=tn(),s={impl:t};return n.memoizedState=s,function(){if((Pt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},rf={readContext:He,use:Iu,useCallback:ep,useContext:He,useEffect:Wh,useImperativeHandle:tp,useInsertionEffect:Jg,useLayoutEffect:$g,useMemo:np,useReducer:Du,useRef:Kg,useState:function(){return Du(Pi)},useDebugValue:tf,useDeferredValue:function(t,n){var s=ge();return ip(s,Kt.memoizedState,t,n)},useTransition:function(){var t=Du(Pi)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:Ll(t),n]},useSyncExternalStore:Vg,useId:lp,useHostTransitionStatus:sf,useFormState:Gg,useActionState:Gg,useOptimistic:function(t,n){var s=ge();return kg(s,Kt,t,n)},useMemoCache:Kh,useCacheRefresh:op};rf.useEffectEvent=Zg;var dp={readContext:He,use:Iu,useCallback:ep,useContext:He,useEffect:Wh,useImperativeHandle:tp,useInsertionEffect:Jg,useLayoutEffect:$g,useMemo:np,useReducer:Zh,useRef:Kg,useState:function(){return Zh(Pi)},useDebugValue:tf,useDeferredValue:function(t,n){var s=ge();return Kt===null?ef(s,t,n):ip(s,Kt.memoizedState,t,n)},useTransition:function(){var t=Zh(Pi)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:Ll(t),n]},useSyncExternalStore:Vg,useId:lp,useHostTransitionStatus:sf,useFormState:Yg,useActionState:Yg,useOptimistic:function(t,n){var s=ge();return Kt!==null?kg(s,Kt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Kh,useCacheRefresh:op};dp.useEffectEvent=Zg;function lf(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var of={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=bn(),c=ys(l);c.payload=n,s!=null&&(c.callback=s),n=_s(t,c,l),n!==null&&(cn(n,t,l),Ml(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=bn(),c=ys(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=_s(t,c,l),n!==null&&(cn(n,t,l),Ml(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=bn(),l=ys(s);l.tag=2,n!=null&&(l.callback=n),n=_s(t,l,s),n!==null&&(cn(n,t,s),Ml(n,t,s))}};function mp(t,n,s,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!wl(s,l)||!wl(c,f):!0}function gp(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&of.enqueueReplaceState(n,n.state,null)}function Aa(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function pp(t){fu(t)}function yp(t){console.error(t)}function _p(t){fu(t)}function ju(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function vp(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function uf(t,n,s){return s=ys(s),s.tag=3,s.payload={element:null},s.callback=function(){ju(t,n)},s}function Ep(t){return t=ys(t),t.tag=3,t}function Tp(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){vp(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){vp(n,s,l),typeof c!="function"&&(As===null?As=new Set([this]):As.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function _T(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&rr(n,s,c,!0),s=_n.current,s!==null){switch(s.tag){case 31:case 13:return On===null?Yu():s.alternate===null&&he===0&&(he=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===bu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Of(t,l,c)),!1;case 22:return s.flags|=65536,l===bu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Of(t,l,c)),!1}throw Error(a(435,s.tag))}return Of(t,l,c),Yu(),!1}if(Vt)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Rh&&(t=Error(a(422),{cause:l}),Nl(In(t,s)))):(l!==Rh&&(n=Error(a(423),{cause:l}),Nl(In(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=In(l,s),c=uf(t.stateNode,l,c),kh(t,c),he!==4&&(he=2)),!1;var f=Error(a(520),{cause:l});if(f=In(f,s),Yl===null?Yl=[f]:Yl.push(f),he!==4&&(he=2),n===null)return!0;l=In(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=uf(s.stateNode,l,t),kh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(As===null||!As.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Ep(c),Tp(c,t,s,l),kh(s,c),!1}s=s.return}while(s!==null);return!1}var cf=Error(a(461)),we=!1;function Fe(t,n,s,l){n.child=t===null?wg(n,null,s,l):ba(n,t.child,s,l)}function bp(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return _a(n),l=Fh(t,n,s,g,f,c),T=Gh(),t!==null&&!we?(Qh(t,n,c),Bi(t,n,c)):(Vt&&T&&wh(n),n.flags|=1,Fe(t,n,l,c),n.child)}function Sp(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!bh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Ap(t,n,f,l,c)):(t=pu(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!_f(t,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:wl,s(g,l)&&t.ref===n.ref)return Bi(t,n,c)}return n.flags|=1,t=ji(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ap(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(wl(f,l)&&t.ref===n.ref)if(we=!1,n.pendingProps=l=f,_f(t,c))(t.flags&131072)!==0&&(we=!0);else return n.lanes=t.lanes,Bi(t,n,c)}return hf(t,n,s,l,c)}function wp(t,n,s,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return xp(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Eu(n,f!==null?f.cachePool:null),f!==null?Ng(n,f):Ph(),Cg(n);else return l=n.lanes=536870912,xp(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Eu(n,f.cachePool),Ng(n,f),Es(),n.memoizedState=null):(t!==null&&Eu(n,null),Ph(),Es());return Fe(t,n,c,s),n.child}function Pl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function xp(t,n,s,l,c){var f=Oh();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Eu(n,null),Ph(),Cg(n),t!==null&&rr(t,n,l,!0),n.childLanes=c,null}function Uu(t,n){return n=ku({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Rp(t,n,s){return ba(n,t.child,null,s),t=Uu(n,n.pendingProps),t.flags|=2,vn(n),n.memoizedState=null,t}function vT(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Vt){if(l.mode==="hidden")return t=Uu(n,l),n.lanes=536870912,Pl(null,t);if(qh(n),(t=Wt)?(t=zy(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:fs!==null?{id:bi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},s=cg(t),s.return=n,n.child=s,qe=n,Wt=null)):t=null,t===null)throw ms(n);return n.lanes=536870912,null}return Uu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(qh(n),c)if(n.flags&256)n.flags&=-257,n=Rp(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(we||rr(t,n,s,!1),c=(s&t.childLanes)!==0,we||c){if(l=Jt,l!==null&&(g=ll(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,ma(t,g),cn(l,t,g),cf;Yu(),n=Rp(t,n,s)}else t=f.treeContext,Wt=jn(g.nextSibling),qe=n,Vt=!0,ds=null,Mn=!1,t!==null&&dg(n,t),n=Uu(n,l),n.flags|=4096;return n}return t=ji(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Lu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function hf(t,n,s,l,c){return _a(n),s=Fh(t,n,s,l,void 0,c),l=Gh(),t!==null&&!we?(Qh(t,n,c),Bi(t,n,c)):(Vt&&l&&wh(n),n.flags|=1,Fe(t,n,s,c),n.child)}function Np(t,n,s,l,c,f){return _a(n),n.updateQueue=null,s=Dg(n,l,s,c),Ig(t),l=Gh(),t!==null&&!we?(Qh(t,n,f),Bi(t,n,f)):(Vt&&l&&wh(n),n.flags|=1,Fe(t,n,s,f),n.child)}function Cp(t,n,s,l,c){if(_a(n),n.stateNode===null){var f=nr,g=s.contextType;typeof g=="object"&&g!==null&&(f=He(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Uh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?He(g):nr,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(lf(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&of.enqueueReplaceState(f,f.state,null),jl(n,l,f,c),Ol(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,R=Aa(s,T);f.props=R;var z=f.context,G=s.contextType;g=nr,typeof G=="object"&&G!==null&&(g=He(G));var K=s.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==g)&&gp(n,f,l,g),ps=!1;var P=n.memoizedState;f.state=P,jl(n,l,f,c),Ol(),z=n.memoizedState,T||P!==z||ps?(typeof K=="function"&&(lf(n,s,K,l),z=n.memoizedState),(R=ps||mp(n,s,R,l,P,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Lh(t,n),g=n.memoizedProps,G=Aa(s,g),f.props=G,K=n.pendingProps,P=f.context,z=s.contextType,R=nr,typeof z=="object"&&z!==null&&(R=He(z)),T=s.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||P!==R)&&gp(n,f,l,R),ps=!1,P=n.memoizedState,f.state=P,jl(n,l,f,c),Ol();var q=n.memoizedState;g!==K||P!==q||ps||t!==null&&t.dependencies!==null&&_u(t.dependencies)?(typeof T=="function"&&(lf(n,s,T,l),q=n.memoizedState),(G=ps||mp(n,s,G,l,P,q,R)||t!==null&&t.dependencies!==null&&_u(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Lu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ba(n,t.child,null,c),n.child=ba(n,null,s,c)):Fe(t,n,s,c),n.memoizedState=f.state,t=n.child):t=Bi(t,n,c),t}function Ip(t,n,s,l){return pa(),n.flags|=256,Fe(t,n,s,l),n.child}var ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function df(t){return{baseLanes:t,cachePool:vg()}}function mf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Tn),t}function Dp(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(me.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Vt){if(c?vs(n):Es(),(t=Wt)?(t=zy(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:fs!==null?{id:bi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},s=cg(t),s.return=n,n.child=s,qe=n,Wt=null)):t=null,t===null)throw ms(n);return Zf(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,c?(Es(),c=n.mode,T=ku({mode:"hidden",children:T},c),l=ga(l,c,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=df(s),l.childLanes=mf(t,g,s),n.memoizedState=ff,Pl(null,l)):(vs(n),gf(n,T))}var R=t.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(vs(n),n.flags&=-257,n=pf(t,n,s)):n.memoizedState!==null?(Es(),n.child=t.child,n.flags|=128,n=null):(Es(),T=l.fallback,c=n.mode,l=ku({mode:"visible",children:l.children},c),T=ga(T,c,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,ba(n,t.child,null,s),l=n.child,l.memoizedState=df(s),l.childLanes=mf(t,g,s),n.memoizedState=ff,n=Pl(null,l));else if(vs(n),Zf(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(a(419)),l.stack="",l.digest=g,Nl({value:l,source:null,stack:null}),n=pf(t,n,s)}else if(we||rr(t,n,s,!1),g=(s&t.childLanes)!==0,we||g){if(g=Jt,g!==null&&(l=ll(g,s),l!==0&&l!==R.retryLane))throw R.retryLane=l,ma(t,l),cn(g,t,l),cf;Xf(T)||Yu(),n=pf(t,n,s)}else Xf(T)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,Wt=jn(T.nextSibling),qe=n,Vt=!0,ds=null,Mn=!1,t!==null&&dg(n,t),n=gf(n,l.children),n.flags|=4096);return n}return c?(Es(),T=l.fallback,c=n.mode,R=t.child,z=R.sibling,l=ji(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?T=ji(z,T):(T=ga(T,c,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Pl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=df(s):(c=T.cachePool,c!==null?(R=Se._currentValue,c=c.parent!==R?{parent:R,pool:R}:c):c=vg(),T={baseLanes:T.baseLanes|s,cachePool:c}),l.memoizedState=T,l.childLanes=mf(t,g,s),n.memoizedState=ff,Pl(t.child,l)):(vs(n),s=t.child,t=s.sibling,s=ji(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function gf(t,n){return n=ku({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ku(t,n){return t=yn(22,t,null,n),t.lanes=0,t}function pf(t,n,s){return ba(n,t.child,null,s),t=gf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Vp(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Ih(t.return,n,s)}function yf(t,n,s,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function Mp(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=me.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,nt(me,g),Fe(t,n,l,s),l=Vt?Rl:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vp(t,s,n);else if(t.tag===19)Vp(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&xu(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),yf(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&xu(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}yf(n,!0,s,null,f,l);break;case"together":yf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Bi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ss|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(rr(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=ji(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ji(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function _f(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&_u(t)))}function ET(t,n,s){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),gs(n,Se,t.memoizedState.cache),pa();break;case 27:case 5:Zs(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:gs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,qh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(vs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Dp(t,n,s):(vs(n),t=Bi(t,n,s),t!==null?t.sibling:null);vs(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(rr(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Mp(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(me,me.current),l)break;return null;case 22:return n.lanes=0,wp(t,n,s,n.pendingProps);case 24:gs(n,Se,t.memoizedState.cache)}return Bi(t,n,s)}function Op(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)we=!0;else{if(!_f(t,s)&&(n.flags&128)===0)return we=!1,ET(t,n,s);we=(t.flags&131072)!==0}else we=!1,Vt&&(n.flags&1048576)!==0&&fg(n,Rl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=Ea(n.elementType),n.type=t,typeof t=="function")bh(t)?(l=Aa(t,l),n.tag=1,n=Cp(null,n,t,l,s)):(n.tag=0,n=hf(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===ie){n.tag=11,n=bp(null,n,t,l,s);break t}else if(c===C){n.tag=14,n=Sp(null,n,t,l,s);break t}}throw n=se(t)||t,Error(a(306,n,""))}}return n;case 0:return hf(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=Aa(l,n.pendingProps),Cp(t,n,l,c,s);case 3:t:{if(De(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Lh(t,n),jl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,gs(n,Se,l),l!==f.cache&&Dh(n,[Se],s,!0),Ol(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ip(t,n,l,s);break t}else if(l!==c){c=In(Error(a(424)),n),Nl(c),n=Ip(t,n,l,s);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Wt=jn(t.firstChild),qe=n,Vt=!0,ds=null,Mn=!0,s=wg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(pa(),l===c){n=Bi(t,n,s);break t}Fe(t,n,l,s)}n=n.child}return n;case 26:return Lu(t,n),t===null?(s=Gy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Vt||(s=n.type,t=n.pendingProps,l=tc(Tt.current).createElement(s),l[Ee]=n,l[Ue]=t,Ge(l,s,t),Te(l),n.stateNode=l):n.memoizedState=Gy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Zs(n),t===null&&Vt&&(l=n.stateNode=qy(n.type,n.pendingProps,Tt.current),qe=n,Mn=!0,c=Wt,Ns(n.type)?(Jf=c,Wt=jn(l.firstChild)):Wt=c),Fe(t,n,n.pendingProps.children,s),Lu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Vt&&((c=l=Wt)&&(l=ZT(l,n.type,n.pendingProps,Mn),l!==null?(n.stateNode=l,qe=n,Wt=jn(l.firstChild),Mn=!1,c=!0):c=!1),c||ms(n)),Zs(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Qf(c,f)?l=null:g!==null&&Qf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Fh(t,n,hT,null,null,s),eo._currentValue=c),Lu(t,n),Fe(t,n,l,s),n.child;case 6:return t===null&&Vt&&((t=s=Wt)&&(s=JT(s,n.pendingProps,Mn),s!==null?(n.stateNode=s,qe=n,Wt=null,t=!0):t=!1),t||ms(n)),null;case 13:return Dp(t,n,s);case 4:return De(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ba(n,null,l,s):Fe(t,n,l,s),n.child;case 11:return bp(t,n,n.type,n.pendingProps,s);case 7:return Fe(t,n,n.pendingProps,s),n.child;case 8:return Fe(t,n,n.pendingProps.children,s),n.child;case 12:return Fe(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,gs(n,n.type,l.value),Fe(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,_a(n),c=He(c),l=l(c),n.flags|=1,Fe(t,n,l,s),n.child;case 14:return Sp(t,n,n.type,n.pendingProps,s);case 15:return Ap(t,n,n.type,n.pendingProps,s);case 19:return Mp(t,n,s);case 31:return vT(t,n,s);case 22:return wp(t,n,s,n.pendingProps);case 24:return _a(n),l=He(Se),t===null?(c=Oh(),c===null&&(c=Jt,f=Vh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},Uh(n),gs(n,Se,c)):((t.lanes&s)!==0&&(Lh(t,n),jl(n,null,null,s),Ol()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),gs(n,Se,l)):(l=f.cache,gs(n,Se,l),l!==c.cache&&Dh(n,[Se],s,!0))),Fe(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function qi(t){t.flags|=4}function vf(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(ly())t.flags|=8192;else throw Ta=bu,jh}else t.flags&=-16777217}function jp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Zy(n))if(ly())t.flags|=8192;else throw Ta=bu,jh}function zu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Go():536870912,t.lanes|=n,_r|=n)}function Bl(t,n){if(!Vt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function TT(t,n,s){var l=n.pendingProps;switch(xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ki(Se),ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ar(n)?qi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Nh())),te(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(qi(n),f!==null?(te(n),jp(n,f)):(te(n),vf(n,c,null,l,s))):f?f!==t.memoizedState?(qi(n),te(n),jp(n,f)):(te(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&qi(n),te(n),vf(n,c,t,l,s)),null;case 27:if(La(n),s=Tt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return te(n),null}t=at.current,ar(n)?mg(n):(t=qy(c,l,s),n.stateNode=t,qi(n))}return te(n),null;case 5:if(La(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return te(n),null}if(f=at.current,ar(n))mg(n);else{var g=tc(Tt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[Ee]=n,f[Ue]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ge(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&qi(n)}}return te(n),vf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&qi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Tt.current,ar(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=qe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ee]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Dy(t.nodeValue,s)),t||ms(n,!0)}else t=tc(t).createTextNode(l),t[Ee]=n,n.stateNode=t}return te(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=ar(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Ee]=n}else pa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),t=!1}else s=Nh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ar(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Ee]=n}else pa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),c=!1}else c=Nh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),zu(n,n.updateQueue),te(n),null);case 4:return ae(),t===null&&Bf(n.stateNode.containerInfo),te(n),null;case 10:return ki(n.type),te(n),null;case 19:if(X(me),l=n.memoizedState,l===null)return te(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Bl(l,!1);else{if(he!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=xu(t),f!==null){for(n.flags|=128,Bl(l,!1),t=f.updateQueue,n.updateQueue=t,zu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)ug(s,t),s=s.sibling;return nt(me,me.current&1|2),Vt&&Ui(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&$e()>Fu&&(n.flags|=128,c=!0,Bl(l,!1),n.lanes=4194304)}else{if(!c)if(t=xu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,zu(n,t),Bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Vt)return te(n),null}else 2*$e()-l.renderingStartTime>Fu&&s!==536870912&&(n.flags|=128,c=!0,Bl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=$e(),t.sibling=null,s=me.current,nt(me,c?s&1|2:s&1),Vt&&Ui(n,l.treeForkCount),t):(te(n),null);case 22:case 23:return vn(n),Bh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),s=n.updateQueue,s!==null&&zu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&X(va),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ki(Se),te(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function bT(t,n){switch(xh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ki(Se),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return La(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(a(340));pa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(vn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));pa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(me),null;case 4:return ae(),null;case 10:return ki(n.type),null;case 22:case 23:return vn(n),Bh(),t!==null&&X(va),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ki(Se),null;case 25:return null;default:return null}}function Up(t,n){switch(xh(n),n.tag){case 3:ki(Se),ae();break;case 26:case 27:case 5:La(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:X(me);break;case 10:ki(n.type);break;case 22:case 23:vn(n),Bh(),t!==null&&X(va);break;case 24:ki(Se)}}function ql(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==c)}}catch(T){Qt(n,n.return,T)}}function Ts(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,c=n;var R=s,z=T;try{z()}catch(G){Qt(c,R,G)}}}l=l.next}while(l!==f)}}catch(G){Qt(n,n.return,G)}}function Lp(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Rg(n,s)}catch(l){Qt(t,t.return,l)}}}function kp(t,n,s){s.props=Aa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Qt(t,n,l)}}function Hl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){Qt(t,n,c)}}function Ai(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Qt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Qt(t,n,c)}else s.current=null}function zp(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Qt(t,t.return,c)}}function Ef(t,n,s){try{var l=t.stateNode;FT(l,t.type,s,n),l[Ue]=n}catch(c){Qt(t,t.return,c)}}function Pp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ns(t.type)||t.tag===4}function Tf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Pp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ns(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Fn));else if(l!==4&&(l===27&&Ns(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(bf(t,n,s),t=t.sibling;t!==null;)bf(t,n,s),t=t.sibling}function Pu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Ns(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Pu(t,n,s),t=t.sibling;t!==null;)Pu(t,n,s),t=t.sibling}function Bp(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ge(n,l,s),n[Ee]=t,n[Ue]=s}catch(f){Qt(t,t.return,f)}}var Hi=!1,xe=!1,Sf=!1,qp=typeof WeakSet=="function"?WeakSet:Set,ke=null;function ST(t,n){if(t=t.containerInfo,Ff=lc,t=tg(t),gh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,T=-1,R=-1,z=0,G=0,K=t,P=null;e:for(;;){for(var q;K!==s||c!==0&&K.nodeType!==3||(T=g+c),K!==f||l!==0&&K.nodeType!==3||(R=g+l),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)P=K,K=q;for(;;){if(K===t)break e;if(P===s&&++z===c&&(T=g),P===f&&++G===l&&(R=g),(q=K.nextSibling)!==null)break;K=P,P=K.parentNode}K=q}s=T===-1||R===-1?null:{start:T,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Gf={focusedElem:t,selectionRange:s},lc=!1,ke=n;ke!==null;)if(n=ke,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ke=t;else for(;ke!==null;){switch(n=ke,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var rt=Aa(s.type,c);t=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Qt(s,s.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Kf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,ke=t;break}ke=n.return}}function Hp(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Gi(t,s),l&4&&ql(5,s);break;case 1:if(Gi(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){Qt(s,s.return,g)}else{var c=Aa(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(s,s.return,g)}}l&64&&Lp(s),l&512&&Hl(s,s.return);break;case 3:if(Gi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Rg(t,n)}catch(g){Qt(s,s.return,g)}}break;case 27:n===null&&l&4&&Bp(s);case 26:case 5:Gi(t,s),n===null&&l&4&&zp(s),l&512&&Hl(s,s.return);break;case 12:Gi(t,s);break;case 31:Gi(t,s),l&4&&Qp(t,s);break;case 13:Gi(t,s),l&4&&Yp(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=VT.bind(null,s),$T(t,s))));break;case 22:if(l=s.memoizedState!==null||Hi,!l){n=n!==null&&n.memoizedState!==null||xe,c=Hi;var f=xe;Hi=l,(xe=n)&&!f?Qi(t,s,(s.subtreeFlags&8772)!==0):Gi(t,s),Hi=c,xe=f}break;case 30:break;default:Gi(t,s)}}function Fp(t){var n=t.alternate;n!==null&&(t.alternate=null,Fp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&qa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,rn=!1;function Fi(t,n,s){for(s=s.child;s!==null;)Gp(t,n,s),s=s.sibling}function Gp(t,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Pn,s)}catch{}switch(s.tag){case 26:xe||Ai(s,n),Fi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:xe||Ai(s,n);var l=le,c=rn;Ns(s.type)&&(le=s.stateNode,rn=!1),Fi(t,n,s),$l(s.stateNode),le=l,rn=c;break;case 5:xe||Ai(s,n);case 6:if(l=le,c=rn,le=null,Fi(t,n,s),le=l,rn=c,le!==null)if(rn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(s.stateNode)}catch(f){Qt(s,n,f)}else try{le.removeChild(s.stateNode)}catch(f){Qt(s,n,f)}break;case 18:le!==null&&(rn?(t=le,Ly(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),xr(t)):Ly(le,s.stateNode));break;case 4:l=le,c=rn,le=s.stateNode.containerInfo,rn=!0,Fi(t,n,s),le=l,rn=c;break;case 0:case 11:case 14:case 15:Ts(2,s,n),xe||Ts(4,s,n),Fi(t,n,s);break;case 1:xe||(Ai(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&kp(s,n,l)),Fi(t,n,s);break;case 21:Fi(t,n,s);break;case 22:xe=(l=xe)||s.memoizedState!==null,Fi(t,n,s),xe=l;break;default:Fi(t,n,s)}}function Qp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{xr(t)}catch(s){Qt(n,n.return,s)}}}function Yp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xr(t)}catch(s){Qt(n,n.return,s)}}function AT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new qp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new qp),n;default:throw Error(a(435,t.tag))}}function Bu(t,n){var s=AT(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=MT.bind(null,t,l);l.then(c,c)}})}function ln(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Ns(T.type)){le=T.stateNode,rn=!1;break t}break;case 5:le=T.stateNode,rn=!1;break t;case 3:case 4:le=T.stateNode.containerInfo,rn=!0;break t}T=T.return}if(le===null)throw Error(a(160));Gp(f,g,c),le=null,rn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Kp(n,t),n=n.sibling}var Zn=null;function Kp(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),l&4&&(Ts(3,t,t.return),ql(3,t),Ts(5,t,t.return));break;case 1:ln(n,t),on(t),l&512&&(xe||s===null||Ai(s,s.return)),l&64&&Hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Zn;if(ln(n,t),on(t),l&512&&(xe||s===null||Ai(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ci]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ge(f,l,s),f[Ee]=t,Te(f),l=f;break t;case"link":var g=Ky("link","href",c).get(l+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break e}}f=c.createElement(l),Ge(f,l,s),c.head.appendChild(f);break;case"meta":if(g=Ky("meta","content",c).get(l+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break e}}f=c.createElement(l),Ge(f,l,s),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ee]=t,Te(f),l=f}t.stateNode=l}else Xy(c,t.type,t.stateNode);else t.stateNode=Yy(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Xy(c,t.type,t.stateNode):Yy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ef(t,t.memoizedProps,s.memoizedProps)}break;case 27:ln(n,t),on(t),l&512&&(xe||s===null||Ai(s,s.return)),s!==null&&l&4&&Ef(t,t.memoizedProps,s.memoizedProps);break;case 5:if(ln(n,t),on(t),l&512&&(xe||s===null||Ai(s,s.return)),t.flags&32){c=t.stateNode;try{an(c,"")}catch(rt){Qt(t,t.return,rt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Ef(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Sf=!0);break;case 6:if(ln(n,t),on(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(rt){Qt(t,t.return,rt)}}break;case 3:if(ic=null,c=Zn,Zn=ec(n.containerInfo),ln(n,t),Zn=c,on(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{xr(n.containerInfo)}catch(rt){Qt(t,t.return,rt)}Sf&&(Sf=!1,Xp(t));break;case 4:l=Zn,Zn=ec(t.stateNode.containerInfo),ln(n,t),on(t),Zn=l;break;case 12:ln(n,t),on(t);break;case 31:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bu(t,l)));break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Hu=$e()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bu(t,l)));break;case 22:c=t.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,z=Hi,G=xe;if(Hi=z||c,xe=G||R,ln(n,t),xe=G,Hi=z,on(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||R||Hi||xe||wa(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=R.stateNode;var K=R.memoizedProps.style,P=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(rt){Qt(R,R.return,rt)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(rt){Qt(R,R.return,rt)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;c?ky(q,!0):ky(R.stateNode,!1)}catch(rt){Qt(R,R.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Bu(t,s))));break;case 19:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bu(t,l)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Pp(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=Tf(t);Pu(t,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(an(g,""),s.flags&=-33);var T=Tf(t);Pu(t,T,g);break;case 3:case 4:var R=s.stateNode.containerInfo,z=Tf(t);bf(t,z,R);break;default:throw Error(a(161))}}catch(G){Qt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Xp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Xp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Gi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Hp(t,n.alternate,n),n=n.sibling}function wa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ts(4,n,n.return),wa(n);break;case 1:Ai(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&kp(n,n.return,s),wa(n);break;case 27:$l(n.stateNode);case 26:case 5:Ai(n,n.return),wa(n);break;case 22:n.memoizedState===null&&wa(n);break;case 30:wa(n);break;default:wa(n)}t=t.sibling}}function Qi(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Qi(c,f,s),ql(4,f);break;case 1:if(Qi(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Qt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var T=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)xg(R[c],T)}catch(z){Qt(l,l.return,z)}}s&&g&64&&Lp(f),Hl(f,f.return);break;case 27:Bp(f);case 26:case 5:Qi(c,f,s),s&&l===null&&g&4&&zp(f),Hl(f,f.return);break;case 12:Qi(c,f,s);break;case 31:Qi(c,f,s),s&&g&4&&Qp(c,f);break;case 13:Qi(c,f,s),s&&g&4&&Yp(c,f);break;case 22:f.memoizedState===null&&Qi(c,f,s),Hl(f,f.return);break;case 30:break;default:Qi(c,f,s)}n=n.sibling}}function Af(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Cl(s))}function wf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Cl(t))}function Jn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Zp(t,n,s,l),n=n.sibling}function Zp(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,s,l),c&2048&&ql(9,n);break;case 1:Jn(t,n,s,l);break;case 3:Jn(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Cl(t)));break;case 12:if(c&2048){Jn(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Qt(n,n.return,R)}}else Jn(t,n,s,l);break;case 31:Jn(t,n,s,l);break;case 13:Jn(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,s,l):Fl(t,n):f._visibility&2?Jn(t,n,s,l):(f._visibility|=2,gr(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Af(g,n);break;case 24:Jn(t,n,s,l),c&2048&&wf(n.alternate,n);break;default:Jn(t,n,s,l)}}function gr(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=s,R=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:gr(f,g,T,R,c),ql(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?gr(f,g,T,R,c):Fl(f,g):(G._visibility|=2,gr(f,g,T,R,c)),c&&z&2048&&Af(g.alternate,g);break;case 24:gr(f,g,T,R,c),c&&z&2048&&wf(g.alternate,g);break;default:gr(f,g,T,R,c)}n=n.sibling}}function Fl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Fl(s,l),c&2048&&Af(l.alternate,l);break;case 24:Fl(s,l),c&2048&&wf(l.alternate,l);break;default:Fl(s,l)}n=n.sibling}}var Gl=8192;function pr(t,n,s){if(t.subtreeFlags&Gl)for(t=t.child;t!==null;)Jp(t,n,s),t=t.sibling}function Jp(t,n,s){switch(t.tag){case 26:pr(t,n,s),t.flags&Gl&&t.memoizedState!==null&&cb(s,Zn,t.memoizedState,t.memoizedProps);break;case 5:pr(t,n,s);break;case 3:case 4:var l=Zn;Zn=ec(t.stateNode.containerInfo),pr(t,n,s),Zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Gl,Gl=16777216,pr(t,n,s),Gl=l):pr(t,n,s));break;default:pr(t,n,s)}}function $p(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ql(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];ke=l,ty(l,t)}$p(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wp(t),t=t.sibling}function Wp(t){switch(t.tag){case 0:case 11:case 15:Ql(t),t.flags&2048&&Ts(9,t,t.return);break;case 3:Ql(t);break;case 12:Ql(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,qu(t)):Ql(t);break;default:Ql(t)}}function qu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];ke=l,ty(l,t)}$p(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ts(8,n,n.return),qu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,qu(n));break;default:qu(n)}t=t.sibling}}function ty(t,n){for(;ke!==null;){var s=ke;switch(s.tag){case 0:case 11:case 15:Ts(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Cl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,ke=l;else t:for(s=t;ke!==null;){l=ke;var c=l.sibling,f=l.return;if(Fp(l),l===s){ke=null;break t}if(c!==null){c.return=f,ke=c;break t}ke=f}}}var wT={getCacheForType:function(t){var n=He(Se),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return He(Se).controller.signal}},xT=typeof WeakMap=="function"?WeakMap:Map,Pt=0,Jt=null,At=null,xt=0,Gt=0,En=null,bs=!1,yr=!1,xf=!1,Yi=0,he=0,Ss=0,xa=0,Rf=0,Tn=0,_r=0,Yl=null,un=null,Nf=!1,Hu=0,ey=0,Fu=1/0,Gu=null,As=null,Me=0,ws=null,vr=null,Ki=0,Cf=0,If=null,ny=null,Kl=0,Df=null;function bn(){return(Pt&2)!==0&&xt!==0?xt&-xt:Q.T!==null?Lf():Qo()}function iy(){if(Tn===0)if((xt&536870912)===0||Vt){var t=Ws;Ws<<=1,(Ws&3932160)===0&&(Ws=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function cn(t,n,s){(t===Jt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(Er(t,0),xs(t,xt,Tn,!1)),ta(t,s),((Pt&2)===0||t!==Jt)&&(t===Jt&&((Pt&2)===0&&(xa|=s),he===4&&xs(t,xt,Tn,!1)),wi(t))}function sy(t,n,s){if((Pt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Bn(t,n),c=l?CT(t,n):Mf(t,n,!0),f=l;do{if(c===0){yr&&!l&&xs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!RT(s)){c=Mf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=t;c=Yl;var R=T.current.memoizedState.isDehydrated;if(R&&(Er(T,g).flags|=256),g=Mf(T,g,!1),g!==2){if(xf&&!R){T.errorRecoveryDisabledLanes|=f,xa|=f,c=4;break t}f=un,un=c,f!==null&&(un===null?un=f:un.push.apply(un,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){Er(t,0),xs(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:xs(l,n,Tn,!bs);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Hu+300-$e(),10<c)){if(xs(l,n,Tn,!bs),li(l,0,!0)!==0)break t;Ki=n,l.timeoutHandle=jy(ay.bind(null,l,s,un,Gu,Nf,n,Tn,xa,_r,bs,f,"Throttled",-0,0),c);break t}ay(l,s,un,Gu,Nf,n,Tn,xa,_r,bs,f,null,-0,0)}}break}while(!0);wi(t)}function ay(t,n,s,l,c,f,g,T,R,z,G,K,P,q){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},Jp(n,f,K);var rt=(f&62914560)===f?Hu-$e():(f&4194048)===f?ey-$e():0;if(rt=hb(K,rt),rt!==null){Ki=f,t.cancelPendingCommit=rt(dy.bind(null,t,n,f,s,l,c,g,T,R,G,K,null,P,q)),xs(t,f,g,!z);return}}dy(t,n,f,s,l,c,g,T,R)}function RT(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!pn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xs(t,n,s,l){n&=~Rf,n&=~xa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-fe(c),g=1<<f;l[f]=-1,c&=~g}s!==0&&ea(t,s,n)}function Qu(){return(Pt&6)===0?(Xl(0),!1):!0}function Vf(){if(At!==null){if(Gt===0)var t=At.return;else t=At,Li=ya=null,Yh(t),cr=null,Dl=0,t=At;for(;t!==null;)Up(t.alternate,t),t=t.return;At=null}}function Er(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,YT(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Ki=0,Vf(),Jt=t,At=s=ji(t.current,null),xt=n,Gt=0,En=null,bs=!1,yr=Bn(t,n),xf=!1,_r=Tn=Rf=xa=Ss=he=0,un=Yl=null,Nf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-fe(l),f=1<<c;n|=t[c],l&=~f}return Yi=n,du(),s}function ry(t,n){Et=null,Q.H=zl,n===ur||n===Tu?(n=bg(),Gt=3):n===jh?(n=bg(),Gt=4):Gt=n===cf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,At===null&&(he=1,ju(t,In(n,t.current)))}function ly(){var t=_n.current;return t===null?!0:(xt&4194048)===xt?On===null:(xt&62914560)===xt||(xt&536870912)!==0?t===On:!1}function oy(){var t=Q.H;return Q.H=zl,t===null?zl:t}function uy(){var t=Q.A;return Q.A=wT,t}function Yu(){he=4,bs||(xt&4194048)!==xt&&_n.current!==null||(yr=!0),(Ss&134217727)===0&&(xa&134217727)===0||Jt===null||xs(Jt,xt,Tn,!1)}function Mf(t,n,s){var l=Pt;Pt|=2;var c=oy(),f=uy();(Jt!==t||xt!==n)&&(Gu=null,Er(t,n)),n=!1;var g=he;t:do try{if(Gt!==0&&At!==null){var T=At,R=En;switch(Gt){case 8:Vf(),g=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var z=Gt;if(Gt=0,En=null,Tr(t,T,R,z),s&&yr){g=0;break t}break;default:z=Gt,Gt=0,En=null,Tr(t,T,R,z)}}NT(),g=he;break}catch(G){ry(t,G)}while(!0);return n&&t.shellSuspendCounter++,Li=ya=null,Pt=l,Q.H=c,Q.A=f,At===null&&(Jt=null,xt=0,du()),g}function NT(){for(;At!==null;)cy(At)}function CT(t,n){var s=Pt;Pt|=2;var l=oy(),c=uy();Jt!==t||xt!==n?(Gu=null,Fu=$e()+500,Er(t,n)):yr=Bn(t,n);t:do try{if(Gt!==0&&At!==null){n=At;var f=En;e:switch(Gt){case 1:Gt=0,En=null,Tr(t,n,f,1);break;case 2:case 9:if(Eg(f)){Gt=0,En=null,hy(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==t||(Gt=7),wi(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Eg(f)?(Gt=0,En=null,hy(n)):(Gt=0,En=null,Tr(t,n,f,7));break;case 5:var g=null;switch(At.tag){case 26:g=At.memoizedState;case 5:case 27:var T=At;if(g?Zy(g):T.stateNode.complete){Gt=0,En=null;var R=T.sibling;if(R!==null)At=R;else{var z=T.return;z!==null?(At=z,Ku(z)):At=null}break e}}Gt=0,En=null,Tr(t,n,f,5);break;case 6:Gt=0,En=null,Tr(t,n,f,6);break;case 8:Vf(),he=6;break t;default:throw Error(a(462))}}IT();break}catch(G){ry(t,G)}while(!0);return Li=ya=null,Q.H=l,Q.A=c,Pt=s,At!==null?0:(Jt=null,xt=0,du(),he)}function IT(){for(;At!==null&&!oh();)cy(At)}function cy(t){var n=Op(t.alternate,t,Yi);t.memoizedProps=t.pendingProps,n===null?Ku(t):At=n}function hy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Np(s,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Np(s,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:Yh(n);default:Up(s,n),n=At=ug(n,Yi),n=Op(s,n,Yi)}t.memoizedProps=t.pendingProps,n===null?Ku(t):At=n}function Tr(t,n,s,l){Li=ya=null,Yh(n),cr=null,Dl=0;var c=n.return;try{if(_T(t,c,n,s,xt)){he=1,ju(t,In(s,t.current)),At=null;return}}catch(f){if(c!==null)throw At=c,f;he=1,ju(t,In(s,t.current)),At=null;return}n.flags&32768?(Vt||l===1?t=!0:yr||(xt&536870912)!==0?t=!1:(bs=t=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),fy(n,t)):Ku(n)}function Ku(t){var n=t;do{if((n.flags&32768)!==0){fy(n,bs);return}t=n.return;var s=TT(n.alternate,n,Yi);if(s!==null){At=s;return}if(n=n.sibling,n!==null){At=n;return}At=n=t}while(n!==null);he===0&&(he=5)}function fy(t,n){do{var s=bT(t.alternate,t);if(s!==null){s.flags&=32767,At=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){At=t;return}At=t=s}while(t!==null);he=6,At=null}function dy(t,n,s,l,c,f,g,T,R){t.cancelPendingCommit=null;do Xu();while(Me!==0);if((Pt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Eh,hh(t,s,f,g,T,R),t===Jt&&(At=Jt=null,xt=0),vr=n,ws=t,Ki=s,Cf=f,If=c,ny=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,OT(ns,function(){return _y(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,c=et.p,et.p=2,g=Pt,Pt|=4;try{ST(t,n,s)}finally{Pt=g,et.p=c,Q.T=l}}Me=1,my(),gy(),py()}}function my(){if(Me===1){Me=0;var t=ws,n=vr,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var l=et.p;et.p=2;var c=Pt;Pt|=4;try{Kp(n,t);var f=Gf,g=tg(t.containerInfo),T=f.focusedElem,R=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&Wm(T.ownerDocument.documentElement,T)){if(R!==null&&gh(T)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(G,T.value.length);else{var K=T.ownerDocument||document,P=K&&K.defaultView||window;if(P.getSelection){var q=P.getSelection(),rt=T.textContent.length,ft=Math.min(R.start,rt),Zt=R.end===void 0?ft:Math.min(R.end,rt);!q.extend&&ft>Zt&&(g=Zt,Zt=ft,ft=g);var j=$m(T,ft),I=$m(T,Zt);if(j&&I&&(q.rangeCount!==1||q.anchorNode!==j.node||q.anchorOffset!==j.offset||q.focusNode!==I.node||q.focusOffset!==I.offset)){var k=K.createRange();k.setStart(j.node,j.offset),q.removeAllRanges(),ft>Zt?(q.addRange(k),q.extend(I.node,I.offset)):(k.setEnd(I.node,I.offset),q.addRange(k))}}}}for(K=[],q=T;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var Y=K[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}lc=!!Ff,Gf=Ff=null}finally{Pt=c,et.p=l,Q.T=s}}t.current=n,Me=2}}function gy(){if(Me===2){Me=0;var t=ws,n=vr,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var l=et.p;et.p=2;var c=Pt;Pt|=4;try{Hp(t,n.alternate,n)}finally{Pt=c,et.p=l,Q.T=s}}Me=3}}function py(){if(Me===4||Me===3){Me=0,zo();var t=ws,n=vr,s=Ki,l=ny;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,vr=ws=null,yy(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(As=null),Di(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,c=et.p,et.p=2,Q.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{Q.T=n,et.p=c}}(Ki&3)!==0&&Xu(),wi(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===Df?Kl++:(Kl=0,Df=t):Kl=0,Xl(0)}}function yy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Cl(n)))}function Xu(){return my(),gy(),py(),_y()}function _y(){if(Me!==5)return!1;var t=ws,n=Cf;Cf=0;var s=Di(Ki),l=Q.T,c=et.p;try{et.p=32>s?32:s,Q.T=null,s=If,If=null;var f=ws,g=Ki;if(Me=0,vr=ws=null,Ki=0,(Pt&6)!==0)throw Error(a(331));var T=Pt;if(Pt|=4,Wp(f.current),Zp(f,f.current,g,s),Pt=T,Xl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{et.p=c,Q.T=l,yy(t,n)}}function vy(t,n,s){n=In(s,n),n=uf(t.stateNode,n,2),t=_s(t,n,2),t!==null&&(ta(t,2),wi(t))}function Qt(t,n,s){if(t.tag===3)vy(t,t,s);else for(;n!==null;){if(n.tag===3){vy(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(As===null||!As.has(l))){t=In(s,t),s=Ep(2),l=_s(n,s,2),l!==null&&(Tp(s,l,n,t),ta(l,2),wi(l));break}}n=n.return}}function Of(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new xT;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(xf=!0,c.add(s),t=DT.bind(null,t,n,s),n.then(t,t))}function DT(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Jt===t&&(xt&s)===s&&(he===4||he===3&&(xt&62914560)===xt&&300>$e()-Hu?(Pt&2)===0&&Er(t,0):Rf|=s,_r===xt&&(_r=0)),wi(t)}function Ey(t,n){n===0&&(n=Go()),t=ma(t,n),t!==null&&(ta(t,n),wi(t))}function VT(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Ey(t,s)}function MT(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Ey(t,s)}function OT(t,n){return Ve(t,n)}var Zu=null,br=null,jf=!1,Ju=!1,Uf=!1,Rs=0;function wi(t){t!==br&&t.next===null&&(br===null?Zu=br=t:br=br.next=t),Ju=!0,jf||(jf=!0,UT())}function Xl(t,n){if(!Uf&&Ju){Uf=!0;do for(var s=!1,l=Zu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-fe(42|t)+1)-1,f&=c&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Ay(l,f))}else f=xt,f=li(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Bn(l,f)||(s=!0,Ay(l,f));l=l.next}while(s);Uf=!1}}function jT(){Ty()}function Ty(){Ju=jf=!1;var t=0;Rs!==0&&QT()&&(t=Rs);for(var n=$e(),s=null,l=Zu;l!==null;){var c=l.next,f=by(l,n);f===0?(l.next=null,s===null?Zu=c:s.next=c,c===null&&(br=s)):(s=l,(t!==0||(f&3)!==0)&&(Ju=!0)),l=c}Me!==0&&Me!==5||Xl(t),Rs!==0&&(Rs=0)}function by(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-fe(f),T=1<<g,R=c[g];R===-1?((T&s)===0||(T&l)!==0)&&(c[g]=ch(T,n)):R<=n&&(t.expiredLanes|=T),f&=~T}if(n=Jt,s=xt,s=li(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&es(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Bn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&es(l),Di(s)){case 2:case 8:s=al;break;case 32:s=ns;break;case 268435456:s=Po;break;default:s=ns}return l=Sy.bind(null,t),s=Ve(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&es(l),t.callbackPriority=2,t.callbackNode=null,2}function Sy(t,n){if(Me!==0&&Me!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Xu()&&t.callbackNode!==s)return null;var l=xt;return l=li(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(sy(t,l,n),by(t,$e()),t.callbackNode!=null&&t.callbackNode===s?Sy.bind(null,t):null)}function Ay(t,n){if(Xu())return null;sy(t,n,!0)}function UT(){KT(function(){(Pt&6)!==0?Ve(sl,jT):Ty()})}function Lf(){if(Rs===0){var t=lr;t===0&&(t=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Rs=t}return Rs}function wy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Qa(""+t)}function xy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function LT(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=wy((c[Ue]||null).action),g=l.submitter;g&&(n=(n=g[Ue]||null)?wy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new _i("action","action",null,l,c);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Rs!==0){var R=g?xy(c,g):new FormData(c);nf(s,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=g?xy(c,g):new FormData(c),nf(s,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var kf=0;kf<vh.length;kf++){var zf=vh[kf],kT=zf.toLowerCase(),zT=zf[0].toUpperCase()+zf.slice(1);Xn(kT,"on"+zT)}Xn(ig,"onAnimationEnd"),Xn(sg,"onAnimationIteration"),Xn(ag,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(eT,"onTransitionRun"),Xn(nT,"onTransitionStart"),Xn(iT,"onTransitionCancel"),Xn(rg,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function Ry(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],R=T.instance,z=T.currentTarget;if(T=T.listener,R!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=z;try{f(c)}catch(G){fu(G)}c.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(T=l[g],R=T.instance,z=T.currentTarget,T=T.listener,R!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=z;try{f(c)}catch(G){fu(G)}c.currentTarget=null,f=R}}}}function wt(t,n){var s=n[Ba];s===void 0&&(s=n[Ba]=new Set);var l=t+"__bubble";s.has(l)||(Ny(n,t,2,!1),s.add(l))}function Pf(t,n,s){var l=0;n&&(l|=4),Ny(s,t,l,n)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Bf(t){if(!t[$u]){t[$u]=!0,ol.forEach(function(s){s!=="selectionchange"&&(PT.has(s)||Pf(s,!1,t),Pf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[$u]||(n[$u]=!0,Pf("selectionchange",!1,n))}}function Ny(t,n,s,l){switch(i_(n)){case 2:var c=gb;break;case 8:c=pb;break;default:c=nd}s=c.bind(null,n,s,t),c=void 0,!ra||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function qf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===c)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;T!==null;){if(g=hi(T),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue t}T=T.parentNode}}l=l.return}os(function(){var z=f,G=xn(s),K=[];t:{var P=lg.get(t);if(P!==void 0){var q=_i,rt=t;switch(t){case"keypress":if(oa(s)===0)break t;case"keydown":case"keyup":q=uu;break;case"focusin":rt="focus",q=ca;break;case"focusout":rt="blur",q=ca;break;case"beforeblur":case"afterblur":q=ca;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case ig:case sg:case ag:q=nu;break;case rg:q=S;break;case"scroll":case"scrollend":q=El;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Oi;break;case"toggle":case"beforetoggle":q=vt}var ft=(n&4)!==0,Zt=!ft&&(t==="scroll"||t==="scrollend"),j=ft?P!==null?P+"Capture":null:P;ft=[];for(var I=z,k;I!==null;){var Y=I;if(k=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||k===null||j===null||(Y=Gn(I,j),Y!=null&&ft.push(Jl(I,Y,k))),Zt)break;I=I.return}0<ft.length&&(P=new q(P,rt,null,s,G),K.push({event:P,listeners:ft}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&s!==yl&&(rt=s.relatedTarget||s.fromElement)&&(hi(rt)||rt[ui]))break t;if((q||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,q?(rt=s.relatedTarget||s.toElement,q=z,rt=rt?hi(rt):null,rt!==null&&(Zt=h(rt),ft=rt.tag,rt!==Zt||ft!==5&&ft!==27&&ft!==6)&&(rt=null)):(q=null,rt=z),q!==rt)){if(ft=Tl,Y="onMouseLeave",j="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(ft=Oi,Y="onPointerLeave",j="onPointerEnter",I="pointer"),Zt=q==null?P:mn(q),k=rt==null?P:mn(rt),P=new ft(Y,I+"leave",q,s,G),P.target=Zt,P.relatedTarget=k,Y=null,hi(G)===z&&(ft=new ft(j,I+"enter",rt,s,G),ft.target=k,ft.relatedTarget=Zt,Y=ft),Zt=Y,q&&rt)e:{for(ft=BT,j=q,I=rt,k=0,Y=j;Y;Y=ft(Y))k++;Y=0;for(var ut=I;ut;ut=ft(ut))Y++;for(;0<k-Y;)j=ft(j),k--;for(;0<Y-k;)I=ft(I),Y--;for(;k--;){if(j===I||I!==null&&j===I.alternate){ft=j;break e}j=ft(j),I=ft(I)}ft=null}else ft=null;q!==null&&Cy(K,P,q,ft,!1),rt!==null&&Zt!==null&&Cy(K,Zt,rt,ft,!0)}}t:{if(P=z?mn(z):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var Lt=Qm;else if(Fm(P))if(Ym)Lt=$E;else{Lt=ZE;var ot=XE}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&Ga(z.elementType)&&(Lt=Qm):Lt=JE;if(Lt&&(Lt=Lt(t,z))){Gm(K,Lt,s,G);break t}ot&&ot(t,P,z),t==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&ml(P,"number",P.value)}switch(ot=z?mn(z):window,t){case"focusin":(Fm(ot)||ot.contentEditable==="true")&&(Wa=ot,ph=z,xl=null);break;case"focusout":xl=ph=Wa=null;break;case"mousedown":yh=!0;break;case"contextmenu":case"mouseup":case"dragend":yh=!1,eg(K,s,G);break;case"selectionchange":if(tT)break;case"keydown":case"keyup":eg(K,s,G)}var bt;if(zt)t:{switch(t){case"compositionstart":var Rt="onCompositionStart";break t;case"compositionend":Rt="onCompositionEnd";break t;case"compositionupdate":Rt="onCompositionUpdate";break t}Rt=void 0}else $a?ha(t,s)&&(Rt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Rt="onCompositionStart");Rt&&(Ti&&s.locale!=="ko"&&($a||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&$a&&(bt=vl()):(yi=G,_l="value"in yi?yi.value:yi.textContent,$a=!0)),ot=Wu(z,Rt),0<ot.length&&(Rt=new Ei(Rt,t,null,s,G),K.push({event:Rt,listeners:ot}),bt?Rt.data=bt:(bt=Ja(s),bt!==null&&(Rt.data=bt)))),(bt=Nn?GE(t,s):QE(t,s))&&(Rt=Wu(z,"onBeforeInput"),0<Rt.length&&(ot=new Ei("onBeforeInput","beforeinput",null,s,G),K.push({event:ot,listeners:Rt}),ot.data=bt)),LT(K,t,z,s,G)}Ry(K,n)})}function Jl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Wu(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Gn(t,s),c!=null&&l.unshift(Jl(t,c,f)),c=Gn(t,n),c!=null&&l.push(Jl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function BT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Cy(t,n,s,l,c){for(var f=n._reactName,g=[];s!==null&&s!==l;){var T=s,R=T.alternate,z=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||z===null||(R=z,c?(z=Gn(s,f),z!=null&&g.unshift(Jl(s,z,R))):c||(z=Gn(s,f),z!=null&&g.push(Jl(s,z,R)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var qT=/\r\n?/g,HT=/\u0000|\uFFFD/g;function Iy(t){return(typeof t=="string"?t:""+t).replace(qT,`
`).replace(HT,"")}function Dy(t,n){return n=Iy(n),Iy(t)===n}function Xt(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&an(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,s,l);break;case"style":pl(t,l,f);break;case"data":if(n!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Qa(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Qa(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Qa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":wt("beforetoggle",t),wt("toggle",t),Ha(t,"popover",l);break;case"xlinkActuate":be(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":be(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":be(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":be(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":be(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":be(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":be(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":be(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":be(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ha(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Wo.get(s)||s,Ha(t,s,l))}}function Hf(t,n,s,l,c,f){switch(s){case"style":pl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ul.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[Ue]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ha(t,s,l)}}}function Ge(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",t),wt("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(t,n,f,g,s,null)}}c&&Xt(t,n,"srcSet",s.srcSet,s,null),l&&Xt(t,n,"src",s.src,s,null);return;case"input":wt("invalid",t);var T=f=g=c=null,R=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":c=G;break;case"type":g=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Xt(t,n,l,G,s,null)}}Zo(t,f,T,R,z,g,c,!1);return;case"select":wt("invalid",t),l=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(T=s[c],T!=null))switch(c){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:Xt(t,n,c,T,s,null)}n=f,s=g,t.multiple=!!l,n!=null?ss(t,!!l,n,!1):s!=null&&ss(t,!!l,s,!0);return;case"textarea":wt("invalid",t),f=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":c=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Xt(t,n,g,T,s,null)}as(t,l,c,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(l=s[R],l!=null)&&(R==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Xt(t,n,R,l,s,null));return;case"dialog":wt("beforetoggle",t),wt("toggle",t),wt("cancel",t),wt("close",t);break;case"iframe":case"object":wt("load",t);break;case"video":case"audio":for(l=0;l<Zl.length;l++)wt(Zl[l],t);break;case"image":wt("error",t),wt("load",t);break;case"details":wt("toggle",t);break;case"embed":case"source":case"link":wt("error",t),wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(t,n,z,l,s,null)}return;default:if(Ga(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&Hf(t,n,G,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&Xt(t,n,T,l,s,null))}function FT(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,T=null,R=null,z=null,G=null;for(q in s){var K=s[q];if(s.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=K;default:l.hasOwnProperty(q)||Xt(t,n,q,null,l,K)}}for(var P in l){var q=l[P];if(K=s[P],l.hasOwnProperty(P)&&(q!=null||K!=null))switch(P){case"type":f=q;break;case"name":c=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&Xt(t,n,P,q,l,K)}}Fa(t,g,T,R,z,G,f,c);return;case"select":q=g=T=P=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||Xt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=s[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":P=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==R&&Xt(t,n,c,f,l,R)}n=T,s=g,l=q,P!=null?ss(t,!!s,P,!1):!!l!=!!s&&(n!=null?ss(t,!!s,n,!0):ss(t,!!s,s?[]:"",!1));return;case"textarea":q=P=null;for(T in s)if(c=s[T],s.hasOwnProperty(T)&&c!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(t,n,T,null,l,c)}for(g in l)if(c=l[g],f=s[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":P=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Xt(t,n,g,c,l,f)}Jo(t,P,q);return;case"option":for(var rt in s)P=s[rt],s.hasOwnProperty(rt)&&P!=null&&!l.hasOwnProperty(rt)&&(rt==="selected"?t.selected=!1:Xt(t,n,rt,null,l,P));for(R in l)P=l[R],q=s[R],l.hasOwnProperty(R)&&P!==q&&(P!=null||q!=null)&&(R==="selected"?t.selected=P&&typeof P!="function"&&typeof P!="symbol":Xt(t,n,R,P,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in s)P=s[ft],s.hasOwnProperty(ft)&&P!=null&&!l.hasOwnProperty(ft)&&Xt(t,n,ft,null,l,P);for(z in l)if(P=l[z],q=s[z],l.hasOwnProperty(z)&&P!==q&&(P!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:Xt(t,n,z,P,l,q)}return;default:if(Ga(n)){for(var Zt in s)P=s[Zt],s.hasOwnProperty(Zt)&&P!==void 0&&!l.hasOwnProperty(Zt)&&Hf(t,n,Zt,void 0,l,P);for(G in l)P=l[G],q=s[G],!l.hasOwnProperty(G)||P===q||P===void 0&&q===void 0||Hf(t,n,G,P,l,q);return}}for(var j in s)P=s[j],s.hasOwnProperty(j)&&P!=null&&!l.hasOwnProperty(j)&&Xt(t,n,j,null,l,P);for(K in l)P=l[K],q=s[K],!l.hasOwnProperty(K)||P===q||P==null&&q==null||Xt(t,n,K,P,l,q)}function Vy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,g=c.initiatorType,T=c.duration;if(f&&T&&Vy(g)){for(g=0,T=c.responseEnd,l+=1;l<s.length;l++){var R=s[l],z=R.startTime;if(z>T)break;var G=R.transferSize,K=R.initiatorType;G&&Vy(K)&&(R=R.responseEnd,g+=G*(R<T?1:(T-z)/(R-z)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ff=null,Gf=null;function tc(t){return t.nodeType===9?t:t.ownerDocument}function My(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Oy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Qf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Yf=null;function QT(){var t=window.event;return t&&t.type==="popstate"?t===Yf?!1:(Yf=t,!0):(Yf=null,!1)}var jy=typeof setTimeout=="function"?setTimeout:void 0,YT=typeof clearTimeout=="function"?clearTimeout:void 0,Uy=typeof Promise=="function"?Promise:void 0,KT=typeof queueMicrotask=="function"?queueMicrotask:typeof Uy<"u"?function(t){return Uy.resolve(null).then(t).catch(XT)}:jy;function XT(t){setTimeout(function(){throw t})}function Ns(t){return t==="head"}function Ly(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),xr(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")$l(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,$l(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[ci]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&$l(t.ownerDocument.body);s=c}while(s);xr(n)}function ky(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Kf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Kf(s),qa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function ZT(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ci])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function JT(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=jn(t.nextSibling),t===null))return null;return t}function zy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=jn(t.nextSibling),t===null))return null;return t}function Xf(t){return t.data==="$?"||t.data==="$~"}function Zf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $T(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Jf=null;function Py(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return jn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function By(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function qy(t,n,s){switch(n=tc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function $l(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);qa(t)}var Un=new Map,Hy=new Set;function ec(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xi=et.d;et.d={f:WT,r:tb,D:eb,C:nb,L:ib,m:sb,X:rb,S:ab,M:lb};function WT(){var t=Xi.f(),n=Qu();return t||n}function tb(t){var n=wn(t);n!==null&&n.tag===5&&n.type==="form"?rp(n):Xi.r(t)}var Sr=typeof document>"u"?null:document;function Fy(t,n,s){var l=Sr;if(l&&typeof n=="string"&&n){var c=sn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Hy.has(c)||(Hy.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ge(n,"link",t),Te(n),l.head.appendChild(n)))}}function eb(t){Xi.D(t),Fy("dns-prefetch",t,null)}function nb(t,n){Xi.C(t,n),Fy("preconnect",t,n)}function ib(t,n,s){Xi.L(t,n,s);var l=Sr;if(l&&t&&n){var c='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+sn(s.imageSizes)+'"]')):c+='[href="'+sn(t)+'"]';var f=c;switch(n){case"style":f=Ar(t);break;case"script":f=wr(t)}Un.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Un.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Wl(f))||n==="script"&&l.querySelector(to(f))||(n=l.createElement("link"),Ge(n,"link",t),Te(n),l.head.appendChild(n)))}}function sb(t,n){Xi.m(t,n);var s=Sr;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=wr(t)}if(!Un.has(f)&&(t=A({rel:"modulepreload",href:t},n),Un.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(to(f)))return}l=s.createElement("link"),Ge(l,"link",t),Te(l),s.head.appendChild(l)}}}function ab(t,n,s){Xi.S(t,n,s);var l=Sr;if(l&&t){var c=fi(l).hoistableStyles,f=Ar(t);n=n||"default";var g=c.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(Wl(f)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Un.get(f))&&$f(t,s);var R=g=l.createElement("link");Te(R),Ge(R,"link",t),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,nc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},c.set(f,g)}}}function rb(t,n){Xi.X(t,n);var s=Sr;if(s&&t){var l=fi(s).hoistableScripts,c=wr(t),f=l.get(c);f||(f=s.querySelector(to(c)),f||(t=A({src:t,async:!0},n),(n=Un.get(c))&&Wf(t,n),f=s.createElement("script"),Te(f),Ge(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function lb(t,n){Xi.M(t,n);var s=Sr;if(s&&t){var l=fi(s).hoistableScripts,c=wr(t),f=l.get(c);f||(f=s.querySelector(to(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Un.get(c))&&Wf(t,n),f=s.createElement("script"),Te(f),Ge(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Gy(t,n,s,l){var c=(c=Tt.current)?ec(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ar(s.href),s=fi(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ar(s.href);var f=fi(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Wl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Un.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Un.set(t,s),f||ob(c,t,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=wr(s),s=fi(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ar(t){return'href="'+sn(t)+'"'}function Wl(t){return'link[rel="stylesheet"]['+t+"]"}function Qy(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function ob(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ge(n,"link",s),Te(n),t.head.appendChild(n))}function wr(t){return'[src="'+sn(t)+'"]'}function to(t){return"script[async]"+t}function Yy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+sn(s.href)+'"]');if(l)return n.instance=l,Te(l),l;var c=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Te(l),Ge(l,"style",c),nc(l,s.precedence,t),n.instance=l;case"stylesheet":c=Ar(s.href);var f=t.querySelector(Wl(c));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;l=Qy(s),(c=Un.get(c))&&$f(l,c),f=(t.ownerDocument||t).createElement("link"),Te(f);var g=f;return g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),Ge(f,"link",l),n.state.loading|=4,nc(f,s.precedence,t),n.instance=f;case"script":return f=wr(s.src),(c=t.querySelector(to(f)))?(n.instance=c,Te(c),c):(l=s,(c=Un.get(f))&&(l=A({},s),Wf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Te(c),Ge(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,nc(l,s.precedence,t));return n.instance}function nc(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function $f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Wf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ic=null;function Ky(t,n,s){if(ic===null){var l=new Map,c=ic=new Map;c.set(s,l)}else c=ic,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[ci]||f[Ee]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function Xy(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function ub(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Zy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function cb(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Ar(l.href),f=n.querySelector(Wl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=sc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Te(f);return}f=n.ownerDocument||n,l=Qy(l),(c=Un.get(c))&&$f(l,c),f=f.createElement("link"),Te(f);var g=f;g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),Ge(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=sc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var td=0;function hb(t,n){return t.stylesheets&&t.count===0&&rc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&rc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&td===0&&(td=62500*GT());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&rc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>td?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ac=null;function rc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ac=new Map,n.forEach(fb,t),ac=null,sc.call(t))}function fb(t,n){if(!(n.state.loading&4)){var s=ac.get(t);if(s)var l=s.get(null);else{s=new Map,ac.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,c),s.set(g,c),this.count++,l=sc.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var eo={$$typeof:St,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function mb(t,n,s,l,c,f,g,T,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Jy(t,n,s,l,c,f,g,T,R,z,G,K){return t=new mb(t,n,s,g,R,z,G,K,T),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),t.current=f,f.stateNode=t,n=Vh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Uh(f),t}function $y(t){return t?(t=nr,t):nr}function Wy(t,n,s,l,c,f){c=$y(c),l.context===null?l.context=c:l.pendingContext=c,l=ys(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=_s(t,l,n),s!==null&&(cn(s,t,n),Ml(s,t,n))}function t_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function ed(t,n){t_(t,n),(t=t.alternate)&&t_(t,n)}function e_(t){if(t.tag===13||t.tag===31){var n=ma(t,67108864);n!==null&&cn(n,t,67108864),ed(t,67108864)}}function n_(t){if(t.tag===13||t.tag===31){var n=bn();n=na(n);var s=ma(t,n);s!==null&&cn(s,t,n),ed(t,n)}}var lc=!0;function gb(t,n,s,l){var c=Q.T;Q.T=null;var f=et.p;try{et.p=2,nd(t,n,s,l)}finally{et.p=f,Q.T=c}}function pb(t,n,s,l){var c=Q.T;Q.T=null;var f=et.p;try{et.p=8,nd(t,n,s,l)}finally{et.p=f,Q.T=c}}function nd(t,n,s,l){if(lc){var c=id(l);if(c===null)qf(t,n,l,oc,s),s_(t,l);else if(_b(c,t,n,s,l))l.stopPropagation();else if(s_(t,l),n&4&&-1<yb.indexOf(t)){for(;c!==null;){var f=wn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ri(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var R=1<<31-fe(g);T.entanglements[1]|=R,g&=~R}wi(f),(Pt&6)===0&&(Fu=$e()+500,Xl(0))}}break;case 31:case 13:T=ma(f,2),T!==null&&cn(T,f,2),Qu(),ed(f,2)}if(f=id(l),f===null&&qf(t,n,l,oc,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else qf(t,n,l,null,s)}}function id(t){return t=xn(t),sd(t)}var oc=null;function sd(t){if(oc=null,t=hi(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=y(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return oc=t,null}function i_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($s()){case sl:return 2;case al:return 8;case ns:case uh:return 32;case Po:return 268435456;default:return 32}default:return 32}}var ad=!1,Cs=null,Is=null,Ds=null,no=new Map,io=new Map,Vs=[],yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s_(t,n){switch(t){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":no.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(n.pointerId)}}function so(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=wn(n),n!==null&&e_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function _b(t,n,s,l,c){switch(n){case"focusin":return Cs=so(Cs,t,n,s,l,c),!0;case"dragenter":return Is=so(Is,t,n,s,l,c),!0;case"mouseover":return Ds=so(Ds,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return no.set(f,so(no.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,io.set(f,so(io.get(f)||null,t,n,s,l,c)),!0}return!1}function a_(t){var n=hi(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,qn(t.priority,function(){n_(s)});return}}else if(n===31){if(n=y(s),n!==null){t.blockedOn=n,qn(t.priority,function(){n_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=id(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);yl=l,s.target.dispatchEvent(l),yl=null}else return n=wn(s),n!==null&&e_(n),t.blockedOn=s,!1;n.shift()}return!0}function r_(t,n,s){uc(t)&&s.delete(n)}function vb(){ad=!1,Cs!==null&&uc(Cs)&&(Cs=null),Is!==null&&uc(Is)&&(Is=null),Ds!==null&&uc(Ds)&&(Ds=null),no.forEach(r_),io.forEach(r_)}function cc(t,n){t.blockedOn===n&&(t.blockedOn=null,ad||(ad=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vb)))}var hc=null;function l_(t){hc!==t&&(hc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){hc===t&&(hc=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(sd(l||s)===null)continue;break}var f=wn(s);f!==null&&(t.splice(n,3),n-=3,nf(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function xr(t){function n(R){return cc(R,t)}Cs!==null&&cc(Cs,t),Is!==null&&cc(Is,t),Ds!==null&&cc(Ds,t),no.forEach(n),io.forEach(n);for(var s=0;s<Vs.length;s++){var l=Vs[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Vs.length&&(s=Vs[0],s.blockedOn===null);)a_(s),s.blockedOn===null&&Vs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],g=c[Ue]||null;if(typeof f=="function")g||l_(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Ue]||null)T=g.formAction;else if(sd(c)!==null)continue}else T=g.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),l_(s)}}}function o_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function rd(t){this._internalRoot=t}fc.prototype.render=rd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=bn();Wy(s,l,t,n,null,null)},fc.prototype.unmount=rd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Wy(t.current,2,null,t,null,null),Qu(),n[ui]=null}};function fc(t){this._internalRoot=t}fc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Qo();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Vs.length&&n!==0&&n<Vs[s].priority;s++);Vs.splice(s,0,t),s===0&&a_(t)}};var u_=e.version;if(u_!=="19.2.4")throw Error(a(527,u_,"19.2.4"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var Eb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{Pn=dc.inject(Eb),Pe=dc}catch{}}return ro.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",c=pp,f=yp,g=_p;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Jy(t,1,!1,null,null,s,l,null,c,f,g,o_),t[ui]=n.current,Bf(t),new rd(n)},ro.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,c="",f=pp,g=yp,T=_p,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=Jy(t,1,!0,n,s??null,l,c,R,f,g,T,o_),n.context=$y(null),s=n.current,l=bn(),l=na(l),c=ys(l),c.callback=null,_s(s,c,l),s=l,n.current.lanes=s,ta(n,s),wi(n),t[ui]=n.current,Bf(t),new fc(n)},ro.version="19.2.4",ro}var v_;function Ib(){if(v_)return ud.exports;v_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ud.exports=Cb(),ud.exports}var Db=Ib();const Vb=()=>{};var E_={};const qv=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Mb=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],y=r[i++],p=((o&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const h=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Hv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,y=d?r[o+1]:0,p=o+2<r.length,_=p?r[o+2]:0,b=h>>2,A=(h&3)<<4|y>>4;let M=(y&15)<<2|_>>6,H=_&63;p||(H=64,d||(M=64)),a.push(i[b],i[A],i[M],i[H])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(qv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Mb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],y=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const A=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||y==null||_==null||A==null)throw new Ob;const M=h<<2|y>>4;if(a.push(M),_!==64){const H=y<<4&240|_>>2;if(a.push(H),A!==64){const F=_<<6&192|A;a.push(F)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Ob extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jb=function(r){const e=qv(r);return Hv.encodeByteArray(e,!0)},Fv=function(r){return jb(r).replace(/\./g,"")},Gv=function(r){try{return Hv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ub(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Lb=()=>Ub().__FIREBASE_DEFAULTS__,kb=()=>{if(typeof process>"u"||typeof E_>"u")return;const r=E_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},zb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Gv(r[1]);return e&&JSON.parse(e)},Qv=()=>{try{return Vb()||Lb()||kb()||zb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Pb=r=>Qv()?.[`_${r}`];function em(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}function ni(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ni())}function qb(){const r=Qv()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Gb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qb(){return!qb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yb(){try{return typeof indexedDB=="object"}catch{return!1}}function Kb(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const Xb="FirebaseError";class Ys extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=Xb,Object.setPrototypeOf(this,Ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Co.prototype.create)}}class Co{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?Zb(h,a):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Ys(o,y,a)}}function Zb(r,e){return r.replace(Jb,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const Jb=/\{\$([^}]+)}/g;function Yv(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function $b(r,e){const i=new Wb(r,e);return i.subscribe.bind(i)}class Wb{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");tS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=dd),o.error===void 0&&(o.error=dd),o.complete===void 0&&(o.complete=dd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),h}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tS(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function dd(){}function nn(r){return r&&r._delegate?r._delegate:r}class Lr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const eS={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},nS=Nt.INFO,iS={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},sS=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=iS[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nm{constructor(e){this.name=e,this._logLevel=nS,this._logHandler=sS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...e),this._logHandler(this,Nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...e),this._logHandler(this,Nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...e),this._logHandler(this,Nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...e),this._logHandler(this,Nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...e),this._logHandler(this,Nt.ERROR,...e)}}const aS=(r,e)=>e.some(i=>r instanceof i);let T_,b_;function rS(){return T_||(T_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lS(){return b_||(b_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kv=new WeakMap,wd=new WeakMap,Xv=new WeakMap,md=new WeakMap,im=new WeakMap;function oS(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Us(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Kv.set(i,r)}).catch(()=>{}),im.set(e,r),e}function uS(r){if(wd.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});wd.set(r,e)}let xd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return wd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Xv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Us(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function cS(r){xd=r(xd)}function hS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(gd(this),e,...i);return Xv.set(a,e.sort?e.sort():[e]),Us(a)}:lS().includes(r)?function(...e){return r.apply(gd(this),e),Us(Kv.get(this))}:function(...e){return Us(r.apply(gd(this),e))}}function fS(r){return typeof r=="function"?hS(r):(r instanceof IDBTransaction&&uS(r),aS(r,rS())?new Proxy(r,xd):r)}function Us(r){if(r instanceof IDBRequest)return oS(r);if(md.has(r))return md.get(r);const e=fS(r);return e!==r&&(md.set(r,e),im.set(e,r)),e}const gd=r=>im.get(r);function dS(r,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),y=Us(d);return a&&d.addEventListener("upgradeneeded",p=>{a(Us(d.result),p.oldVersion,p.newVersion,Us(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),y.then(p=>{h&&p.addEventListener("close",()=>h()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const mS=["get","getKey","getAll","getAllKeys","count"],gS=["put","add","delete","clear"],pd=new Map;function S_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(pd.get(e))return pd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=gS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||mS.includes(i)))return;const h=async function(d,...y){const p=this.transaction(d,o?"readwrite":"readonly");let _=p.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&p.done]))[0]};return pd.set(e,h),h}cS(r=>({...r,get:(e,i,a)=>S_(e,i)||r.get(e,i,a),has:(e,i)=>!!S_(e,i)||r.has(e,i)}));class pS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(yS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function yS(r){return r.getComponent()?.type==="VERSION"}const Rd="@firebase/app",A_="0.14.7";const $i=new nm("@firebase/app"),_S="@firebase/app-compat",vS="@firebase/analytics-compat",ES="@firebase/analytics",TS="@firebase/app-check-compat",bS="@firebase/app-check",SS="@firebase/auth",AS="@firebase/auth-compat",wS="@firebase/database",xS="@firebase/data-connect",RS="@firebase/database-compat",NS="@firebase/functions",CS="@firebase/functions-compat",IS="@firebase/installations",DS="@firebase/installations-compat",VS="@firebase/messaging",MS="@firebase/messaging-compat",OS="@firebase/performance",jS="@firebase/performance-compat",US="@firebase/remote-config",LS="@firebase/remote-config-compat",kS="@firebase/storage",zS="@firebase/storage-compat",PS="@firebase/firestore",BS="@firebase/ai",qS="@firebase/firestore-compat",HS="firebase",FS="12.8.0",GS={[Rd]:"fire-core",[_S]:"fire-core-compat",[ES]:"fire-analytics",[vS]:"fire-analytics-compat",[bS]:"fire-app-check",[TS]:"fire-app-check-compat",[SS]:"fire-auth",[AS]:"fire-auth-compat",[wS]:"fire-rtdb",[xS]:"fire-data-connect",[RS]:"fire-rtdb-compat",[NS]:"fire-fn",[CS]:"fire-fn-compat",[IS]:"fire-iid",[DS]:"fire-iid-compat",[VS]:"fire-fcm",[MS]:"fire-fcm-compat",[OS]:"fire-perf",[jS]:"fire-perf-compat",[US]:"fire-rc",[LS]:"fire-rc-compat",[kS]:"fire-gcs",[zS]:"fire-gcs-compat",[PS]:"fire-fst",[qS]:"fire-fst-compat",[BS]:"fire-vertex","fire-js":"fire-js",[HS]:"fire-js-all"};const QS=new Map,YS=new Map,w_=new Map;function x_(r,e){try{r.container.addComponent(e)}catch(i){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function kr(r){const e=r.name;if(w_.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;w_.set(e,r);for(const i of QS.values())x_(i,r);for(const i of YS.values())x_(i,r);return!0}function Zi(r){return r==null?!1:r.settings!==void 0}const KS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sm=new Co("app","Firebase",KS);const Qc=FS;function Ls(r,e,i){let a=GS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(d.join(" "));return}kr(new Lr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const XS="firebase-heartbeat-database",ZS=1,Eo="firebase-heartbeat-store";let yd=null;function Zv(){return yd||(yd=dS(XS,ZS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Eo)}catch(i){console.warn(i)}}}}).catch(r=>{throw sm.create("idb-open",{originalErrorMessage:r.message})})),yd}async function JS(r){try{const i=(await Zv()).transaction(Eo),a=await i.objectStore(Eo).get(Jv(r));return await i.done,a}catch(e){if(e instanceof Ys)$i.warn(e.message);else{const i=sm.create("idb-get",{originalErrorMessage:e?.message});$i.warn(i.message)}}}async function R_(r,e){try{const a=(await Zv()).transaction(Eo,"readwrite");await a.objectStore(Eo).put(e,Jv(r)),await a.done}catch(i){if(i instanceof Ys)$i.warn(i.message);else{const a=sm.create("idb-set",{originalErrorMessage:i?.message});$i.warn(a.message)}}}function Jv(r){return`${r.name}!${r.options.appId}`}const $S=1024,WS=30;class tA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new nA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=N_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>WS){const o=iA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$i.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=N_(),{heartbeatsToSend:i,unsentEntries:a}=eA(this._heartbeatsCache.heartbeats),o=Fv(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return $i.warn(e),""}}}function N_(){return new Date().toISOString().substring(0,10)}function eA(r,e=$S){const i=[];let a=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),C_(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),C_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class nA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yb()?Kb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await JS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return R_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return R_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function C_(r){return Fv(JSON.stringify({version:2,heartbeats:r})).length}function iA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function sA(r){kr(new Lr("platform-logger",e=>new pS(e),"PRIVATE")),kr(new Lr("heartbeat",e=>new tA(e),"PRIVATE")),Ls(Rd,A_,r),Ls(Rd,A_,"esm2020"),Ls("fire-js","")}sA("");var aA="firebase",rA="12.8.0";Ls(aA,rA,"app");function $v(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lA=$v,Wv=new Co("auth","Firebase",$v());const Rc=new nm("@firebase/auth");function oA(r,...e){Rc.logLevel<=Nt.WARN&&Rc.warn(`Auth (${Qc}): ${r}`,...e)}function Ec(r,...e){Rc.logLevel<=Nt.ERROR&&Rc.error(`Auth (${Qc}): ${r}`,...e)}function Nd(r,...e){throw am(r,...e)}function t0(r,...e){return am(r,...e)}function e0(r,e,i){const a={...lA(),[e]:i};return new Co("auth","Firebase",a).create(e,{appName:r.name})}function Dr(r){return e0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function am(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Wv.create(r,...e)}function Bt(r,e,...i){if(!r)throw am(e,...i)}function fo(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ec(e),new Error(e)}function Nc(r,e){r||fo(e)}function uA(){return I_()==="http:"||I_()==="https:"}function I_(){return typeof self<"u"&&self.location?.protocol||null}function cA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uA()||Fb()||"connection"in navigator)?navigator.onLine:!0}function hA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Io{constructor(e,i){this.shortDelay=e,this.longDelay=i,Nc(i>e,"Short delay should be less than long delay!"),this.isMobile=Bb()||Gb()}get(){return cA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fA(r,e){Nc(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class n0{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const mA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gA=new Io(3e4,6e4);function Yc(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Do(r,e,i,a,o={}){return i0(r,o,async()=>{let h={},d={};a&&(e==="GET"?d=a:h={body:JSON.stringify(a)});const y=Yv({key:r.config.apiKey,...d}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:p,...h};return Hb()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&em(r.emulatorConfig.host)&&(_.credentials="include"),n0.fetch()(await a0(r,r.config.apiHost,i,y),_)})}async function i0(r,e,i){r._canInitEmulator=!1;const a={...dA,...e};try{const o=new pA(r),h=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw mc(r,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const y=h.ok?d.errorMessage:d.error.message,[p,_]=y.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw mc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw mc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw mc(r,"user-disabled",d);const b=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw e0(r,b,_);Nd(r,b)}}catch(o){if(o instanceof Ys)throw o;Nd(r,"network-request-failed",{message:String(o)})}}async function s0(r,e,i,a,o={}){const h=await Do(r,e,i,a,o);return"mfaPendingCredential"in h&&Nd(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function a0(r,e,i,a){const o=`${e}${i}?${a}`,h=r,d=h.config.emulator?fA(r.config,o):`${r.config.apiScheme}://${o}`;return mA.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class pA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(t0(this.auth,"network-request-failed")),gA.get())})}}function mc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=t0(r,e,a);return o.customData._tokenResponse=i,o}async function yA(r,e){return Do(r,"POST","/v1/accounts:delete",e)}async function Cc(r,e){return Do(r,"POST","/v1/accounts:lookup",e)}function mo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _A(r,e=!1){const i=nn(r),a=await i.getIdToken(e),o=r0(a);Bt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const h=typeof o.firebase=="object"?o.firebase:void 0,d=h?.sign_in_provider;return{claims:o,token:a,authTime:mo(_d(o.auth_time)),issuedAtTime:mo(_d(o.iat)),expirationTime:mo(_d(o.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function _d(r){return Number(r)*1e3}function r0(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Ec("JWT malformed, contained fewer than 3 sections"),null;try{const o=Gv(i);return o?JSON.parse(o):(Ec("Failed to decode base64 JWT payload"),null)}catch(o){return Ec("Caught error parsing JWT payload as JSON",o?.toString()),null}}function D_(r){const e=r0(r);return Bt(e,"internal-error"),Bt(typeof e.exp<"u","internal-error"),Bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Cd(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ys&&vA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function vA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class EA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Id{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=mo(this.lastLoginAt),this.creationTime=mo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ic(r){const e=r.auth,i=await r.getIdToken(),a=await Cd(r,Cc(e,{idToken:i}));Bt(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const h=o.providerUserInfo?.length?l0(o.providerUserInfo):[],d=bA(r.providerData,h),y=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!d?.length,_=y?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Id(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function TA(r){const e=nn(r);await Ic(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bA(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function l0(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function SA(r,e){const i=await i0(r,{},async()=>{const a=Yv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:h}=r.config,d=await a0(r,o,"/v1/token",`key=${h}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:y,body:a};return r.emulatorConfig&&em(r.emulatorConfig.host)&&(p.credentials="include"),n0.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function AA(r,e){return Do(r,"POST","/v2/accounts:revokeToken",Yc(r,e))}class Vr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Bt(e.idToken,"internal-error"),Bt(typeof e.idToken<"u","internal-error"),Bt(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Bt(e.length!==0,"internal-error");const i=D_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:h}=await SA(e,i);this.updateTokensAndExpiration(a,o,Number(h))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:h}=i,d=new Vr;return a&&(Bt(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Bt(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),h&&(Bt(typeof h=="number","internal-error",{appName:e}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vr,this.toJSON())}_performRefresh(){return fo("not implemented")}}function Os(r,e){Bt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class $n{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new EA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Id(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Cd(this,this.stsTokenManager.getToken(this.auth,e));return Bt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return _A(this,e)}reload(){return TA(this)}_assign(e){this!==e&&(Bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new $n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Ic(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zi(this.auth.app))return Promise.reject(Dr(this.auth));const e=await this.getIdToken();return await Cd(this,yA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,p=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:H,providerData:F,stsTokenManager:$}=i;Bt(A&&$,e,"internal-error");const W=Vr.fromJSON(this.name,$);Bt(typeof A=="string",e,"internal-error"),Os(a,e.name),Os(o,e.name),Bt(typeof M=="boolean",e,"internal-error"),Bt(typeof H=="boolean",e,"internal-error"),Os(h,e.name),Os(d,e.name),Os(y,e.name),Os(p,e.name),Os(_,e.name),Os(b,e.name);const lt=new $n({uid:A,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:h,tenantId:y,stsTokenManager:W,createdAt:_,lastLoginAt:b});return F&&Array.isArray(F)&&(lt.providerData=F.map(Dt=>({...Dt}))),p&&(lt._redirectEventId=p),lt}static async _fromIdTokenResponse(e,i,a=!1){const o=new Vr;o.updateFromServerResponse(i);const h=new $n({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Ic(h),h}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Bt(o.localId!==void 0,"internal-error");const h=o.providerUserInfo!==void 0?l0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!h?.length,y=new Vr;y.updateFromIdToken(a);const p=new $n({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Id(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!h?.length};return Object.assign(p,_),p}}const V_=new Map;function Ra(r){Nc(r instanceof Function,"Expected a class definition");let e=V_.get(r);return e?(Nc(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,V_.set(r,e),e)}class o0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}o0.type="NONE";const M_=o0;function vd(r,e,i){return`firebase:${r}:${e}:${i}`}class Mr{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:h}=this.auth;this.fullUserKey=vd(this.userKey,o.apiKey,h),this.fullPersistenceKey=vd("persistence",o.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Cc(this.auth,{idToken:e}).catch(()=>{});return i?$n._fromGetAccountInfoResponse(this.auth,i,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Mr(Ra(M_),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let h=o[0]||Ra(M_);const d=vd(a,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const b=await _._get(d);if(b){let A;if(typeof b=="string"){const M=await Cc(e,{idToken:b}).catch(()=>{});if(!M)break;A=await $n._fromGetAccountInfoResponse(e,M,b)}else A=$n._fromJSON(e,b);_!==h&&(y=A),h=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!h._shouldAllowMigration||!p.length?new Mr(h,e,a):(h=p[0],y&&await h._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==h)try{await _._remove(d)}catch{}})),new Mr(h,e,a))}}function O_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IA(e))return"Blackberry";if(DA(e))return"Webos";if(xA(e))return"Safari";if((e.includes("chrome/")||RA(e))&&!e.includes("edge/"))return"Chrome";if(CA(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function wA(r=ni()){return/firefox\//i.test(r)}function xA(r=ni()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RA(r=ni()){return/crios\//i.test(r)}function NA(r=ni()){return/iemobile/i.test(r)}function CA(r=ni()){return/android/i.test(r)}function IA(r=ni()){return/blackberry/i.test(r)}function DA(r=ni()){return/webos/i.test(r)}function u0(r,e=[]){let i;switch(r){case"Browser":i=O_(ni());break;case"Worker":i=`${O_(ni())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Qc}/${a}`}class VA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=h=>new Promise((d,y)=>{try{const p=e(h);d(p)}catch(p){y(p)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function MA(r,e={}){return Do(r,"GET","/v2/passwordPolicy",Yc(r,e))}const OA=6;class jA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??OA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,h){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=h))}}class UA{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j_(this),this.idTokenSubscription=new j_(this),this.beforeStateQueue=new VA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Ra(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Mr.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Cc(this,{idToken:e}),a=await $n._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!h||h===d)&&y?.user&&(a=y.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Ic(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zi(this.app))return Promise.reject(Dr(this));const i=e?nn(e):null;return i&&Bt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zi(this.app)?Promise.reject(Dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zi(this.app)?Promise.reject(Dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ra(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MA(this),i=new jA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Co("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await AA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Ra(e)||this._popupRedirectResolver;Bt(i,this,"argument-error"),this.redirectPersistenceManager=await Mr.create(this,[Ra(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bt(y,this,"internal-error"),y.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,a,o);return()=>{d=!0,p()}}else{const p=e.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Zi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&oA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function rm(r){return nn(r)}class j_{constructor(e){this.auth=e,this.observer=null,this.addObserver=$b(i=>this.observer=i)}get next(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function LA(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ra);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}async function kA(r,e){return s0(r,"POST","/v1/accounts:signUp",Yc(r,e))}class zr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const h=await $n._fromIdTokenResponse(e,a,o),d=U_(a);return new zr({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=U_(a);return new zr({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function U_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function zA(r){if(Zi(r.app))return Promise.reject(Dr(r));const e=rm(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new zr({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await kA(e,{returnSecureToken:!0}),a=await zr._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}async function PA(r,e){return s0(r,"POST","/v1/accounts:signInWithCustomToken",Yc(r,e))}async function BA(r,e){if(Zi(r.app))return Promise.reject(Dr(r));const i=rm(r),a=await PA(i,{token:e,returnSecureToken:!0}),o=await zr._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function qA(r,e,i,a){return nn(r).onAuthStateChanged(e,i,a)}new Io(3e4,6e4);new Io(2e3,1e4);new Io(3e4,6e4);new Io(5e3,15e3);var L_="@firebase/auth",k_="1.12.0";class HA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function FA(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GA(r){kr(new Lr("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),h=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;Bt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u0(r)},_=new UA(a,o,h,p);return LA(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),kr(new Lr("auth-internal",e=>{const i=rm(e.getProvider("auth").getImmediate());return(a=>new HA(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ls(L_,k_,FA(r)),Ls(L_,k_,"esm2020")}const QA=300;Pb("authIdTokenMaxAge");GA("Browser");var z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ks,c0;(function(){var r;function e(C,w){function N(){}N.prototype=w.prototype,C.F=w.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(O,D,U){for(var x=Array(arguments.length-2),se=2;se<arguments.length;se++)x[se-2]=arguments[se];return w.prototype[D].apply(O,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,N){N||(N=0);const O=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)O[D]=w.charCodeAt(N++)|w.charCodeAt(N++)<<8|w.charCodeAt(N++)<<16|w.charCodeAt(N++)<<24;else for(D=0;D<16;++D)O[D]=w[N++]|w[N++]<<8|w[N++]<<16|w[N++]<<24;w=C.g[0],N=C.g[1],D=C.g[2];let U=C.g[3],x;x=w+(U^N&(D^U))+O[0]+3614090360&4294967295,w=N+(x<<7&4294967295|x>>>25),x=U+(D^w&(N^D))+O[1]+3905402710&4294967295,U=w+(x<<12&4294967295|x>>>20),x=D+(N^U&(w^N))+O[2]+606105819&4294967295,D=U+(x<<17&4294967295|x>>>15),x=N+(w^D&(U^w))+O[3]+3250441966&4294967295,N=D+(x<<22&4294967295|x>>>10),x=w+(U^N&(D^U))+O[4]+4118548399&4294967295,w=N+(x<<7&4294967295|x>>>25),x=U+(D^w&(N^D))+O[5]+1200080426&4294967295,U=w+(x<<12&4294967295|x>>>20),x=D+(N^U&(w^N))+O[6]+2821735955&4294967295,D=U+(x<<17&4294967295|x>>>15),x=N+(w^D&(U^w))+O[7]+4249261313&4294967295,N=D+(x<<22&4294967295|x>>>10),x=w+(U^N&(D^U))+O[8]+1770035416&4294967295,w=N+(x<<7&4294967295|x>>>25),x=U+(D^w&(N^D))+O[9]+2336552879&4294967295,U=w+(x<<12&4294967295|x>>>20),x=D+(N^U&(w^N))+O[10]+4294925233&4294967295,D=U+(x<<17&4294967295|x>>>15),x=N+(w^D&(U^w))+O[11]+2304563134&4294967295,N=D+(x<<22&4294967295|x>>>10),x=w+(U^N&(D^U))+O[12]+1804603682&4294967295,w=N+(x<<7&4294967295|x>>>25),x=U+(D^w&(N^D))+O[13]+4254626195&4294967295,U=w+(x<<12&4294967295|x>>>20),x=D+(N^U&(w^N))+O[14]+2792965006&4294967295,D=U+(x<<17&4294967295|x>>>15),x=N+(w^D&(U^w))+O[15]+1236535329&4294967295,N=D+(x<<22&4294967295|x>>>10),x=w+(D^U&(N^D))+O[1]+4129170786&4294967295,w=N+(x<<5&4294967295|x>>>27),x=U+(N^D&(w^N))+O[6]+3225465664&4294967295,U=w+(x<<9&4294967295|x>>>23),x=D+(w^N&(U^w))+O[11]+643717713&4294967295,D=U+(x<<14&4294967295|x>>>18),x=N+(U^w&(D^U))+O[0]+3921069994&4294967295,N=D+(x<<20&4294967295|x>>>12),x=w+(D^U&(N^D))+O[5]+3593408605&4294967295,w=N+(x<<5&4294967295|x>>>27),x=U+(N^D&(w^N))+O[10]+38016083&4294967295,U=w+(x<<9&4294967295|x>>>23),x=D+(w^N&(U^w))+O[15]+3634488961&4294967295,D=U+(x<<14&4294967295|x>>>18),x=N+(U^w&(D^U))+O[4]+3889429448&4294967295,N=D+(x<<20&4294967295|x>>>12),x=w+(D^U&(N^D))+O[9]+568446438&4294967295,w=N+(x<<5&4294967295|x>>>27),x=U+(N^D&(w^N))+O[14]+3275163606&4294967295,U=w+(x<<9&4294967295|x>>>23),x=D+(w^N&(U^w))+O[3]+4107603335&4294967295,D=U+(x<<14&4294967295|x>>>18),x=N+(U^w&(D^U))+O[8]+1163531501&4294967295,N=D+(x<<20&4294967295|x>>>12),x=w+(D^U&(N^D))+O[13]+2850285829&4294967295,w=N+(x<<5&4294967295|x>>>27),x=U+(N^D&(w^N))+O[2]+4243563512&4294967295,U=w+(x<<9&4294967295|x>>>23),x=D+(w^N&(U^w))+O[7]+1735328473&4294967295,D=U+(x<<14&4294967295|x>>>18),x=N+(U^w&(D^U))+O[12]+2368359562&4294967295,N=D+(x<<20&4294967295|x>>>12),x=w+(N^D^U)+O[5]+4294588738&4294967295,w=N+(x<<4&4294967295|x>>>28),x=U+(w^N^D)+O[8]+2272392833&4294967295,U=w+(x<<11&4294967295|x>>>21),x=D+(U^w^N)+O[11]+1839030562&4294967295,D=U+(x<<16&4294967295|x>>>16),x=N+(D^U^w)+O[14]+4259657740&4294967295,N=D+(x<<23&4294967295|x>>>9),x=w+(N^D^U)+O[1]+2763975236&4294967295,w=N+(x<<4&4294967295|x>>>28),x=U+(w^N^D)+O[4]+1272893353&4294967295,U=w+(x<<11&4294967295|x>>>21),x=D+(U^w^N)+O[7]+4139469664&4294967295,D=U+(x<<16&4294967295|x>>>16),x=N+(D^U^w)+O[10]+3200236656&4294967295,N=D+(x<<23&4294967295|x>>>9),x=w+(N^D^U)+O[13]+681279174&4294967295,w=N+(x<<4&4294967295|x>>>28),x=U+(w^N^D)+O[0]+3936430074&4294967295,U=w+(x<<11&4294967295|x>>>21),x=D+(U^w^N)+O[3]+3572445317&4294967295,D=U+(x<<16&4294967295|x>>>16),x=N+(D^U^w)+O[6]+76029189&4294967295,N=D+(x<<23&4294967295|x>>>9),x=w+(N^D^U)+O[9]+3654602809&4294967295,w=N+(x<<4&4294967295|x>>>28),x=U+(w^N^D)+O[12]+3873151461&4294967295,U=w+(x<<11&4294967295|x>>>21),x=D+(U^w^N)+O[15]+530742520&4294967295,D=U+(x<<16&4294967295|x>>>16),x=N+(D^U^w)+O[2]+3299628645&4294967295,N=D+(x<<23&4294967295|x>>>9),x=w+(D^(N|~U))+O[0]+4096336452&4294967295,w=N+(x<<6&4294967295|x>>>26),x=U+(N^(w|~D))+O[7]+1126891415&4294967295,U=w+(x<<10&4294967295|x>>>22),x=D+(w^(U|~N))+O[14]+2878612391&4294967295,D=U+(x<<15&4294967295|x>>>17),x=N+(U^(D|~w))+O[5]+4237533241&4294967295,N=D+(x<<21&4294967295|x>>>11),x=w+(D^(N|~U))+O[12]+1700485571&4294967295,w=N+(x<<6&4294967295|x>>>26),x=U+(N^(w|~D))+O[3]+2399980690&4294967295,U=w+(x<<10&4294967295|x>>>22),x=D+(w^(U|~N))+O[10]+4293915773&4294967295,D=U+(x<<15&4294967295|x>>>17),x=N+(U^(D|~w))+O[1]+2240044497&4294967295,N=D+(x<<21&4294967295|x>>>11),x=w+(D^(N|~U))+O[8]+1873313359&4294967295,w=N+(x<<6&4294967295|x>>>26),x=U+(N^(w|~D))+O[15]+4264355552&4294967295,U=w+(x<<10&4294967295|x>>>22),x=D+(w^(U|~N))+O[6]+2734768916&4294967295,D=U+(x<<15&4294967295|x>>>17),x=N+(U^(D|~w))+O[13]+1309151649&4294967295,N=D+(x<<21&4294967295|x>>>11),x=w+(D^(N|~U))+O[4]+4149444226&4294967295,w=N+(x<<6&4294967295|x>>>26),x=U+(N^(w|~D))+O[11]+3174756917&4294967295,U=w+(x<<10&4294967295|x>>>22),x=D+(w^(U|~N))+O[2]+718787259&4294967295,D=U+(x<<15&4294967295|x>>>17),x=N+(U^(D|~w))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.v=function(C,w){w===void 0&&(w=C.length);const N=w-this.blockSize,O=this.C;let D=this.h,U=0;for(;U<w;){if(D==0)for(;U<=N;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<w;)if(O[D++]=C.charCodeAt(U++),D==this.blockSize){o(this,O),D=0;break}}else for(;U<w;)if(O[D++]=C[U++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,N=0;N<4;++N)for(let O=0;O<32;O+=8)C[w++]=this.g[N]>>>O&255;return C};function h(C,w){var N=y;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=w(C)}function d(C,w){this.h=w;const N=[];let O=!0;for(let D=C.length-1;D>=0;D--){const U=C[D]|0;O&&U==w||(N[D]=U,O=!1)}this.g=N}var y={};function p(C){return-128<=C&&C<128?h(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return W(_(-C));const w=[];let N=1;for(let O=0;C>=N;O++)w[O]=C/N|0,N*=4294967296;return new d(w,0)}function b(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return W(b(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=_(Math.pow(w,8));let O=A;for(let U=0;U<C.length;U+=8){var D=Math.min(8,C.length-U);const x=parseInt(C.substring(U,U+D),w);D<8?(D=_(Math.pow(w,D)),O=O.j(D).add(_(x))):(O=O.j(N),O=O.add(_(x)))}return O}var A=p(0),M=p(1),H=p(16777216);r=d.prototype,r.m=function(){if($(this))return-W(this).m();let C=0,w=1;for(let N=0;N<this.g.length;N++){const O=this.i(N);C+=(O>=0?O:4294967296+O)*w,w*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(F(this))return"0";if($(this))return"-"+W(this).toString(C);const w=_(Math.pow(C,6));var N=this;let O="";for(;;){const D=ie(N,w).g;N=lt(N,D.j(w));let U=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=D,F(N))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function F(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function $(C){return C.h==-1}r.l=function(C){return C=lt(this,C),$(C)?-1:F(C)?0:1};function W(C){const w=C.g.length,N=[];for(let O=0;O<w;O++)N[O]=~C.g[O];return new d(N,~C.h).add(M)}r.abs=function(){return $(this)?W(this):this},r.add=function(C){const w=Math.max(this.g.length,C.g.length),N=[];let O=0;for(let D=0;D<=w;D++){let U=O+(this.i(D)&65535)+(C.i(D)&65535),x=(U>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);O=x>>>16,U&=65535,x&=65535,N[D]=x<<16|U}return new d(N,N[N.length-1]&-2147483648?-1:0)};function lt(C,w){return C.add(W(w))}r.j=function(C){if(F(this)||F(C))return A;if($(this))return $(C)?W(this).j(W(C)):W(W(this).j(C));if($(C))return W(this.j(W(C)));if(this.l(H)<0&&C.l(H)<0)return _(this.m()*C.m());const w=this.g.length+C.g.length,N=[];for(var O=0;O<2*w;O++)N[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<C.g.length;D++){const U=this.i(O)>>>16,x=this.i(O)&65535,se=C.i(D)>>>16,Ie=C.i(D)&65535;N[2*O+2*D]+=x*Ie,Dt(N,2*O+2*D),N[2*O+2*D+1]+=U*Ie,Dt(N,2*O+2*D+1),N[2*O+2*D+1]+=x*se,Dt(N,2*O+2*D+1),N[2*O+2*D+2]+=U*se,Dt(N,2*O+2*D+2)}for(C=0;C<w;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=w;C<2*w;C++)N[C]=0;return new d(N,0)};function Dt(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function St(C,w){this.g=C,this.h=w}function ie(C,w){if(F(w))throw Error("division by zero");if(F(C))return new St(A,A);if($(C))return w=ie(W(C),w),new St(W(w.g),W(w.h));if($(w))return w=ie(C,W(w)),new St(W(w.g),w.h);if(C.g.length>30){if($(C)||$(w))throw Error("slowDivide_ only works with positive integers.");for(var N=M,O=w;O.l(C)<=0;)N=ue(N),O=ue(O);var D=Ut(N,1),U=Ut(O,1);for(O=Ut(O,2),N=Ut(N,2);!F(O);){var x=U.add(O);x.l(C)<=0&&(D=D.add(N),U=x),O=Ut(O,1),N=Ut(N,1)}return w=lt(C,D.j(w)),new St(D,w)}for(D=A;C.l(w)>=0;){for(N=Math.max(1,Math.floor(C.m()/w.m())),O=Math.ceil(Math.log(N)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=_(N),x=U.j(w);$(x)||x.l(C)>0;)N-=O,U=_(N),x=U.j(w);F(U)&&(U=M),D=D.add(U),C=lt(C,x)}return new St(D,C)}r.B=function(C){return ie(this,C).h},r.and=function(C){const w=Math.max(this.g.length,C.g.length),N=[];for(let O=0;O<w;O++)N[O]=this.i(O)&C.i(O);return new d(N,this.h&C.h)},r.or=function(C){const w=Math.max(this.g.length,C.g.length),N=[];for(let O=0;O<w;O++)N[O]=this.i(O)|C.i(O);return new d(N,this.h|C.h)},r.xor=function(C){const w=Math.max(this.g.length,C.g.length),N=[];for(let O=0;O<w;O++)N[O]=this.i(O)^C.i(O);return new d(N,this.h^C.h)};function ue(C){const w=C.g.length+1,N=[];for(let O=0;O<w;O++)N[O]=C.i(O)<<1|C.i(O-1)>>>31;return new d(N,C.h)}function Ut(C,w){const N=w>>5;w%=32;const O=C.g.length-N,D=[];for(let U=0;U<O;U++)D[U]=w>0?C.i(U+N)>>>w|C.i(U+N+1)<<32-w:C.i(U+N);return new d(D,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,c0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,ks=d}).apply(typeof z_<"u"?z_:typeof self<"u"?self:typeof window<"u"?window:{});var gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var h0,oo,f0,Tc,Dd,d0,m0,g0;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof gc=="object"&&gc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var v=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var L=u[S];if(!(L in v))break t;v=v[L]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=p,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,L,B){for(var tt=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)tt[vt-2]=arguments[vt];return m.prototype[L].apply(S,tt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function F(u,m){for(let S=1;S<arguments.length;S++){const L=arguments[S];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=L[tt]}else u.push(L)}}class ${constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function lt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Dt{constructor(){this.h=this.g=null}add(m,v){const S=St.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var St=new $(()=>new ie,u=>u.reset());class ie{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,Ut=!1,C=new Dt,w=()=>{const u=Promise.resolve(void 0);ue=()=>{u.then(N)}};function N(){for(var u;u=lt();){try{u.h.call(u.g)}catch(v){W(v)}var m=St;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ut=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function se(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(se,D),se.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),Q=0;function et(u,m,v,S,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=L,this.key=++Q,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function jt(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function Ht(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(v in S)u[v]=S[v];for(let B=0;B<X.length;B++)v=X[B],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,S,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=Tt(u,m,S,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new et(m,this.src,B,!!S,L),m.fa=v,u.push(m)),m};function mt(u,m){const v=m.type;if(v in u.g){var S=u.g[v],L=Array.prototype.indexOf.call(S,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(S,L,1),B&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Tt(u,m,v,S){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==S)return L}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),De={};function ae(u,m,v,S,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ae(u,m[B],v,S,L);return null}return v=il(v),u&&u[Ie]?u.J(m,v,y(S)?!!S.capture:!1,L):Zs(u,m,v,!1,S,L)}function Zs(u,m,v,S,L,B){if(!m)throw Error("Invalid event type");const tt=y(L)?!!L.capture:!!L;let vt=Js(u);if(vt||(u[Mt]=vt=new at(u)),v=vt.add(m,v,S,tt,B),v.proxy)return v;if(S=La(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)U||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),S,L);else if(u.attachEvent)u.attachEvent(si(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function La(){function u(v){return m.call(u.src,u.listener,v)}const m=el;return u}function ka(u,m,v,S,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)ka(u,m[B],v,S,L);else S=y(S)?!!S.capture:!!S,v=il(v),u&&u[Ie]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Tt(m,v,S,L),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Js(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Tt(m,v,S,L)),(v=u>-1?m[u]:null)&&za(v))}function za(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])mt(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(si(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=Js(m))?(mt(v,u),v.h==0&&(v.src=null,m[Mt]=null)):ht(u)}}}function si(u){return u in De?De[u]:De[u]="on"+u}function el(u,m){if(u.da)u=!0;else{m=new se(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&za(u),u=v.call(S,m)}return u}function Js(u){return u=u[Mt],u instanceof at?u:null}var nl="__closure_events_fn_"+(Math.random()*1e9>>>0);function il(u){return typeof u=="function"?u:(u[nl]||(u[nl]=function(m){return u.handleEvent(m)}),u[nl])}function _e(){O.call(this),this.i=new at(this),this.M=this,this.G=null}A(_e,O),_e.prototype[Ie]=!0,_e.prototype.removeEventListener=function(u,m,v,S){ka(this,u,m,v,S)};function Ve(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(S,u),nt(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=es(B,S,!0,m)&&L;if(B=m.g=u,L=es(B,S,!0,m)&&L,L=es(B,S,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=es(B,S,!1,m)&&L}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)ht(v[S]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},_e.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function es(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const vt=tt.listener,de=tt.ha||tt.src;tt.fa&&mt(u.i,tt),L=vt.call(de,S)!==!1&&L}}return L&&!S.defaultPrevented}function oh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function zo(u){u.g=oh(()=>{u.g=null,u.i&&(u.i=!1,zo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends O{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:zo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $s(u){O.call(this),this.h=u,this.g={}}A($s,O);var sl=[];function al(u){jt(u.g,function(m,v){this.g.hasOwnProperty(v)&&za(m)},u),u.g={}}$s.prototype.N=function(){$s.Z.N.call(this),al(this)},$s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ns=d.JSON.stringify,uh=d.JSON.parse,Po=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Bo(){}function qo(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){D.call(this,"d")}A(Pe,D);function An(){D.call(this,"c")}A(An,D);var fe={},Ho=null;function Pa(){return Ho=Ho||new _e}fe.Ia="serverreachability";function Fo(u){D.call(this,fe.Ia,u)}A(Fo,D);function ai(u){const m=Pa();Ve(m,new Fo(m))}fe.STAT_EVENT="statevent";function Ws(u,m){D.call(this,fe.STAT_EVENT,u),this.stat=m}A(Ws,D);function ve(u){const m=Pa();Ve(m,new Ws(m,u))}fe.Ja="timingevent";function ri(u,m){D.call(this,fe.Ja,u),this.size=m}A(ri,D);function li(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function ch(u,m,v,S,L,B){u.info(function(){if(u.g)if(B){var tt="",vt=B.split("&");for(let zt=0;zt<vt.length;zt++){var de=vt[zt].split("=");if(de.length>1){const re=de[0];de=de[1];const Nn=re.split("_");tt=Nn.length>=2&&Nn[1]=="type"?tt+(re+"="+de+"&"):tt+(re+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function Go(u,m,v,S,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function oi(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+hh(u,v)+(S?" "+S:"")})}function ta(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function hh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<S.length;tt++)S[tt]=""}}}}return ns(B)}catch{return m}}var ea={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},rl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ll;function na(){}A(na,Bo),na.prototype.g=function(){return new XMLHttpRequest},ll=new na;function Di(u){return encodeURIComponent(String(u))}function Qo(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function qn(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new $s(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Ee={},Ue={};function ui(u,m,v){u.M=1,u.A=ia(be(m)),u.u=v,u.R=!0,Ba(u,null)}function Ba(u,m){u.F=Date.now(),ci(u),u.B=be(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Ga(v.i,"t",S),u.C=0,v=u.j.L,u.h=new Hn,u.g=lu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new $e(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(sl[0]=L.toString()),L=sl);for(let B=0;B<L.length;B++){const tt=ae(v,L[B],S||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ai(),ch(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Qn(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)t:{const vt=Qn(this.g),de=this.g.ya(),zt=this.g.ca();if(!(vt<3)&&(vt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||vt!=4||de==7||(de==8||zt<=0?ai(3):ai(2)),hi(this);var m=this.g.ca();this.X=m;var v=fh(this);if(this.o=m==200,Go(this.i,this.v,this.B,this.l,this.S,vt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var B=S;break e}}B=null}if(u=B)oi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,u);else{this.o=!1,this.m=3,ve(12),mn(this),wn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<v.length;)if(re=Ko(this,v),re==Ue){vt==4&&(this.m=4,ve(14),u=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(re==Ee){this.m=4,ve(15),oi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else oi(this.i,this.l,re,null),fi(this,re);if(Yo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)oi(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),bl(tt),tt.P=!0,ve(11))}}else oi(this.i,this.l,v,null),fi(this,v);vt==4&&mn(this),this.o&&!this.K&&(vt==4?iu(this.j,this):(this.o=!1,ci(this)))}else Mi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),mn(this),wn(this)}}}catch{}};function fh(u){if(!Yo(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const S=m.length,L=Qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),wn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<S;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Yo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ko(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?Ue:(v=Number(m.substring(v,S)),isNaN(v)?Ee:(S+=1,S+v>m.length?Ue:(m=m.slice(S,S+v),u.C=S+v,m)))}qn.prototype.cancel=function(){this.K=!0,mn(this)};function ci(u){u.T=Date.now()+u.H,qa(u,u.H)}function qa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=li(_(u.aa,u),m)}function hi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ta(this.i,this.B),this.M!=2&&(ai(),ve(17)),mn(this),this.m=2,wn(this)):qa(this,this.T-u)};function wn(u){u.j.I==0||u.K||iu(u.j,u)}function mn(u){hi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,al(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function fi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||mi(v.h,u))){if(!u.L&&mi(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Za(v),cs(v);else break t;ca(v),ve(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(_(v.Va,v),6e3));di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((u.L||v.g==u)&&Za(v),!x(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let zt=L[m];const re=zt[0];if(!(re<=v.K))if(v.K=re,zt=zt[1],v.I==2)if(zt[0]=="c"){v.M=zt[1],v.ba=zt[2];const Nn=zt[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const Ti=zt[4];Ti!=null&&(v.za=Ti,v.j.info("SVER="+v.za));const Yn=zt[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(S=1.5*Yn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Kn=u.g;if(Kn){const ha=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ha){var B=S.h;B.g||ha.indexOf("spdy")==-1&&ha.indexOf("quic")==-1&&ha.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(cl(B,B.h),B.h=null))}if(S.G){const Ja=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(S.wa=Ja,Ft(S.J,S.G,Ja))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var tt=u;if(S.na=ru(S,S.L?S.ba:null,S.W),tt.L){hl(S.h,tt);var vt=tt,de=S.O;de&&(vt.H=de),vt.D&&(hi(vt),ci(vt)),S.g=tt}else eu(S);v.i.length>0&&vi(v)}else zt[0]!="stop"&&zt[0]!="close"||Ei(v,7);else v.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Ei(v,7):El(v):zt[0]!="noop"&&v.l&&v.l.qa(zt),v.A=0)}}ai(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function ol(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ul(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function di(u){return u.h?1:u.g?u.g.size:0}function mi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function cl(u,m){u.g?u.g.add(m):u.h=m}function hl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ol.prototype.cancel=function(){if(this.i=fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function fl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var Xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ha(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let L,B=null;S>=0?(L=u[v].substring(0,S),B=u[v].substring(S+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof gn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,is(this,u.u),this.h=u.h,dl(this,Wo(u.i)),this.m=u.m):u&&(m=String(u).match(Xo))?(this.l=!1,Le(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),is(this,m[4]),this.h=gi(m[5]||"",!0),dl(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new as(null,this.l))}gn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(sa(m,Fa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(sa(m,Fa,!0),"@"),u.push(Di(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(sa(v,v.charAt(0)=="/"?ml:Zo,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",sa(v,Jo)),u.join("")},gn.prototype.resolve=function(u){const m=be(this);let v=!!u.j;v?Le(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)is(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=m.h.lastIndexOf("/");L!=-1&&(S=m.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const vt=L[tt++];vt=="."?S&&tt==L.length&&B.push(""):vt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),S&&tt==L.length&&B.push("")):(B.push(vt),S=!0)}S=B.join("/")}else S=L}return v?m.h=S:v=u.i.toString()!=="",v?dl(m,Wo(u.i)):v=!!u.m,v&&(m.m=u.m),m};function be(u){return new gn(u)}function Le(u,m,v){u.j=v?gi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function is(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function dl(u,m,v){m instanceof as?(u.i=m,Qa(u.i,u.l)):(v||(m=sa(m,ss)),u.i=new as(m,u.l))}function Ft(u,m,v){u.i.set(m,v)}function ia(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function gi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function sa(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Fa=/[#\/\?@]/g,Zo=/[#\?:]/g,ml=/[#\?]/g,ss=/[#\?@]/g,Jo=/#/g;function as(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&Ha(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=as.prototype,r.add=function(u,m){an(this),this.i=null,u=rs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function $o(u,m){an(u),m=rs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function gl(u,m){return an(u),m=rs(u,m),u.g.has(m)}r.forEach=function(u,m){an(this),this.g.forEach(function(v,S){v.forEach(function(L){u.call(m,L,S,this)},this)},this)};function pl(u,m){an(u);let v=[];if(typeof m=="string")gl(u,m)&&(v=v.concat(u.g.get(rs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return an(this),this.i=null,u=rs(this,u),gl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=pl(this,u),u.length>0?String(u[0]):m):m};function Ga(u,m,v){$o(u,m),v.length>0&&(u.i=null,u.g.set(rs(u,m),H(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const L=Di(v);v=pl(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+Di(v[B])),u.push(tt)}}return this.i=u.join("&")};function Wo(u){const m=new as;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function rs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Qa(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,S){const L=S.toLowerCase();S!=L&&($o(this,S),Ga(this,L,v))},u)),u.j=m}function Fn(u,m){const v=new Bn;if(d.Image){const S=new Image;S.onload=b(xn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=b(xn,v,"TestLoadImage: error",!1,m,S),S.onabort=b(xn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=b(xn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function yl(u,m){const v=new Bn,S=new AbortController,L=setTimeout(()=>{S.abort(),xn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(B=>{clearTimeout(L),B.ok?xn(v,"TestPingServer: ok",!0,m):xn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),xn(v,"TestPingServer: error",!1,m)})}function xn(u,m,v,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(v)}catch{}}function ls(){this.g=new Po}function pi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(pi,Bo),pi.prototype.g=function(){return new aa(this.i,this.h)};function aa(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(aa,_e),r=aa.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,os(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ya(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ya(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?os(this):Gn(this),this.readyState==3&&Ya(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,os(this))},r.Na=function(u){this.g&&(this.response=u,os(this))},r.ga=function(){this.g&&os(this)};function os(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return jt(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function ra(u,m,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Rn(v),typeof u=="string"?v!=null&&Di(v):Ft(u,m,v))}function Yt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Yt,_e);var yi=/^https?$/i,_l=["POST","PUT"];r=Yt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ll.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){la(this,B);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)v.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())v.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(_l,m,void 0)>=0)||S||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){la(this,B)}};function la(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,vl(u),Vi(u)}function vl(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),Vi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Yt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?oa(this):this.Xa())},r.Xa=function(){oa(this)};function oa(u){if(u.h&&typeof h<"u"){if(u.v&&Qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),Qn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var S;if(S=B===0){let tt=String(u.D).match(Xo)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),S=!yi.test(tt?tt.toLowerCase():"")}v=S}if(v)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var L=Qn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",vl(u)}}finally{Vi(u)}}}}function Vi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ve(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),uh(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(u){const m={};u=(u.g&&Qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(x(u[S]))continue;var v=Qo(u[S]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ht(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function us(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,u),this.Za=_i("retryDelaySeedMs",1e4,u),this.Ta=_i("forwardChannelMaxRetries",2,u),this.va=_i("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ol(u&&u.concurrentRequestLimit),this.Ba=new ls,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=us.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,S){ve(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=ru(this,null,this.W),vi(this)};function El(u){if(Ka(u),u.I==3){var m=u.V++,v=be(u.J);if(Ft(v,"SID",u.M),Ft(v,"RID",m),Ft(v,"TYPE","terminate"),ua(u,v),m=new qn(u,u.j,m),m.M=2,m.A=ia(be(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=lu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ci(m)}au(u)}function cs(u){u.g&&(bl(u),u.g.cancel(),u.g=null)}function Ka(u){cs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Za(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function vi(u){if(!ul(u.h)&&!u.m){u.m=!0;var m=u.Ea;ue||w(),Ut||(ue(),Ut=!0),C.add(m,u),u.D=0}}function Xa(u,m){return di(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=li(_(u.Ea,u,m),su(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new qn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=tu(this,L,m),v=be(this.J),Ft(v,"RID",u),Ft(v,"CVER",22),this.G&&Ft(v,"X-HTTP-Session-Id",this.G),ua(this,v),B&&(this.R?m="headers="+Di(Rn(B))+"&"+m:this.u&&ra(v,this.u,B)),cl(this.h,L),this.Ra&&Ft(v,"TYPE","init"),this.S?(Ft(v,"$req",m),Ft(v,"SID","null"),L.U=!0,ui(L,v,null)):ui(L,v,m),this.I=2}}else this.I==3&&(u?Tl(this,u):this.i.length==0||ul(this.h)||Tl(this))};function Tl(u,m){var v;m?v=m.l:v=u.V++;const S=be(u.J);Ft(S,"SID",u.M),Ft(S,"RID",v),Ft(S,"AID",u.K),ua(u,S),u.u&&u.o&&ra(S,u.u,u.o),v=new qn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=tu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),cl(u.h,v),ui(v,S,m)}function ua(u,m){u.H&&jt(u.H,function(v,S){Ft(m,S,v)}),u.l&&jt({},function(v,S){Ft(m,S,v)})}function tu(u,m,v){v=Math.min(u.i.length,v);const S=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let vt=-1;for(;;){const de=["count="+v];vt==-1?v>0?(vt=L[0].g,de.push("ofs="+vt)):vt=0:de.push("ofs="+vt);let zt=!0;for(let re=0;re<v;re++){var B=L[re].g;const Nn=L[re].map;if(B-=vt,B<0)vt=Math.max(0,L[re].g-100),zt=!1;else try{B="req"+B+"_"||"";try{var tt=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Ti,Yn]of tt){let Kn=Yn;y(Yn)&&(Kn=ns(Yn)),de.push(B+Ti+"="+encodeURIComponent(Kn))}}catch(Ti){throw de.push(B+"type="+encodeURIComponent("_badmap")),Ti}}catch{S&&S(Nn)}}if(zt){tt=de.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function eu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ue||w(),Ut||(ue(),Ut=!0),C.add(m,u),u.A=0}}function ca(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=li(_(u.Da,u),su(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=li(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),cs(this),nu(this))};function bl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function nu(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),ua(u,m),u.u&&u.o&&ra(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ia(be(m)),v.u=null,v.R=!0,Ba(v,u)}r.Va=function(){this.C!=null&&(this.C=null,cs(this),ca(this),ve(19))};function Za(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function iu(u,m){var v=null;if(u.g==m){Za(u),bl(u),u.g=null;var S=2}else if(mi(u.h,m))v=m.G,hl(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;S=Pa(),Ve(S,new ri(S,v)),vi(u)}else eu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(S==1&&Xa(u,m)||S==2&&ca(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function su(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),S=u.Ua;const L=!S;S=new gn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(S,"https"),ia(S),L?Fn(S.toString(),v):yl(S.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),au(u),Ka(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function au(u){if(u.I=0,u.ja=[],u.l){const m=fl(u.h);(m.length!=0||u.i.length!=0)&&(F(u.ja,m),F(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function ru(u,m,v){var S=v instanceof gn?be(v):new gn(v);if(S.g!="")m&&(S.g=m+"."+S.g),is(S,S.u);else{var L=d.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new gn(null);S&&Le(B,S),m&&(B.g=m),L&&is(B,L),v&&(B.h=v),S=B}return v=u.G,m=u.wa,v&&m&&Ft(S,v,m),Ft(S,"VER",u.ka),ua(u,S),S}function lu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new pi({ab:v})):new Yt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ou(){}r=ou.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function hs(){}hs.prototype.g=function(u,m){return new We(u,m)};function We(u,m){_e.call(this),this.g=new us(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}A(We,_e),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){El(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ns(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&vi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,El(this.g),delete this.g,We.Z.N.call(this)};function uu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(uu,Pe);function cu(){An.call(this),this.status=1}A(cu,An);function Oi(u){this.g=u}A(Oi,ou),Oi.prototype.ra=function(){Ve(this.g,"a")},Oi.prototype.qa=function(u){Ve(this.g,new uu(u))},Oi.prototype.pa=function(u){Ve(this.g,new cu)},Oi.prototype.oa=function(){Ve(this.g,"b")},hs.prototype.createWebChannel=hs.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,g0=function(){return new hs},m0=function(){return Pa()},d0=fe,Dd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ea.NO_ERROR=0,ea.TIMEOUT=8,ea.HTTP_ERROR=6,Tc=ea,rl.COMPLETE="complete",f0=rl,qo.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,oo=qo,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,h0=Yt}).apply(typeof gc<"u"?gc:typeof self<"u"?self:typeof window<"u"?window:{});class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let Qr="12.8.0";function YA(r){Qr=r}const Ia=new nm("@firebase/firestore");function Rr(){return Ia.logLevel}function st(r,...e){if(Ia.logLevel<=Nt.DEBUG){const i=e.map(lm);Ia.debug(`Firestore (${Qr}): ${r}`,...i)}}function Wi(r,...e){if(Ia.logLevel<=Nt.ERROR){const i=e.map(lm);Ia.error(`Firestore (${Qr}): ${r}`,...i)}}function To(r,...e){if(Ia.logLevel<=Nt.WARN){const i=e.map(lm);Ia.warn(`Firestore (${Qr}): ${r}`,...i)}}function lm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function dt(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,p0(r,a,i)}function p0(r,e,i){let a=`FIRESTORE (${Qr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Wi(a),new Error(a)}function qt(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||p0(e,o,a)}function yt(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends Ys{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zs{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class KA{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(hn.UNAUTHENTICATED)))}shutdown(){}}class ZA{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let h=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new zs,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const p=h;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},y=p=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>y(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?y(p):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new zs)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new KA(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class JA{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class $A{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new JA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class P_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const a=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>a(h)))};const o=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new P_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new P_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function t1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class om{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=t1(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Ct(r,e){return r<e?-1:r>e?1:0}function Vd(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),h=e.charAt(a);if(o!==h)return Ed(o)===Ed(h)?Ct(o,h):Ed(o)?1:-1}return Ct(r.length,e.length)}const e1=55296,n1=57343;function Ed(r){const e=r.charCodeAt(0);return e>=e1&&e<=n1}function Pr(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}const B_="__name__";class xi{constructor(e,i,a){i===void 0?i=0:i>e.length&&dt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&dt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=xi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Ct(e.length,i.length)}static compareSegments(e,i){const a=xi.isNumericId(e),o=xi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?xi.extractNumericId(e).compare(xi.extractNumericId(i)):Vd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ks.fromString(e.substring(4,e.length-2))}}class $t extends xi{construct(e,i,a){return new $t(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new it(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new $t(i)}static emptyPath(){return new $t([])}}const i1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends xi{construct(e,i,a){return new Ye(e,i,a)}static isValidIdentifier(e){return i1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B_}static keyField(){return new Ye([B_])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new it(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new it(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new it(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(a+=y,o++):(h(),o++)}if(h(),d)throw new it(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ye(i)}static emptyPath(){return new Ye([])}}class ct{constructor(e){this.path=e}static fromPath(e){return new ct($t.fromString(e))}static fromName(e){return new ct($t.fromString(e).popFirst(5))}static empty(){return new ct($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return $t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new $t(e.slice()))}}function y0(r,e,i){if(!i)throw new it(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function s1(r,e,i,a){if(e===!0&&a===!0)throw new it(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function q_(r){if(!ct.isDocumentKey(r))throw new it(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function H_(r){if(ct.isDocumentKey(r))throw new it(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function _0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Kc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":dt(12329,{type:typeof r})}function Ji(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new it(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Kc(r);throw new it(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Ce(r,e){const i={typeString:r};return e&&(i.value=e),i}function Vo(r,e){if(!_0(r))throw new it(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new it(Z.INVALID_ARGUMENT,i);return!0}const F_=-62135596800,G_=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(e){return ee.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*G_);return new ee(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new it(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<F_)throw new it(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/G_}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vo(e,ee._jsonSchema))return new ee(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-F_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:Ce("string",ee._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class gt{static fromTimestamp(e){return new gt(e)}static min(){return new gt(new ee(0,0))}static max(){return new gt(new ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bo=-1;function a1(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=gt.fromTimestamp(a===1e9?new ee(i+1,0):new ee(i,a));return new Bs(o,ct.empty(),e)}function r1(r){return new Bs(r.readTime,r.key,bo)}class Bs{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Bs(gt.min(),ct.empty(),bo)}static max(){return new Bs(gt.max(),ct.empty(),bo)}}function l1(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(r.documentKey,e.documentKey),i!==0?i:Ct(r.largestBatchId,e.largestBatchId))}const o1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Yr(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==o1)throw r;st("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,a)=>{i(e)}))}static reject(e){return new J(((i,a)=>{a(e)}))}static waitFor(e){return new J(((i,a)=>{let o=0,h=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++h,d&&h===o&&i()}),(p=>a(p)))})),d=!0,h===o&&i()}))}static or(e){let i=J.resolve(!1);for(const a of e)i=i.next((o=>o?J.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,h)=>{a.push(i.call(this,o,h))})),this.waitFor(a)}static mapArray(e,i){return new J(((a,o)=>{const h=e.length,d=new Array(h);let y=0;for(let p=0;p<h;p++){const _=p;i(e[_]).next((b=>{d[_]=b,++y,y===h&&a(d)}),(b=>o(b)))}}))}static doWhile(e,i){return new J(((a,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):a()};h()}))}}function c1(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Kr(r){return r.name==="IndexedDbTransactionError"}class Xc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xc.ce=-1;const um=-1;function Zc(r){return r==null}function Dc(r){return r===0&&1/r==-1/0}function h1(r){return typeof r=="number"&&Number.isInteger(r)&&!Dc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const v0="";function f1(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Q_(e)),e=d1(r.get(i),e);return Q_(e)}function d1(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case v0:i+="";break;default:i+=h}}return i}function Q_(r){return r+v0+""}function Y_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ks(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function E0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class oe{constructor(e,i){this.comparator=e,this.root=i||Qe.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pc(this.root,e,this.comparator,!0)}}class pc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qe{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??Qe.RED,this.left=o??Qe.EMPTY,this.right=h??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new Qe(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new Qe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new K_(this.data.getIterator())}getIteratorFrom(e){return new K_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new je(this.comparator);return i.data=e,i}}class K_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(e){this.fields=e,e.sort(Ye.comparator)}static empty(){return new Sn([])}unionWith(e){let i=new je(Ye.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Sn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Pr(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class T0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new T0("Invalid base64 string: "+h):h}})(e);return new Ke(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Ke(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const m1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(r){if(qt(!!r,39018),typeof r=="string"){let e=0;const i=m1.exec(r);if(qt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Hs(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const b0="server_timestamp",S0="__type__",A0="__previous_value__",w0="__local_write_time__";function cm(r){return(r?.mapValue?.fields||{})[S0]?.stringValue===b0}function Jc(r){const e=r.mapValue.fields[A0];return cm(e)?Jc(e):e}function So(r){const e=qs(r.mapValue.fields[w0].timestampValue);return new ee(e.seconds,e.nanos)}class g1{constructor(e,i,a,o,h,d,y,p,_,b,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=b,this.apiKey=A}}const Md="(default)";class Ao{constructor(e,i){this.projectId=e,this.database=i||Md}static empty(){return new Ao("","")}get isDefaultDatabase(){return this.database===Md}isEqual(e){return e instanceof Ao&&e.projectId===this.projectId&&e.database===this.database}}function p1(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new it(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ao(r.options.projectId,e)}const x0="__type__",y1="__max__",yc={mapValue:{}},R0="__vector__",Vc="value";function Fs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cm(r)?4:v1(r)?9007199254740991:_1(r)?10:11:dt(28295,{value:r})}function Ii(r,e){if(r===e)return!0;const i=Fs(r);if(i!==Fs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return So(r).isEqual(So(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=qs(o.timestampValue),y=qs(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,h){return Hs(o.bytesValue).isEqual(Hs(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,h){return pe(o.geoPointValue.latitude)===pe(h.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(h.geoPointValue.longitude)})(r,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return pe(o.integerValue)===pe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=pe(o.doubleValue),y=pe(h.doubleValue);return d===y?Dc(d)===Dc(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return Pr(r.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},y=h.mapValue.fields||{};if(Y_(d)!==Y_(y))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(y[p]===void 0||!Ii(d[p],y[p])))return!1;return!0})(r,e);default:return dt(52216,{left:r})}}function wo(r,e){return(r.values||[]).find((i=>Ii(i,e)))!==void 0}function Br(r,e){if(r===e)return 0;const i=Fs(r),a=Fs(e);if(i!==a)return Ct(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ct(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=pe(h.integerValue||h.doubleValue),p=pe(d.integerValue||d.doubleValue);return y<p?-1:y>p?1:y===p?0:isNaN(y)?isNaN(p)?0:-1:1})(r,e);case 3:return X_(r.timestampValue,e.timestampValue);case 4:return X_(So(r),So(e));case 5:return Vd(r.stringValue,e.stringValue);case 6:return(function(h,d){const y=Hs(h),p=Hs(d);return y.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),p=d.split("/");for(let _=0;_<y.length&&_<p.length;_++){const b=Ct(y[_],p[_]);if(b!==0)return b}return Ct(y.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Ct(pe(h.latitude),pe(d.latitude));return y!==0?y:Ct(pe(h.longitude),pe(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Z_(r.arrayValue,e.arrayValue);case 10:return(function(h,d){const y=h.fields||{},p=d.fields||{},_=y[Vc]?.arrayValue,b=p[Vc]?.arrayValue,A=Ct(_?.values?.length||0,b?.values?.length||0);return A!==0?A:Z_(_,b)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===yc.mapValue&&d===yc.mapValue)return 0;if(h===yc.mapValue)return 1;if(d===yc.mapValue)return-1;const y=h.fields||{},p=Object.keys(y),_=d.fields||{},b=Object.keys(_);p.sort(),b.sort();for(let A=0;A<p.length&&A<b.length;++A){const M=Vd(p[A],b[A]);if(M!==0)return M;const H=Br(y[p[A]],_[b[A]]);if(H!==0)return H}return Ct(p.length,b.length)})(r.mapValue,e.mapValue);default:throw dt(23264,{he:i})}}function X_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ct(r,e);const i=qs(r),a=qs(e),o=Ct(i.seconds,a.seconds);return o!==0?o:Ct(i.nanos,a.nanos)}function Z_(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Br(i[o],a[o]);if(h)return h}return Ct(i.length,a.length)}function qr(r){return Od(r)}function Od(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=qs(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Hs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ct.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=Od(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${Od(i.fields[d])}`;return o+"}"})(r.mapValue):dt(61005,{value:r})}function bc(r){switch(Fs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jc(r);return e?16+bc(e):16;case 5:return 2*r.stringValue.length;case 6:return Hs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,h)=>o+bc(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Ks(a.fields,((h,d)=>{o+=h.length+bc(d)})),o})(r.mapValue);default:throw dt(13486,{value:r})}}function J_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function jd(r){return!!r&&"integerValue"in r}function hm(r){return!!r&&"arrayValue"in r}function $_(r){return!!r&&"nullValue"in r}function W_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Sc(r){return!!r&&"mapValue"in r}function _1(r){return(r?.mapValue?.fields||{})[x0]?.stringValue===R0}function go(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ks(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=go(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=go(r.arrayValue.values[i]);return e}return{...r}}function v1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===y1}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Sc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=go(i)}setAll(e){let i=Ye.emptyPath(),a={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const p=this.getFieldsMap(i);this.applyChanges(p,a,o),a={},o=[],i=y.popLast()}d?a[y.lastSegment()]=go(d):o.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());Sc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Sc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Ks(i,((o,h)=>e[o]=h));for(const o of a)delete e[o]}clone(){return new dn(go(this.value))}}function N0(r){const e=[];return Ks(r.fields,((i,a)=>{const o=new Ye([i]);if(Sc(a)){const h=N0(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new Sn(e)}class Je{constructor(e,i,a,o,h,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Je(e,0,gt.min(),gt.min(),gt.min(),dn.empty(),0)}static newFoundDocument(e,i,a,o){return new Je(e,1,i,gt.min(),a,o,0)}static newNoDocument(e,i){return new Je(e,2,i,gt.min(),gt.min(),dn.empty(),0)}static newUnknownDocument(e,i){return new Je(e,3,i,gt.min(),gt.min(),dn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mc{constructor(e,i){this.position=e,this.inclusive=i}}function tv(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?a=ct.comparator(ct.fromName(d.referenceValue),i.key):a=Br(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function ev(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ii(r.position[i],e.position[i]))return!1;return!0}class Oc{constructor(e,i="asc"){this.field=e,this.dir=i}}function E1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class C0{}class Ne extends C0{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new b1(e,i,a):i==="array-contains"?new w1(e,a):i==="in"?new x1(e,a):i==="not-in"?new R1(e,a):i==="array-contains-any"?new N1(e,a):new Ne(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new S1(e,a):new A1(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Br(i,this.value)):i!==null&&Fs(this.value)===Fs(i)&&this.matchesComparison(Br(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends C0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ii(e,i)}matches(e){return I0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function I0(r){return r.op==="and"}function D0(r){return T1(r)&&I0(r)}function T1(r){for(const e of r.filters)if(e instanceof ii)return!1;return!0}function Ud(r){if(r instanceof Ne)return r.field.canonicalString()+r.op.toString()+qr(r.value);if(D0(r))return r.filters.map((e=>Ud(e))).join(",");{const e=r.filters.map((i=>Ud(i))).join(",");return`${r.op}(${e})`}}function V0(r,e){return r instanceof Ne?(function(a,o){return o instanceof Ne&&a.op===o.op&&a.field.isEqual(o.field)&&Ii(a.value,o.value)})(r,e):r instanceof ii?(function(a,o){return o instanceof ii&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((h,d,y)=>h&&V0(d,o.filters[y])),!0):!1})(r,e):void dt(19439)}function M0(r){return r instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${qr(i.value)}`})(r):r instanceof ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(M0).join(" ,")+"}"})(r):"Filter"}class b1 extends Ne{constructor(e,i,a){super(e,i,a),this.key=ct.fromName(a.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class S1 extends Ne{constructor(e,i){super(e,"in",i),this.keys=O0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class A1 extends Ne{constructor(e,i){super(e,"not-in",i),this.keys=O0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function O0(r,e){return(e.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class w1 extends Ne{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return hm(i)&&wo(i.arrayValue,this.value)}}class x1 extends Ne{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&wo(this.value.arrayValue,i)}}class R1 extends Ne{constructor(e,i){super(e,"not-in",i)}matches(e){if(wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!wo(this.value.arrayValue,i)}}class N1 extends Ne{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>wo(this.value.arrayValue,a)))}}class C1{constructor(e,i=null,a=[],o=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function nv(r,e=null,i=[],a=[],o=null,h=null,d=null){return new C1(r,e,i,a,o,h,d)}function fm(r){const e=yt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>Ud(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),Zc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>qr(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>qr(a))).join(",")),e.Te=i}return e.Te}function dm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!E1(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!V0(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ev(r.startAt,e.startAt)&&ev(r.endAt,e.endAt)}function Ld(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Mo{constructor(e,i=null,a=[],o=[],h=null,d="F",y=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function I1(r,e,i,a,o,h,d,y){return new Mo(r,e,i,a,o,h,d,y)}function $c(r){return new Mo(r)}function iv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function D1(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function j0(r){return r.collectionGroup!==null}function po(r){const e=yt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new je(Ye.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Oc(h,a))})),i.has(Ye.keyField().canonicalString())||e.Ie.push(new Oc(Ye.keyField(),a))}return e.Ie}function Ri(r){const e=yt(r);return e.Ee||(e.Ee=V1(e,po(r))),e.Ee}function V1(r,e){if(r.limitType==="F")return nv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new Oc(o.field,h)}));const i=r.endAt?new Mc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Mc(r.startAt.position,r.startAt.inclusive):null;return nv(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function kd(r,e){const i=r.filters.concat([e]);return new Mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function zd(r,e,i){return new Mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Wc(r,e){return dm(Ri(r),Ri(e))&&r.limitType===e.limitType}function U0(r){return`${fm(Ri(r))}|lt:${r.limitType}`}function Nr(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>M0(o))).join(", ")}]`),Zc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>qr(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>qr(o))).join(",")),`Target(${a})`})(Ri(r))}; limitType=${r.limitType})`}function th(r,e){return e.isFoundDocument()&&(function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ct.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,e)&&(function(a,o){for(const h of po(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,y,p){const _=tv(d,y,p);return d.inclusive?_<=0:_<0})(a.startAt,po(a),o)||a.endAt&&!(function(d,y,p){const _=tv(d,y,p);return d.inclusive?_>=0:_>0})(a.endAt,po(a),o))})(r,e)}function M1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function L0(r){return(e,i)=>{let a=!1;for(const o of po(r)){const h=O1(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function O1(r,e,i){const a=r.field.isKeyField()?ct.comparator(e.key,i.key):(function(h,d,y){const p=d.data.field(h),_=y.data.field(h);return p!==null&&_!==null?Br(p,_):dt(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return dt(19790,{direction:r.dir})}}class Ma{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,((i,a)=>{for(const[o,h]of a)e(o,h)}))}isEmpty(){return E0(this.inner)}size(){return this.innerSize}}const j1=new oe(ct.comparator);function ts(){return j1}const k0=new oe(ct.comparator);function uo(...r){let e=k0;for(const i of r)e=e.insert(i.key,i);return e}function z0(r){let e=k0;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Na(){return yo()}function P0(){return yo()}function yo(){return new Ma((r=>r.toString()),((r,e)=>r.isEqual(e)))}const U1=new oe(ct.comparator),L1=new je(ct.comparator);function It(...r){let e=L1;for(const i of r)e=e.add(i);return e}const k1=new je(Ct);function z1(){return k1}function mm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dc(e)?"-0":e}}function B0(r){return{integerValue:""+r}}function P1(r,e){return h1(e)?B0(e):mm(r,e)}class eh{constructor(){this._=void 0}}function B1(r,e,i){return r instanceof jc?(function(o,h){const d={fields:{[S0]:{stringValue:b0},[w0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&cm(h)&&(h=Jc(h)),h&&(d.fields[A0]=h),{mapValue:d}})(i,e):r instanceof xo?H0(r,e):r instanceof Ro?F0(r,e):(function(o,h){const d=q0(o,h),y=sv(d)+sv(o.Ae);return jd(d)&&jd(o.Ae)?B0(y):mm(o.serializer,y)})(r,e)}function q1(r,e,i){return r instanceof xo?H0(r,e):r instanceof Ro?F0(r,e):i}function q0(r,e){return r instanceof Uc?(function(a){return jd(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(e)?e:{integerValue:0}:null}class jc extends eh{}class xo extends eh{constructor(e){super(),this.elements=e}}function H0(r,e){const i=G0(e);for(const a of r.elements)i.some((o=>Ii(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Ro extends eh{constructor(e){super(),this.elements=e}}function F0(r,e){let i=G0(e);for(const a of r.elements)i=i.filter((o=>!Ii(o,a)));return{arrayValue:{values:i}}}class Uc extends eh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function sv(r){return pe(r.integerValue||r.doubleValue)}function G0(r){return hm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function H1(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof xo&&o instanceof xo||a instanceof Ro&&o instanceof Ro?Pr(a.elements,o.elements,Ii):a instanceof Uc&&o instanceof Uc?Ii(a.Ae,o.Ae):a instanceof jc&&o instanceof jc})(r.transform,e.transform)}class F1{constructor(e,i){this.version=e,this.transformResults=i}}class ti{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ac(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class nh{}function Q0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new gm(r.key,ti.none()):new Oo(r.key,r.data,ti.none());{const i=r.data,a=dn.empty();let o=new je(Ye.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new Xs(r.key,a,new Sn(o.toArray()),ti.none())}}function G1(r,e,i){r instanceof Oo?(function(o,h,d){const y=o.value.clone(),p=rv(o.fieldTransforms,h,d.transformResults);y.setAll(p),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof Xs?(function(o,h,d){if(!Ac(o.precondition,h))return void h.convertToUnknownDocument(d.version);const y=rv(o.fieldTransforms,h,d.transformResults),p=h.data;p.setAll(Y0(o)),p.setAll(y),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function _o(r,e,i,a){return r instanceof Oo?(function(h,d,y,p){if(!Ac(h.precondition,d))return y;const _=h.value.clone(),b=lv(h.fieldTransforms,p,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof Xs?(function(h,d,y,p){if(!Ac(h.precondition,d))return y;const _=lv(h.fieldTransforms,p,d),b=d.data;return b.setAll(Y0(h)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((A=>A.field)))})(r,e,i,a):(function(h,d,y){return Ac(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function Q1(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),h=q0(a.transform,o||null);h!=null&&(i===null&&(i=dn.empty()),i.set(a.field,h))}return i||null}function av(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Pr(a,o,((h,d)=>H1(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Oo extends nh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xs extends nh{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Y0(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function rv(r,e,i){const a=new Map;qt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,y=e.data.field(h.field);a.set(h.field,q1(d,y,i[o]))}return a}function lv(r,e,i){const a=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);a.set(o.field,B1(h,d,e))}return a}class gm extends nh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y1 extends nh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class K1{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&G1(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=_o(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=_o(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=P0();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(o.key)?null:y;const p=Q0(d,y);p!==null&&a.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(gt.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),It())}isEqual(e){return this.batchId===e.batchId&&Pr(this.mutations,e.mutations,((i,a)=>av(i,a)))&&Pr(this.baseMutations,e.baseMutations,((i,a)=>av(i,a)))}}class pm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){qt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return U1})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new pm(e,i,a,o)}}class X1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Z1{constructor(e,i){this.count=e,this.unchangedNames=i}}var Re,Ot;function J1(r){switch(r){case Z.OK:return dt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return dt(15467,{code:r})}}function K0(r){if(r===void 0)return Wi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Re.OK:return Z.OK;case Re.CANCELLED:return Z.CANCELLED;case Re.UNKNOWN:return Z.UNKNOWN;case Re.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Re.INTERNAL:return Z.INTERNAL;case Re.UNAVAILABLE:return Z.UNAVAILABLE;case Re.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Re.NOT_FOUND:return Z.NOT_FOUND;case Re.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Re.ABORTED:return Z.ABORTED;case Re.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Re.DATA_LOSS:return Z.DATA_LOSS;default:return dt(39323,{code:r})}}(Ot=Re||(Re={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";function $1(){return new TextEncoder}const W1=new ks([4294967295,4294967295],0);function ov(r){const e=$1().encode(r),i=new c0;return i.update(e),new Uint8Array(i.digest())}function uv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new ks([i,a],0),new ks([o,h],0)]}class ym{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new co(`Invalid padding: ${i}`);if(a<0)throw new co(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new co(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new co(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ks.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(ks.fromNumber(a)));return o.compare(W1)===1&&(o=new ks([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=ov(e),[a,o]=uv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new ym(h,o,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=ov(e),[a,o]=uv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class co extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ih{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,jo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new ih(gt.min(),o,new oe(Ct),ts(),It())}}class jo{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new jo(a,i,It(),It(),It())}}class wc{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=o}}class X0{constructor(e,i){this.targetId=e,this.Ce=i}}class Z0{constructor(e,i,a=Ke.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class cv{constructor(){this.ve=0,this.Fe=hv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=It(),i=It(),a=It();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:dt(38017,{changeType:h})}})),new jo(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=hv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class t2{constructor(e){this.Ge=e,this.ze=new Map,this.je=ts(),this.He=_c(),this.Je=_c(),this.Ze=new oe(Ct)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:dt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Ld(h))if(a===0){const d=new ct(h.path);this.et(i,d,Je.newNoDocument(d,gt.min()))}else qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),p=y?this.ct(y,e,d):1;if(p!==0){this.it(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,y;try{d=Hs(a).toUint8Array()}catch(p){if(p instanceof T0)return To("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{y=new ym(d,o,h)}catch(p){return To(p instanceof co?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&Ld(y.target)){const p=new ct(y.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,Je.newNoDocument(p,e))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let a=It();this.Je.forEach(((h,d)=>{let y=!0;d.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new ih(e,i,this.Ze,this.je,a);return this.je=ts(),this.He=_c(),this.Je=_c(),this.Ze=new oe(Ct),o}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new cv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new je(Ct),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new je(Ct),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function _c(){return new oe(ct.comparator)}function hv(){return new oe(ct.comparator)}const e2={asc:"ASCENDING",desc:"DESCENDING"},n2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i2={and:"AND",or:"OR"};class s2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Pd(r,e){return r.useProto3Json||Zc(e)?e:{value:e}}function Lc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function a2(r,e){return Lc(r,e.toTimestamp())}function Ni(r){return qt(!!r,49232),gt.fromTimestamp((function(i){const a=qs(i);return new ee(a.seconds,a.nanos)})(r))}function _m(r,e){return Bd(r,e).canonicalString()}function Bd(r,e){const i=(function(o){return new $t(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function $0(r){const e=$t.fromString(r);return qt(iE(e),10190,{key:e.toString()}),e}function qd(r,e){return _m(r.databaseId,e.path)}function Td(r,e){const i=$0(e);if(i.get(1)!==r.databaseId.projectId)throw new it(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new it(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ct(tE(i))}function W0(r,e){return _m(r.databaseId,e)}function r2(r){const e=$0(r);return e.length===4?$t.emptyPath():tE(e)}function Hd(r){return new $t(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function tE(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function fv(r,e,i){return{name:qd(r,e),fields:i.value.mapValue.fields}}function l2(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:dt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,b){return _.useProto3Json?(qt(b===void 0||typeof b=="string",58123),Ke.fromBase64String(b||"")):(qt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ke.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const b=_.code===void 0?Z.UNKNOWN:K0(_.code);return new it(b,_.message||"")})(d);i=new Z0(a,o,h,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Td(r,a.document.name),h=Ni(a.document.updateTime),d=a.document.createTime?Ni(a.document.createTime):gt.min(),y=new dn({mapValue:{fields:a.document.fields}}),p=Je.newFoundDocument(o,h,d,y),_=a.targetIds||[],b=a.removedTargetIds||[];i=new wc(_,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Td(r,a.document),h=a.readTime?Ni(a.readTime):gt.min(),d=Je.newNoDocument(o,h),y=a.removedTargetIds||[];i=new wc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Td(r,a.document),h=a.removedTargetIds||[];i=new wc([],h,o,null)}else{if(!("filter"in e))return dt(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new Z1(o,h),y=a.targetId;i=new X0(y,d)}}return i}function o2(r,e){let i;if(e instanceof Oo)i={update:fv(r,e.key,e.value)};else if(e instanceof gm)i={delete:qd(r,e.key)};else if(e instanceof Xs)i={update:fv(r,e.key,e.data),updateMask:y2(e.fieldMask)};else{if(!(e instanceof Y1))return dt(16599,{dt:e.type});i={verify:qd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(h,d){const y=d.transform;if(y instanceof jc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof xo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Ro)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Uc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw dt(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:a2(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt(27497)})(r,e.precondition)),i}function u2(r,e){return r&&r.length>0?(qt(e!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?Ni(o.updateTime):Ni(h);return d.isEqual(gt.min())&&(d=Ni(h)),new F1(d,o.transformResults||[])})(i,e)))):[]}function c2(r,e){return{documents:[W0(r,e.path)]}}function h2(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=W0(r,o);const h=(function(_){if(_.length!==0)return nE(ii.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((b=>(function(M){return{field:Cr(M.field),direction:m2(M.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Pd(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function f2(r){let e=r2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){qt(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let h=[];i.where&&(h=(function(A){const M=eE(A);return M instanceof ii&&D0(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(F){return new Oc(Ir(F.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(A){let M;return M=typeof A=="object"?A.value:A,Zc(M)?null:M})(i.limit));let p=null;i.startAt&&(p=(function(A){const M=!!A.before,H=A.values||[];return new Mc(H,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const M=!A.before,H=A.values||[];return new Mc(H,M)})(i.endAt)),I1(e,o,d,h,y,"F",p,_)}function d2(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function eE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ir(i.unaryFilter.field);return Ne.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ir(i.unaryFilter.field);return Ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ir(i.unaryFilter.field);return Ne.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ir(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ne.create(Ir(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ii.create(i.compositeFilter.filters.map((a=>eE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(i.compositeFilter.op))})(r):dt(30097,{filter:r})}function m2(r){return e2[r]}function g2(r){return n2[r]}function p2(r){return i2[r]}function Cr(r){return{fieldPath:r.canonicalString()}}function Ir(r){return Ye.fromServerFormat(r.fieldPath)}function nE(r){return r instanceof Ne?(function(i){if(i.op==="=="){if(W_(i.value))return{unaryFilter:{field:Cr(i.field),op:"IS_NAN"}};if($_(i.value))return{unaryFilter:{field:Cr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(W_(i.value))return{unaryFilter:{field:Cr(i.field),op:"IS_NOT_NAN"}};if($_(i.value))return{unaryFilter:{field:Cr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cr(i.field),op:g2(i.op),value:i.value}}})(r):r instanceof ii?(function(i){const a=i.getFilters().map((o=>nE(o)));return a.length===1?a[0]:{compositeFilter:{op:p2(i.op),filters:a}}})(r):dt(54877,{filter:r})}function y2(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function iE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function sE(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class js{constructor(e,i,a,o,h=gt.min(),d=gt.min(),y=Ke.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=p}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _2{constructor(e){this.yt=e}}function v2(r){const e=f2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zd(e,e.limit,"L"):e}class E2{constructor(){this.Sn=new T2}addToCollectionParentIndex(e,i){return this.Sn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(Bs.min())}updateCollectionGroup(e,i,a){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class T2{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new je($t.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new je($t.comparator)).toArray()}}const dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aE=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(aE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class Hr{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Hr(0)}static ar(){return new Hr(-1)}}const mv="LruGarbageCollector",b2=1048576;function gv([r,e],[i,a]){const o=Ct(r,i);return o===0?Ct(e,a):o}class S2{constructor(e){this.Pr=e,this.buffer=new je(gv),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();gv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class A2{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){st(mv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Kr(i)?st(mv,"Ignoring IndexedDB error during garbage collection: ",i):await Yr(i)}await this.Ar(3e5)}))}}class w2{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(Xc.ce);const a=new S2(i);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(dv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dv):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,o,h,d,y,p,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(a=A,y=Date.now(),this.removeTargets(e,a,i)))).next((A=>(h=A,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(_=Date.now(),Rr()<=Nt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${h} targets in `+(p-y)+`ms
	Removed ${A} documents in `+(_-p)+`ms
Total Duration: ${_-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:A}))))}}function x2(r,e){return new w2(r,e)}class R2{constructor(){this.changes=new Ma((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Je.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class N2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class C2{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&_o(a.mutation,o,Sn.empty(),ee.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,It()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=It()){const o=Na();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((h=>{let d=uo();return h.forEach(((y,p)=>{d=d.insert(y,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Na();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,It())))}populateOverlays(e,i,a){const o=[];return a.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,o){let h=ts();const d=yo(),y=(function(){return yo()})();return i.forEach(((p,_)=>{const b=a.get(_.key);o.has(_.key)&&(b===void 0||b.mutation instanceof Xs)?h=h.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),_o(b.mutation,_,b.mutation.getFieldMask(),ee.now())):d.set(_.key,Sn.empty())})),this.recalculateAndSaveOverlays(e,h).next((p=>(p.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>y.set(_,new N2(b,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=yo();let o=new oe(((d,y)=>d-y)),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let b=a.get(p)||Sn.empty();b=y.applyToLocalView(_,b),a.set(p,b);const A=(o.get(y.batchId)||It()).add(p);o=o.insert(y.batchId,A)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const p=y.getNext(),_=p.key,b=p.value,A=P0();b.forEach((M=>{if(!h.has(M)){const H=Q0(i.get(M),a.get(M));H!==null&&A.set(M,H),h=h.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return D1(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):j0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):J.resolve(Na());let y=bo,p=h;return d.next((_=>J.forEach(_,((b,A)=>(y<A.largestBatchId&&(y=A.largestBatchId),h.get(b)?J.resolve():this.remoteDocumentCache.getEntry(e,b).next((M=>{p=p.insert(b,M)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,p,_,It()))).next((b=>({batchId:y,changes:z0(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next((a=>{let o=uo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=uo();return this.indexManager.getCollectionParents(e,h).next((y=>J.forEach(y,(p=>{const _=(function(A,M){return new Mo(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,p.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((b=>{b.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o)))).next((d=>{h.forEach(((p,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,Je.newInvalidDocument(b)))}));let y=uo();return d.forEach(((p,_)=>{const b=h.get(p);b!==void 0&&_o(b.mutation,_,Sn.empty(),ee.now()),th(i,_)&&(y=y.insert(p,_))})),y}))}}class I2{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:v2(o.bundledQuery),readTime:Ni(o.readTime)}})(i)),J.resolve()}}class D2{constructor(){this.overlays=new oe(ct.comparator),this.Lr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Na();return J.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&a.set(o,h)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,h)=>{this.bt(e,i,h)})),J.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(a)),J.resolve()}getOverlaysForCollection(e,i,a){const o=Na(),h=i.length+1,d=new ct(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const p=y.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&p.largestBatchId>a&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new oe(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=h.get(_.largestBatchId);b===null&&(b=Na(),h=h.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const y=Na(),p=h.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,b)=>y.set(_,b))),!(y.size()>=o)););return J.resolve(y)}bt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new X1(i,a));let h=this.Lr.get(i);h===void 0&&(h=It(),this.Lr.set(i,h)),this.Lr.set(i,h.add(a.key))}}class V2{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class vm{constructor(){this.kr=new je(ze.Kr),this.qr=new je(ze.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new ze(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new ze(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new ct(new $t([])),a=new ze(i,e),o=new ze(i,e+1),h=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ct(new $t([])),a=new ze(i,e),o=new ze(i,e+1);let h=It();return this.qr.forEachInRange([a,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new ze(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class ze{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ct.comparator(e.key,i.key)||Ct(e.Hr,i.Hr)}static Ur(e,i){return Ct(e.Hr,i.Hr)||ct.comparator(e.key,i.key)}}class M2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new je(ze.Kr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new K1(h,i,a,o);this.mutationQueue.push(d);for(const y of o)this.Jr=this.Jr.add(new ze(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),h=o<0?0:o;return J.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?um:this.Yn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new ze(i,0),o=new ze(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([a,o],(d=>{const y=this.Zr(d.Hr);h.push(y)})),J.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new je(Ct);return i.forEach((o=>{const h=new ze(o,0),d=new ze(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(y=>{a=a.add(y.Hr)}))})),J.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;ct.isDocumentKey(h)||(h=h.child(""));const d=new ze(new ct(h),0);let y=new je(Ct);return this.Jr.forEachWhile((p=>{const _=p.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(y=y.add(p.Hr)),!0)}),d),J.resolve(this.Yr(y))}Yr(e){const i=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){qt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return J.forEach(i.mutations,(o=>{const h=new ze(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new ze(i,0),o=this.Jr.firstAfterOrEqual(a);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class O2{constructor(e){this.ti=e,this.docs=(function(){return new oe(ct.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(e,i){let a=ts();return i.forEach((o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Je.newInvalidDocument(o))})),J.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=ts();const d=i.path,y=new ct(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(y);for(;p.hasNext();){const{key:_,value:{document:b}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||l1(r1(b),a)<=0||(o.has(b.key)||th(i,b))&&(h=h.insert(b.key,b.mutableCopy()))}return J.resolve(h)}getAllFromCollectionGroup(e,i,a,o){dt(9500)}ni(e,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new j2(this)}getSize(e){return J.resolve(this.size)}}class j2 extends R2{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),J.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class U2{constructor(e){this.persistence=e,this.ri=new Ma((i=>fm(i)),dm),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.ii=0,this.si=new vm,this.targetCount=0,this.oi=Hr._r()}forEachTarget(e,i){return this.ri.forEach(((a,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),J.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Hr(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.lr(i),J.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),J.waitFor(h).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return J.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),J.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return J.resolve(a)}containsKey(e,i){return J.resolve(this.si.containsKey(i))}}class rE{constructor(e,i){this._i={},this.overlays={},this.ai=new Xc(0),this.ui=!1,this.ui=!0,this.ci=new V2,this.referenceDelegate=e(this),this.li=new U2(this),this.indexManager=new E2,this.remoteDocumentCache=(function(o){return new O2(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new _2(i),this.Pi=new I2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new D2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new M2(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){st("MemoryPersistence","Starting transaction:",e);const o=new L2(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((h=>this.referenceDelegate.Ii(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ei(e,i){return J.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class L2 extends u1{constructor(e){super(),this.currentSequenceNumber=e}}class Em{constructor(e){this.persistence=e,this.Ri=new vm,this.Ai=null}static Vi(e){return new Em(e)}get di(){if(this.Ai)return this.Ai;throw dt(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),J.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.di.add(h.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(a=>{const o=ct.fromPath(a);return this.mi(e,o).next((h=>{h||i.removeEntry(o,gt.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class kc{constructor(e,i){this.persistence=e,this.fi=new Ma((a=>f1(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=x2(this,i)}static Vi(e,i){return new kc(e,i)}Ti(){}Ii(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return J.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((h=>h?J.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((y=>{y||(a++,h.removeEntry(d,gt.min()))})))).next((()=>h.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),J.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=bc(e.data.value)),i}wr(e,i,a){return J.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Tm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=o}static Es(e,i){let a=It(),o=It();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Tm(e,i.fromCache,a,o)}}class k2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class z2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Qb()?8:c1(ni())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.gs(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(e,i,o,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new k2;return this.ys(e,i,d).next((y=>{if(h.result=y,this.As)return this.ws(e,i,d,y.size)}))})).next((()=>h.result))}ws(e,i,a,o){return a.documentReadCount<this.Vs?(Rr()<=Nt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Nr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Rr()<=Nt.DEBUG&&st("QueryEngine","Query:",Nr(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(Rr()<=Nt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Nr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(i))):J.resolve())}gs(e,i){if(iv(i))return J.resolve(null);let a=Ri(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=zd(i,null,"F"),a=Ri(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((h=>{const d=It(...h);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((p=>{const _=this.bs(i,y);return this.Ss(i,_,d,p.readTime)?this.gs(e,zd(i,null,"F")):this.Ds(e,_,i,p)}))))})))))}ps(e,i,a,o){return iv(i)||o.isEqual(gt.min())?J.resolve(null):this.fs.getDocuments(e,a).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,a,o)?J.resolve(null):(Rr()<=Nt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Nr(i)),this.Ds(e,d,i,a1(o,bo)).next((y=>y)))}))}bs(e,i){let a=new je(L0(e));return i.forEach(((o,h)=>{th(e,h)&&(a=a.add(h))})),a}Ss(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ys(e,i,a){return Rr()<=Nt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Nr(i)),this.fs.getDocumentsMatchingQuery(e,i,Bs.min(),a)}Ds(e,i,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const bm="LocalStore",P2=3e8;class B2{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new oe(Ct),this.Fs=new Ma((h=>fm(h)),dm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function q2(r,e,i,a){return new B2(r,e,i,a)}async function lE(r,e){const i=yt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((h=>(o=h,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],y=[];let p=It();for(const _ of o){d.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of h){y.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return i.localDocuments.getDocuments(a,p).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function H2(r,e){const i=yt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,p,_,b){const A=_.batch,M=A.keys();let H=J.resolve();return M.forEach((F=>{H=H.next((()=>b.getEntry(p,F))).next(($=>{const W=_.docVersions.get(F);qt(W!==null,48541),$.version.compareTo(W)<0&&(A.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),b.addEntry($)))}))})),H.next((()=>y.mutationQueue.removeMutationBatch(p,A)))})(i,a,e,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let p=It();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(p=p.add(y.batch.mutations[_].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function oE(r){const e=yt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function F2(r,e){const i=yt(r),a=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const y=[];e.targetChanges.forEach(((b,A)=>{const M=o.get(A);if(!M)return;y.push(i.li.removeMatchingKeys(h,b.removedDocuments,A).next((()=>i.li.addMatchingKeys(h,b.addedDocuments,A))));let H=M.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(A)!==null?H=H.withResumeToken(Ke.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):b.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(b.resumeToken,a)),o=o.insert(A,H),(function($,W,lt){return $.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=P2?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(M,H,b)&&y.push(i.li.updateTargetData(h,H))}));let p=ts(),_=It();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,b))})),y.push(G2(h,d,e.documentUpdates).next((b=>{p=b.Bs,_=b.Ls}))),!a.isEqual(gt.min())){const b=i.li.getLastRemoteSnapshotVersion(h).next((A=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,a)));y.push(b)}return J.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,p,_))).next((()=>p))})).then((h=>(i.vs=o,h)))}function G2(r,e,i){let a=It(),o=It();return i.forEach((h=>a=a.add(h))),e.getEntries(r,a).next((h=>{let d=ts();return i.forEach(((y,p)=>{const _=h.get(y);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),p.isNoDocument()&&p.version.isEqual(gt.min())?(e.removeEntry(y,p.readTime),d=d.insert(y,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),d=d.insert(y,p)):st(bm,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",p.version)})),{Bs:d,Ls:o}}))}function Q2(r,e){const i=yt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=um),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function Y2(r,e){const i=yt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,e).next((h=>h?(o=h,J.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new js(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function Fd(r,e,i){const a=yt(r),o=a.vs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Kr(d))throw d;st(bm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function pv(r,e,i){const a=yt(r);let o=gt.min(),h=It();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,b){const A=yt(p),M=A.Fs.get(b);return M!==void 0?J.resolve(A.vs.get(M)):A.li.getTargetData(_,b)})(a,d,Ri(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,y.targetId).next((p=>{h=p}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?o:gt.min(),i?h:It()))).next((y=>(K2(a,M1(e),y),{documents:y,ks:h})))))}function K2(r,e,i){let a=r.Ms.get(e)||gt.min();i.forEach(((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),r.Ms.set(e,a)}class yv{constructor(){this.activeTargetIds=z1()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class X2{constructor(){this.vo=new yv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new yv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Z2{Mo(e){}shutdown(){}}const _v="ConnectivityMonitor";class vv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){st(_v,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){st(_v,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let vc=null;function Gd(){return vc===null?vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():vc++,"0x"+vc.toString(16)}const bd="RestConnection",J2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class $2{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===Md?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,h){const d=Gd(),y=this.Qo(e,i.toUriEncodedString());st(bd,`Sending RPC '${e}' ${d}:`,y,a);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,h);const{host:_}=new URL(y),b=em(_);return this.zo(e,y,p,a,b).then((A=>(st(bd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw To(bd,`RPC '${e}' ${d} failed with error: `,A,"url: ",y,"request:",a),A}))}jo(e,i,a,o,h,d){return this.Wo(e,i,a,o,h)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),a&&a.headers.forEach(((o,h)=>e[h]=o))}Qo(e,i){const a=J2[e];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class W2{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Ze="WebChannelConnection",lo=(r,e,i)=>{r.listen(e,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Or extends $2{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Or.c_){const e=m0();lo(e,d0.STAT_EVENT,(i=>{i.stat===Dd.PROXY?st(Ze,"STAT_EVENT: detected buffering proxy"):i.stat===Dd.NOPROXY&&st(Ze,"STAT_EVENT: detected no buffering proxy")})),Or.c_=!0}}zo(e,i,a,o,h){const d=Gd();return new Promise(((y,p)=>{const _=new h0;_.setWithCredentials(!0),_.listenOnce(f0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Tc.NO_ERROR:const A=_.getResponseJson();st(Ze,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),y(A);break;case Tc.TIMEOUT:st(Ze,`RPC '${e}' ${d} timed out`),p(new it(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Tc.HTTP_ERROR:const M=_.getStatus();if(st(Ze,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const F=H?.error;if(F&&F.status&&F.message){const $=(function(lt){const Dt=lt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Dt)>=0?Dt:Z.UNKNOWN})(F.status);p(new it($,F.message))}else p(new it(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new it(Z.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Ze,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(o);st(Ze,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",b,a,15)}))}T_(e,i,a){const o=Gd(),h=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const _=h.join("");st(Ze,`Creating RPC '${e}' stream ${o}: ${_}`,y);const b=d.createWebChannel(_,y);this.I_(b);let A=!1,M=!1;const H=new W2({Ho:F=>{M?st(Ze,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(A||(st(Ze,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),st(Ze,`RPC '${e}' stream ${o} sending:`,F),b.send(F))},Jo:()=>b.close()});return lo(b,oo.EventType.OPEN,(()=>{M||(st(Ze,`RPC '${e}' stream ${o} transport opened.`),H.i_())})),lo(b,oo.EventType.CLOSE,(()=>{M||(M=!0,st(Ze,`RPC '${e}' stream ${o} transport closed`),H.o_(),this.E_(b))})),lo(b,oo.EventType.ERROR,(F=>{M||(M=!0,To(Ze,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),H.o_(new it(Z.UNAVAILABLE,"The operation could not be completed")))})),lo(b,oo.EventType.MESSAGE,(F=>{if(!M){const $=F.data[0];qt(!!$,16349);const W=$,lt=W?.error||W[0]?.error;if(lt){st(Ze,`RPC '${e}' stream ${o} received error:`,lt);const Dt=lt.status;let St=(function(Ut){const C=Re[Ut];if(C!==void 0)return K0(C)})(Dt),ie=lt.message;St===void 0&&(St=Z.INTERNAL,ie="Unknown error status: "+Dt+" with message "+lt.message),M=!0,H.o_(new it(St,ie)),b.close()}else st(Ze,`RPC '${e}' stream ${o} received:`,$),H.__($)}})),Or.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return g0()}}function tw(r){return new Or(r)}function Sd(){return typeof document<"u"?document:null}function sh(r){return new s2(r,!0)}Or.c_=!1;class uE{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=o,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Ev="PersistentStream";class cE{constructor(e,i,a,o,h,d,y,p){this.Ci=e,this.b_=a,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new it(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return st(Ev,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(st(Ev,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ew extends cE{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=l2(this.serializer,e),a=(function(h){if(!("targetChange"in h))return gt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?gt.min():d.readTime?Ni(d.readTime):gt.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=Hd(this.serializer),i.addTarget=(function(h,d){let y;const p=d.target;if(y=Ld(p)?{documents:c2(h,p)}:{query:h2(h,p).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=J0(h,d.resumeToken);const _=Pd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(gt.min())>0){y.readTime=Lc(h,d.snapshotVersion.toTimestamp());const _=Pd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=d2(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=Hd(this.serializer),i.removeTarget=e,this.K_(i)}}class nw extends cE{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=u2(e.writeResults,e.commitTime),a=Ni(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Hd(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>o2(this.serializer,a)))};this.K_(i)}}class iw{}class sw extends iw{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new it(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(e,Bd(i,a),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new it(Z.UNKNOWN,h.toString())}))}jo(e,i,a,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,Bd(i,a),o,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function aw(r,e,i,a){return new sw(r,e,i,a)}class rw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Da="RemoteStore";class lw{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Oa(this)&&(st(Da,"Restarting streams for network reachability change."),await(async function(p){const _=yt(p);_.Ea.add(4),await Uo(_),_.Va.set("Unknown"),_.Ea.delete(4),await ah(_)})(this))}))})),this.Va=new rw(a,o)}}async function ah(r){if(Oa(r))for(const e of r.Ra)await e(!0)}async function Uo(r){for(const e of r.Ra)await e(!1)}function hE(r,e){const i=yt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),xm(i)?wm(i):Xr(i).O_()&&Am(i,e))}function Sm(r,e){const i=yt(r),a=Xr(i);i.Ia.delete(e),a.O_()&&fE(i,e),i.Ia.size===0&&(a.O_()?a.L_():Oa(i)&&i.Va.set("Unknown"))}function Am(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Xr(r).Z_(e)}function fE(r,e){r.da.$e(e),Xr(r).X_(e)}function wm(r){r.da=new t2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Xr(r).start(),r.Va.ua()}function xm(r){return Oa(r)&&!Xr(r).x_()&&r.Ia.size>0}function Oa(r){return yt(r).Ea.size===0}function dE(r){r.da=void 0}async function ow(r){r.Va.set("Online")}async function uw(r){r.Ia.forEach(((e,i)=>{Am(r,e)}))}async function cw(r,e){dE(r),xm(r)?(r.Va.ha(e),wm(r)):r.Va.set("Unknown")}async function hw(r,e,i){if(r.Va.set("Online"),e instanceof Z0&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const y of h.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.da.removeTarget(y))})(r,e)}catch(a){st(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await zc(r,a)}else if(e instanceof wc?r.da.Xe(e):e instanceof X0?r.da.st(e):r.da.tt(e),!i.isEqual(gt.min()))try{const a=await oE(r.localStore);i.compareTo(a)>=0&&await(function(h,d){const y=h.da.Tt(d);return y.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const b=h.Ia.get(_);b&&h.Ia.set(_,b.withResumeToken(p.resumeToken,d))}})),y.targetMismatches.forEach(((p,_)=>{const b=h.Ia.get(p);if(!b)return;h.Ia.set(p,b.withResumeToken(Ke.EMPTY_BYTE_STRING,b.snapshotVersion)),fE(h,p);const A=new js(b.target,p,_,b.sequenceNumber);Am(h,A)})),h.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(a){st(Da,"Failed to raise snapshot:",a),await zc(r,a)}}async function zc(r,e,i){if(!Kr(e))throw e;r.Ea.add(1),await Uo(r),r.Va.set("Offline"),i||(i=()=>oE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Da,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await ah(r)}))}function mE(r,e){return e().catch((i=>zc(r,i,e)))}async function rh(r){const e=yt(r),i=Gs(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:um;for(;fw(e);)try{const o=await Q2(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,dw(e,o)}catch(o){await zc(e,o)}gE(e)&&pE(e)}function fw(r){return Oa(r)&&r.Ta.length<10}function dw(r,e){r.Ta.push(e);const i=Gs(r);i.O_()&&i.Y_&&i.ea(e.mutations)}function gE(r){return Oa(r)&&!Gs(r).x_()&&r.Ta.length>0}function pE(r){Gs(r).start()}async function mw(r){Gs(r).ra()}async function gw(r){const e=Gs(r);for(const i of r.Ta)e.ea(i.mutations)}async function pw(r,e,i){const a=r.Ta.shift(),o=pm.from(a,e,i);await mE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await rh(r)}async function yw(r,e){e&&Gs(r).Y_&&await(async function(a,o){if((function(d){return J1(d)&&d!==Z.ABORTED})(o.code)){const h=a.Ta.shift();Gs(a).B_(),await mE(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o))),await rh(a)}})(r,e),gE(r)&&pE(r)}async function Tv(r,e){const i=yt(r);i.asyncQueue.verifyOperationInProgress(),st(Da,"RemoteStore received new credentials");const a=Oa(i);i.Ea.add(3),await Uo(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await ah(i)}async function _w(r,e){const i=yt(r);e?(i.Ea.delete(2),await ah(i)):e||(i.Ea.add(2),await Uo(i),i.Va.set("Unknown"))}function Xr(r){return r.ma||(r.ma=(function(i,a,o){const h=yt(i);return h.sa(),new ew(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Zo:ow.bind(null,r),Yo:uw.bind(null,r),t_:cw.bind(null,r),J_:hw.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),xm(r)?wm(r):r.Va.set("Unknown")):(await r.ma.stop(),dE(r))}))),r.ma}function Gs(r){return r.fa||(r.fa=(function(i,a,o){const h=yt(i);return h.sa(),new nw(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:mw.bind(null,r),t_:yw.bind(null,r),ta:gw.bind(null,r),na:pw.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await rh(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Da,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Rm{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,y=new Rm(e,i,d,o,h);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nm(r,e){if(Wi("AsyncQueue",`${e}: ${r}`),Kr(r))return new it(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class jr{static emptySet(e){return new jr(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ct.comparator(i.key,a.key):(i,a)=>ct.comparator(i.key,a.key),this.keyedMap=uo(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof jr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new jr;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class bv{constructor(){this.ga=new oe(ct.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):dt(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Fr{constructor(e,i,a,o,h,d,y,p,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Fr(e,i,jr.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class vw{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Ew{constructor(){this.queries=Sv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=yt(i),h=o.queries;o.queries=Sv(),h.forEach(((d,y)=>{for(const p of y.ba)p.onError(a)}))})(this,new it(Z.ABORTED,"Firestore shutting down"))}}function Sv(){return new Ma((r=>U0(r)),Wc)}async function yE(r,e){const i=yt(r);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.Da()&&(a=2):(h=new vw,a=e.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=Nm(d,`Initialization of query '${Nr(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,h),h.ba.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Cm(i)}async function _E(r,e){const i=yt(r),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.ba.indexOf(e);d>=0&&(h.ba.splice(d,1),h.ba.length===0?o=e.Da()?0:1:!h.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function Tw(r,e){const i=yt(r);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const y of d.ba)y.Fa(o)&&(a=!0);d.wa=o}}a&&Cm(i)}function bw(r,e,i){const a=yt(r),o=a.queries.get(e);if(o)for(const h of o.ba)h.onError(i);a.queries.delete(e)}function Cm(r){r.Ca.forEach((e=>{e.next()}))}var Qd,Av;(Av=Qd||(Qd={})).Ma="default",Av.Cache="cache";class vE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Fr(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Fr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qd.Cache}}class EE{constructor(e){this.key=e}}class TE{constructor(e){this.key=e}}class Sw{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=It(),this.mutatedKeys=It(),this.eu=L0(e),this.tu=new jr(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new bv,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,A)=>{const M=o.get(b),H=th(this.query,A)?A:null,F=!!M&&this.mutatedKeys.has(M.key),$=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let W=!1;M&&H?M.data.isEqual(H.data)?F!==$&&(a.track({type:3,doc:H}),W=!0):this.su(M,H)||(a.track({type:2,doc:H}),W=!0,(p&&this.eu(H,p)>0||_&&this.eu(H,_)<0)&&(y=!0)):!M&&H?(a.track({type:0,doc:H}),W=!0):M&&!H&&(a.track({type:1,doc:M}),W=!0,(p||_)&&(y=!0)),W&&(H?(d=d.add(H),h=$?h.add(b):h.delete(b)):(d=d.delete(b),h=h.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),h=h.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,A)=>(function(H,F){const $=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:W})}};return $(H)-$(F)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),o=o??!1;const y=i&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,_=p!==this.Xa;return this.Xa=p,d.length!==0||_?{snapshot:new Fr(this.query,e.tu,h,d,e.mutatedKeys,p===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=It(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new TE(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new EE(a))})),i}cu(e){this.Za=e.ks,this.Ya=It();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Fr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Im="SyncEngine";class Aw{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class ww{constructor(e){this.key=e,this.hu=!1}}class xw{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ma((y=>U0(y)),Wc),this.Iu=new Map,this.Eu=new Set,this.Ru=new oe(ct.comparator),this.Au=new Map,this.Vu=new vm,this.du={},this.mu=new Map,this.fu=Hr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Rw(r,e,i=!0){const a=RE(r);let o;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await bE(a,e,i,!0),o}async function Nw(r,e){const i=RE(r);await bE(i,e,!0,!1)}async function bE(r,e,i,a){const o=await Y2(r.localStore,Ri(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let y;return a&&(y=await Cw(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&hE(r.remoteStore,o),y}async function Cw(r,e,i,a,o){r.pu=(A,M,H)=>(async function($,W,lt,Dt){let St=W.view.ru(lt);St.Ss&&(St=await pv($.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,St))));const ie=Dt&&Dt.targetChanges.get(W.targetId),ue=Dt&&Dt.targetMismatches.get(W.targetId)!=null,Ut=W.view.applyChanges(St,$.isPrimaryClient,ie,ue);return xv($,W.targetId,Ut.au),Ut.snapshot})(r,A,M,H);const h=await pv(r.localStore,e,!0),d=new Sw(e,h.ks),y=d.ru(h.documents),p=jo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(y,r.isPrimaryClient,p);xv(r,i,_.au);const b=new Aw(e,i,d);return r.Tu.set(e,b),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function Iw(r,e,i){const a=yt(r),o=a.Tu.get(e),h=a.Iu.get(o.targetId);if(h.length>1)return a.Iu.set(o.targetId,h.filter((d=>!Wc(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Fd(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Sm(a.remoteStore,o.targetId),Yd(a,o.targetId)})).catch(Yr)):(Yd(a,o.targetId),await Fd(a.localStore,o.targetId,!0))}async function Dw(r,e){const i=yt(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Sm(i.remoteStore,a.targetId))}async function Vw(r,e,i){const a=zw(r);try{const o=await(function(d,y){const p=yt(d),_=ee.now(),b=y.reduce(((H,F)=>H.add(F.key)),It());let A,M;return p.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let F=ts(),$=It();return p.xs.getEntries(H,b).next((W=>{F=W,F.forEach(((lt,Dt)=>{Dt.isValidDocument()||($=$.add(lt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(H,F))).next((W=>{A=W;const lt=[];for(const Dt of y){const St=Q1(Dt,A.get(Dt.key).overlayedDocument);St!=null&&lt.push(new Xs(Dt.key,St,N0(St.value.mapValue),ti.exists(!0)))}return p.mutationQueue.addMutationBatch(H,_,lt,y)})).next((W=>{M=W;const lt=W.applyToLocalDocumentSet(A,$);return p.documentOverlayCache.saveOverlays(H,W.batchId,lt)}))})).then((()=>({batchId:M.batchId,changes:z0(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,y,p){let _=d.du[d.currentUser.toKey()];_||(_=new oe(Ct)),_=_.insert(y,p),d.du[d.currentUser.toKey()]=_})(a,o.batchId,i),await Lo(a,o.changes),await rh(a.remoteStore)}catch(o){const h=Nm(o,"Failed to persist write");i.reject(h)}}async function SE(r,e){const i=yt(r);try{const a=await F2(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?qt(d.hu,14607):o.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await Lo(i,a,e)}catch(a){await Yr(a)}}function wv(r,e,i){const a=yt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const p=yt(d);p.onlineState=y;let _=!1;p.queries.forEach(((b,A)=>{for(const M of A.ba)M.va(y)&&(_=!0)})),_&&Cm(p)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function Mw(r,e,i){const a=yt(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),h=o&&o.key;if(h){let d=new oe(ct.comparator);d=d.insert(h,Je.newNoDocument(h,gt.min()));const y=It().add(h),p=new ih(gt.min(),new Map,new oe(Ct),d,y);await SE(a,p),a.Ru=a.Ru.remove(h),a.Au.delete(e),Dm(a)}else await Fd(a.localStore,e,!1).then((()=>Yd(a,e,i))).catch(Yr)}async function Ow(r,e){const i=yt(r),a=e.batch.batchId;try{const o=await H2(i.localStore,e);wE(i,a,null),AE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Lo(i,o)}catch(o){await Yr(o)}}async function jw(r,e,i){const a=yt(r);try{const o=await(function(d,y){const p=yt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return p.mutationQueue.lookupMutationBatch(_,y).next((A=>(qt(A!==null,37113),b=A.keys(),p.mutationQueue.removeMutationBatch(_,A)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,b,y))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>p.localDocuments.getDocuments(_,b)))}))})(a.localStore,e);wE(a,e,i),AE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Lo(a,o)}catch(o){await Yr(o)}}function AE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function wE(r,e,i){const a=yt(r);let o=a.du[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function Yd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((a=>{r.Vu.containsKey(a)||xE(r,a)}))}function xE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.Ru.get(e);i!==null&&(Sm(r.remoteStore,i),r.Ru=r.Ru.remove(e),r.Au.delete(i),Dm(r))}function xv(r,e,i){for(const a of i)a instanceof EE?(r.Vu.addReference(a.key,e),Uw(r,a)):a instanceof TE?(st(Im,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,e),r.Vu.containsKey(a.key)||xE(r,a.key)):dt(19791,{wu:a})}function Uw(r,e){const i=e.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(st(Im,"New document in limbo: "+i),r.Eu.add(a),Dm(r))}function Dm(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ct($t.fromString(e)),a=r.fu.next();r.Au.set(a,new ww(i)),r.Ru=r.Ru.insert(i,a),hE(r.remoteStore,new js(Ri($c(i.path)),a,"TargetPurposeLimboResolution",Xc.ce))}}async function Lo(r,e,i){const a=yt(r),o=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,p)=>{d.push(a.pu(p,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(_){o.push(_);const b=Tm.Es(p.targetId,_);h.push(b)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(p,_){const b=yt(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(_,(M=>J.forEach(M.Ts,(H=>b.persistence.referenceDelegate.addReference(A,M.targetId,H))).next((()=>J.forEach(M.Is,(H=>b.persistence.referenceDelegate.removeReference(A,M.targetId,H)))))))))}catch(A){if(!Kr(A))throw A;st(bm,"Failed to update sequence numbers: "+A)}for(const A of _){const M=A.targetId;if(!A.fromCache){const H=b.vs.get(M),F=H.snapshotVersion,$=H.withLastLimboFreeSnapshotVersion(F);b.vs=b.vs.insert(M,$)}}})(a.localStore,h))}async function Lw(r,e){const i=yt(r);if(!i.currentUser.isEqual(e)){st(Im,"User change. New user:",e.toKey());const a=await lE(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((p=>{p.reject(new it(Z.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Lo(i,a.Ns)}}function kw(r,e){const i=yt(r),a=i.Au.get(e);if(a&&a.hu)return It().add(a.key);{let o=It();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function RE(r){const e=yt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=SE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mw.bind(null,e),e.Pu.J_=Tw.bind(null,e.eventManager),e.Pu.yu=bw.bind(null,e.eventManager),e}function zw(r){const e=yt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ow.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jw.bind(null,e),e}class Pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return q2(this.persistence,new z2,e.initialUser,this.serializer)}Cu(e){return new rE(Em.Vi,this.serializer)}Du(e){return new X2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pc.provider={build:()=>new Pc};class Pw extends Pc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){qt(this.persistence.referenceDelegate instanceof kc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new A2(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new rE((a=>kc.Vi(a,i)),this.serializer)}}class Kd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>wv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lw.bind(null,this.syncEngine),await _w(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Ew})()}createDatastore(e){const i=sh(e.databaseInfo.databaseId),a=tw(e.databaseInfo);return aw(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,h,d,y){return new lw(a,o,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>wv(this.syncEngine,i,0)),(function(){return vv.v()?new vv:new Z2})())}createSyncEngine(e,i){return(function(o,h,d,y,p,_,b){const A=new xw(o,h,d,y,p,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=yt(i);st(Da,"RemoteStore shutting down."),a.Ea.add(5),await Uo(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Kd.provider={build:()=>new Kd};class NE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Qs="FirestoreClient";class Bw{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{st(Qs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(Qs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Nm(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Ad(r,e){r.asyncQueue.verifyOperationInProgress(),st(Qs,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await lE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Rv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await qw(r);st(Qs,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Tv(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Tv(e.remoteStore,o))),r._onlineComponents=e}async function qw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(Qs,"Using user provided OfflineComponentProvider");try{await Ad(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;To("Error using user provided cache. Falling back to memory cache: "+i),await Ad(r,new Pc)}}else st(Qs,"Using default OfflineComponentProvider"),await Ad(r,new Pw(void 0));return r._offlineComponents}async function CE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(Qs,"Using user provided OnlineComponentProvider"),await Rv(r,r._uninitializedComponentsProvider._online)):(st(Qs,"Using default OnlineComponentProvider"),await Rv(r,new Kd))),r._onlineComponents}function Hw(r){return CE(r).then((e=>e.syncEngine))}async function Xd(r){const e=await CE(r),i=e.eventManager;return i.onListen=Rw.bind(null,e.syncEngine),i.onUnlisten=Iw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Nw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Dw.bind(null,e.syncEngine),i}function Fw(r,e,i,a){const o=new NE(a),h=new vE(e,o,i);return r.asyncQueue.enqueueAndForget((async()=>yE(await Xd(r),h))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>_E(await Xd(r),h)))}}function Gw(r,e,i={}){const a=new zs;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,p,_){const b=new NE({next:M=>{b.Nu(),d.enqueueAndForget((()=>_E(h,A)));const H=M.docs.has(y);!H&&M.fromCache?_.reject(new it(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&M.fromCache&&p&&p.source==="server"?_.reject(new it(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new vE($c(y.path),b,{includeMetadataChanges:!0,Ka:!0});return yE(h,A)})(await Xd(r),r.asyncQueue,e,i,a))),a.promise}function Qw(r,e){const i=new zs;return r.asyncQueue.enqueueAndForget((async()=>Vw(await Hw(r),e,i))),i.promise}function IE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Yw="ComponentProvider",Nv=new Map;function Kw(r,e,i,a,o){return new g1(r,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,IE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const Xw="firestore.googleapis.com",Cv=!0;class Iv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new it(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xw,this.ssl=Cv}else this.host=e.host,this.ssl=e.ssl??Cv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<b2)throw new it(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}s1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new it(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new it(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new it(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vm{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Iv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Iv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new XA;switch(a.type){case"firstParty":return new $A(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new it(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Nv.get(i);a&&(st(Yw,"Removing Datastore"),Nv.delete(i),a.terminate())})(this),Promise.resolve()}}class Zr{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Zr(this.firestore,e,this._query)}}class ye{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ye(this.firestore,e,this._key)}toJSON(){return{type:ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Vo(i,ye._jsonSchema))return new ye(e,a||null,new ct($t.fromString(i.referencePath)))}}ye._jsonSchemaVersion="firestore/documentReference/1.0",ye._jsonSchema={type:Ce("string",ye._jsonSchemaVersion),referencePath:Ce("string")};class Ps extends Zr{constructor(e,i,a){super(e,i,$c(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ye(this.firestore,null,new ct(e))}withConverter(e){return new Ps(this.firestore,e,this._path)}}function Oe(r,e,...i){if(r=nn(r),y0("collection","path",e),r instanceof Vm){const a=$t.fromString(e,...i);return H_(a),new Ps(r,null,a)}{if(!(r instanceof ye||r instanceof Ps))throw new it(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child($t.fromString(e,...i));return H_(a),new Ps(r.firestore,null,a)}}function Wn(r,e,...i){if(r=nn(r),arguments.length===1&&(e=om.newId()),y0("doc","path",e),r instanceof Vm){const a=$t.fromString(e,...i);return q_(a),new ye(r,null,new ct(a))}{if(!(r instanceof ye||r instanceof Ps))throw new it(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child($t.fromString(e,...i));return q_(a),new ye(r.firestore,r instanceof Ps?r.converter:null,new ct(a))}}const Dv="AsyncQueue";class Vv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uE(this,"async_queue_retry"),this._c=()=>{const a=Sd();a&&st(Dv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Sd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Sd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Kr(e))throw e;st(Dv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",Mv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Rm.createAndSchedule(this,e,i,a,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&dt(47125,{Pc:Mv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Mv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Va extends Vm{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new Vv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vv(e),this._firestoreClient=void 0,await e}}}function Mm(r){if(r._terminated)throw new it(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Zw(r),r._firestoreClient}function Zw(r){const e=r._freezeSettings(),i=Kw(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Bw(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(r._componentsProvider))}class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Ke.fromBase64String(e))}catch(i){throw new it(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ln(Ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vo(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ce("string",Ln._jsonSchemaVersion),bytes:Ce("string")};class Om{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new it(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jm{constructor(e){this._methodName=e}}class Ci{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new it(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new it(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(e){if(Vo(e,Ci._jsonSchema))return new Ci(e.latitude,e.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Ce("string",Ci._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class ei{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vo(e,ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ei(e.vectorValues);throw new it(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Ce("string",ei._jsonSchemaVersion),vectorValues:Ce("object")};const Jw=/^__.*__$/;class $w{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,i,this.fieldTransforms):new Oo(e,this.data,i,this.fieldTransforms)}}class DE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Xs(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function VE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{dataSource:r})}}class Um{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Um({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Bc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(VE(this.dataSource)&&Jw.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Ww{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||sh(e)}createContext(e,i,a,o=!1){return new Um({dataSource:e,methodName:i,targetDoc:a,path:Ye.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lm(r){const e=r._freezeSettings(),i=sh(r._databaseId);return new Ww(r._databaseId,!!e.ignoreUndefinedProperties,i)}function tx(r,e,i,a,o,h={}){const d=r.createContext(h.merge||h.mergeFields?2:0,e,i,o);km("Data must be an object, but it was:",d,a);const y=ME(a,d);let p,_;if(h.merge)p=new Sn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const b=[];for(const A of h.mergeFields){const M=No(e,A,i);if(!d.contains(M))throw new it(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);UE(b,M)||b.push(M)}p=new Sn(b),_=d.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,_=d.fieldTransforms;return new $w(new dn(y),p,_)}class lh extends jm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lh}}function ex(r,e,i,a){const o=r.createContext(1,e,i);km("Data must be an object, but it was:",o,a);const h=[],d=dn.empty();Ks(a,((p,_)=>{const b=jE(e,p,i);_=nn(_);const A=o.childContextForFieldPath(b);if(_ instanceof lh)h.push(b);else{const M=ko(_,A);M!=null&&(h.push(b),d.set(b,M))}}));const y=new Sn(h);return new DE(d,y,o.fieldTransforms)}function nx(r,e,i,a,o,h){const d=r.createContext(1,e,i),y=[No(e,a,i)],p=[o];if(h.length%2!=0)throw new it(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<h.length;M+=2)y.push(No(e,h[M])),p.push(h[M+1]);const _=[],b=dn.empty();for(let M=y.length-1;M>=0;--M)if(!UE(_,y[M])){const H=y[M];let F=p[M];F=nn(F);const $=d.childContextForFieldPath(H);if(F instanceof lh)_.push(H);else{const W=ko(F,$);W!=null&&(_.push(H),b.set(H,W))}}const A=new Sn(_);return new DE(b,A,d.fieldTransforms)}function ix(r,e,i,a=!1){return ko(i,r.createContext(a?4:3,e))}function ko(r,e){if(OE(r=nn(r)))return km("Unsupported field value:",e,r),ME(r,e);if(r instanceof jm)return(function(a,o){if(!VE(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const h=[];let d=0;for(const y of a){let p=ko(y,o.childContextForArray(d));p==null&&(p={nullValue:"NULL_VALUE"}),h.push(p),d++}return{arrayValue:{values:h}}})(r,e)}return(function(a,o){if((a=nn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return P1(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ee.fromDate(a);return{timestampValue:Lc(o.serializer,h)}}if(a instanceof ee){const h=new ee(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Lc(o.serializer,h)}}if(a instanceof Ci)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ln)return{bytesValue:J0(o.serializer,a._byteString)};if(a instanceof ye){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:_m(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ei)return(function(d,y){const p=d instanceof ei?d.toArray():d;return{mapValue:{fields:{[x0]:{stringValue:R0},[Vc]:{arrayValue:{values:p.map((b=>{if(typeof b!="number")throw y.createError("VectorValues must only contain numeric values.");return mm(y.serializer,b)}))}}}}}})(a,o);if(sE(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Kc(a)}`)})(r,e)}function ME(r,e){const i={};return E0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(r,((a,o)=>{const h=ko(o,e.childContextForField(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function OE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ee||r instanceof Ci||r instanceof Ln||r instanceof ye||r instanceof jm||r instanceof ei||sE(r))}function km(r,e,i){if(!OE(i)||!_0(i)){const a=Kc(i);throw a==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+a)}}function No(r,e,i){if((e=nn(e))instanceof Om)return e._internalPath;if(typeof e=="string")return jE(r,e);throw Bc("Field path arguments must be of type string or ",r,!1,void 0,i)}const sx=new RegExp("[~\\*/\\[\\]]");function jE(r,e,i){if(e.search(sx)>=0)throw Bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Om(...e.split("."))._internalPath}catch{throw Bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Bc(r,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let p="";return(h||d)&&(p+=" (found",h&&(p+=` in field ${a}`),d&&(p+=` in document ${o}`),p+=")"),new it(Z.INVALID_ARGUMENT,y+r+p)}function UE(r,e){return r.some((i=>i.isEqual(e)))}class ax{convertValue(e,i="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Ks(e,((o,h)=>{a[o]=this.convertValue(h,i)})),a}convertVectorValue(e){const i=e.fields?.[Vc].arrayValue?.values?.map((a=>pe(a.doubleValue)));return new ei(i)}convertGeoPoint(e){return new Ci(pe(e.latitude),pe(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Jc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(So(e));default:return null}}convertTimestamp(e){const i=qs(e);return new ee(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=$t.fromString(e);qt(iE(a),9688,{name:e});const o=new Ao(a.get(1),a.get(3)),h=new ct(a.popFirst(5));return o.isEqual(i)||Wi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class LE extends ax{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ye(this.firestore,null,i)}}const Ov="@firebase/firestore",jv="4.10.0";function Uv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of a)if(h in o&&typeof o[h]=="function")return!0;return!1})(r,["next","error","complete"])}class kE{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(No("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class rx extends kE{data(){return super.data()}}function lx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new it(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zm{}class ox extends zm{}function kn(r,e,...i){let a=[];e instanceof zm&&a.push(e),a=a.concat(i),(function(h){const d=h.filter((p=>p instanceof Bm)).length,y=h.filter((p=>p instanceof Pm)).length;if(d>1||d>0&&y>0)throw new it(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class Pm extends ox{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Pm(e,i,a)}_apply(e){const i=this._parse(e);return zE(e._query,i),new Zr(e.firestore,e.converter,kd(e._query,i))}_parse(e){const i=Lm(e.firestore);return(function(h,d,y,p,_,b,A){let M;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new it(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){kv(A,b);const F=[];for(const $ of A)F.push(Lv(p,h,$));M={arrayValue:{values:F}}}else M=Lv(p,h,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||kv(A,b),M=ix(y,d,A,b==="in"||b==="not-in");return Ne.create(_,b,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Bm extends zm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Bm(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:ii.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const y=h.getFlattenedFilters();for(const p of y)zE(d,p),d=kd(d,p)})(e._query,i),new Zr(e.firestore,e.converter,kd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Lv(r,e,i){if(typeof(i=nn(i))=="string"){if(i==="")throw new it(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j0(e)&&i.indexOf("/")!==-1)throw new it(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child($t.fromString(i));if(!ct.isDocumentKey(a))throw new it(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return J_(r,new ct(a))}if(i instanceof ye)return J_(r,i._key);throw new it(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kc(i)}.`)}function kv(r,e){if(!Array.isArray(r)||r.length===0)throw new it(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zE(r,e){const i=(function(o,h){for(const d of o)for(const y of d.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new it(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function ux(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class ho{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ca extends kE{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(No("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ca._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ca._jsonSchema={type:Ce("string",Ca._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class xc extends Ca{data(e={}){return super.data(e)}}class Ur{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ho(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new xc(this._firestore,this._userDataWriter,a.key,a,new ho(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const p=new xc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new ho(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const p=new xc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new ho(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,b=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),b=d.indexOf(y.doc.key)),{type:cx(y.type),doc:p,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ur._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:r})}}Ur._jsonSchemaVersion="firestore/querySnapshot/1.0",Ur._jsonSchema={type:Ce("string",Ur._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};function hx(r){r=Ji(r,ye);const e=Ji(r.firestore,Va),i=Mm(e);return Gw(i,r._key).then((a=>PE(e,r,a)))}function Zd(r,e,i,...a){r=Ji(r,ye);const o=Ji(r.firestore,Va),h=Lm(o);let d;return d=typeof(e=nn(e))=="string"||e instanceof Om?nx(h,"updateDoc",r._key,e,i,a):ex(h,"updateDoc",r._key,e),qm(o,[d.toMutation(r._key,ti.exists(!0))])}function Jr(r){return qm(Ji(r.firestore,Va),[new gm(r._key,ti.none())])}function ja(r,e){const i=Ji(r.firestore,Va),a=Wn(r),o=ux(r.converter,e),h=Lm(r.firestore);return qm(i,[tx(h,"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,ti.exists(!1))]).then((()=>a))}function zn(r,...e){r=nn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Uv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Uv(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let h,d,y;if(r instanceof ye)d=Ji(r.firestore,Va),y=$c(r._key.path),h={next:_=>{e[a]&&e[a](PE(d,r,_))},error:e[a+1],complete:e[a+2]};else{const _=Ji(r,Zr);d=Ji(_.firestore,Va),y=_._query;const b=new LE(d);h={next:A=>{e[a]&&e[a](new Ur(d,b,_,A))},error:e[a+1],complete:e[a+2]},lx(r._query)}const p=Mm(d);return Fw(p,y,o,h)}function qm(r,e){const i=Mm(r);return Qw(i,e)}function PE(r,e,i){const a=i.docs.get(e._key),o=new LE(r);return new Ca(r,o,e._key,a,new ho(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){YA(Qc),kr(new Lr("firestore",((a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),y=new Va(new ZA(a.getProvider("auth-internal")),new WA(d,a.getProvider("app-check-internal")),p1(d,o),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),Ls(Ov,jv,e),Ls(Ov,jv,"esm2020")})();const BE=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const fx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const dx=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const zv=r=>{const e=dx(r);return e.charAt(0).toUpperCase()+e.slice(1)};var mx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gx=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const px=_t.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:h,iconNode:d,...y},p)=>_t.createElement("svg",{ref:p,...mx,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:BE("lucide",o),...!h&&!gx(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,b])=>_t.createElement(_,b)),...Array.isArray(h)?h:[h]]));const ne=(r,e)=>{const i=_t.forwardRef(({className:a,...o},h)=>_t.createElement(px,{ref:h,iconNode:e,className:BE(`lucide-${fx(zv(r))}`,`lucide-${r}`,a),...o}));return i.displayName=zv(r),i};const yx=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Jd=ne("briefcase",yx);const _x=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vx=ne("chevron-right",_x);const Ex=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Tx=ne("circle-alert",Ex);const bx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Sx=ne("circle-check-big",bx);const Ax=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wx=ne("clock",Ax);const xx=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],Rx=ne("contact",xx);const Nx=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],qc=ne("credit-card",Nx);const Cx=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Hc=ne("factory",Cx);const Ix=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],$d=ne("file-chart-column-increasing",Ix);const Dx=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],vo=ne("landmark",Dx);const Vx=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Wd=ne("layout-dashboard",Vx);const Mx=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Ox=ne("menu",Mx);const jx=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ux=ne("minus",jx);const Lx=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Fc=ne("package",Lx);const kx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ua=ne("plus",kx);const zx=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$r=ne("save",zx);const Px=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qE=ne("search",Px);const Bx=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],qx=ne("shopping-cart",Bx);const Hx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Wr=ne("trash-2",Hx);const Fx=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Hm=ne("trending-down",Fx);const Gx=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],HE=ne("trending-up",Gx);const Qx=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Pv=ne("truck",Qx);const Yx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Gc=ne("users",Yx);const Kx=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Gr=ne("wallet",Kx);const Xx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],FE=ne("x",Xx),en=({title:r,value:e,icon:i,colorClass:a,bgClass:o})=>E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between transition hover:shadow-md",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:r}),E.jsx("h3",{className:`text-2xl font-bold ${a}`,children:e})]}),E.jsx("div",{className:`p-3 rounded-full ${o}`,children:E.jsx(i,{size:24,className:a})})]}),tl=({title:r,onClose:e,children:i})=>E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[E.jsxs("div",{className:"bg-slate-800 p-4 flex justify-between items-center text-white",children:[E.jsx("h3",{className:"font-bold text-lg",children:r}),E.jsx("button",{onClick:e,className:"hover:bg-slate-700 p-1 rounded",children:E.jsx(FE,{size:20})})]}),E.jsx("div",{className:"p-6 space-y-4 max-h-[80vh] overflow-y-auto",children:i})]})}),Zx=({onSave:r,onCancel:e})=>{const[i,a]=_t.useState({type:"expense",description:"",amount:"",category:"",date:new Date().toISOString().split("T")[0]}),o=h=>{h.preventDefault(),!(!i.description||!i.amount)&&r({...i,amount:parseFloat(i.amount)})};return E.jsx(tl,{title:"Yeni lem Ekle",onClose:e,children:E.jsxs("form",{onSubmit:o,className:"space-y-4",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("button",{type:"button",onClick:()=>a({...i,type:"income"}),className:`p-3 rounded-lg font-medium flex items-center justify-center gap-2 border ${i.type==="income"?"bg-green-100 border-green-500 text-green-700":"bg-gray-50 border-gray-200 text-gray-600"}`,children:[E.jsx(HE,{size:18})," Gelir"]}),E.jsxs("button",{type:"button",onClick:()=>a({...i,type:"expense"}),className:`p-3 rounded-lg font-medium flex items-center justify-center gap-2 border ${i.type==="expense"?"bg-red-100 border-red-500 text-red-700":"bg-gray-50 border-gray-200 text-gray-600"}`,children:[E.jsx(Hm,{size:18})," Gider"]})]}),E.jsx("input",{type:"text",required:!0,className:"w-full p-3 border rounded-lg",placeholder:"Aklama",value:i.description,onChange:h=>a({...i,description:h.target.value})}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",className:"w-full p-3 border rounded-lg",placeholder:"Tutar (TL)",value:i.amount,onChange:h=>a({...i,amount:h.target.value})}),E.jsx("input",{type:"date",required:!0,className:"w-full p-3 border rounded-lg",value:i.date,onChange:h=>a({...i,date:h.target.value})})]}),E.jsxs("select",{className:"w-full p-3 border rounded-lg",value:i.category,onChange:h=>a({...i,category:h.target.value}),children:[E.jsx("option",{value:"",children:"Kategori Se..."}),i.type==="income"?E.jsxs(E.Fragment,{children:[E.jsx("option",{value:"Satis",children:"Sat"}),E.jsx("option",{value:"Yatirim",children:"Yatrm"}),E.jsx("option",{value:"POS",children:"POS Geliri"})]}):E.jsxs(E.Fragment,{children:[E.jsx("option",{value:"Demirbas",children:"Demirba"}),E.jsx("option",{value:"Personel",children:"Personel"}),E.jsx("option",{value:"Vergi",children:"Vergi"}),E.jsx("option",{value:"Uretim",children:"retim Maliyeti"})]})]}),E.jsxs("button",{type:"submit",className:"w-full bg-slate-800 text-white p-3 rounded-lg font-bold hover:bg-slate-700 transition flex justify-center gap-2",children:[E.jsx($r,{size:18})," Kaydet"]})]})})},Jx=({onSave:r,onCancel:e})=>{const[i,a]=_t.useState({name:"",quantity:"",unit:"Adet",price:"",minStock:""}),o=h=>{h.preventDefault(),r({...i,quantity:parseInt(i.quantity),price:parseFloat(i.price),minStock:parseInt(i.minStock)})};return E.jsx(tl,{title:"Yeni rn Ekle",onClose:e,children:E.jsxs("form",{onSubmit:o,className:"space-y-4",children:[E.jsx("input",{type:"text",required:!0,className:"w-full p-3 border rounded-lg",placeholder:"rn Ad",value:i.name,onChange:h=>a({...i,name:h.target.value})}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("input",{type:"number",required:!0,className:"w-full p-3 border rounded-lg",placeholder:"Stok Adedi",value:i.quantity,onChange:h=>a({...i,quantity:h.target.value})}),E.jsxs("select",{className:"w-full p-3 border rounded-lg",value:i.unit,onChange:h=>a({...i,unit:h.target.value}),children:[E.jsx("option",{children:"Adet"}),E.jsx("option",{children:"Kg"}),E.jsx("option",{children:"Lt"}),E.jsx("option",{children:"Kutu"}),E.jsx("option",{children:"Metre"})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("input",{type:"number",required:!0,className:"w-full p-3 border rounded-lg",placeholder:"Birim Fiyat (TL)",value:i.price,onChange:h=>a({...i,price:h.target.value})}),E.jsx("input",{type:"number",className:"w-full p-3 border rounded-lg",placeholder:"Kritik Stok",value:i.minStock,onChange:h=>a({...i,minStock:h.target.value})})]}),E.jsxs("button",{type:"submit",className:"w-full bg-slate-800 text-white p-3 rounded-lg font-bold flex justify-center gap-2",children:[E.jsx($r,{size:18})," Kaydet"]})]})})},$x=({onSave:r,onCancel:e})=>{const[i,a]=_t.useState({name:"",role:"",salary:"",phone:"",startDate:new Date().toISOString().split("T")[0]}),o=h=>{h.preventDefault(),r({...i,salary:parseFloat(i.salary)})};return E.jsx(tl,{title:"Yeni Personel Ekle",onClose:e,children:E.jsxs("form",{onSubmit:o,className:"space-y-4",children:[E.jsx("input",{type:"text",required:!0,className:"w-full p-3 border rounded-lg",placeholder:"Ad Soyad",value:i.name,onChange:h=>a({...i,name:h.target.value})}),E.jsx("input",{type:"text",required:!0,className:"w-full p-3 border rounded-lg",placeholder:"Pozisyon / Grev",value:i.role,onChange:h=>a({...i,role:h.target.value})}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("input",{type:"number",required:!0,className:"w-full p-3 border rounded-lg",placeholder:"Maa (TL)",value:i.salary,onChange:h=>a({...i,salary:h.target.value})}),E.jsx("input",{type:"tel",className:"w-full p-3 border rounded-lg",placeholder:"Telefon",value:i.phone,onChange:h=>a({...i,phone:h.target.value})})]}),E.jsx("input",{type:"date",className:"w-full p-3 border rounded-lg",value:i.startDate,onChange:h=>a({...i,startDate:h.target.value})}),E.jsxs("button",{type:"submit",className:"w-full bg-slate-800 text-white p-3 rounded-lg font-bold flex justify-center gap-2",children:[E.jsx($r,{size:18})," Kaydet"]})]})})},Wx=({onSave:r,onCancel:e})=>{const[i,a]=_t.useState({bankName:"",iban:"",balance:"",currency:"TRY"}),o=h=>{h.preventDefault(),r({...i,balance:parseFloat(i.balance)})};return E.jsx(tl,{title:"Yeni Banka Hesab",onClose:e,children:E.jsxs("form",{onSubmit:o,className:"space-y-4",children:[E.jsx("input",{type:"text",required:!0,className:"w-full p-3 border rounded-lg",placeholder:"Banka Ad (rn: Ziraat)",value:i.bankName,onChange:h=>a({...i,bankName:h.target.value})}),E.jsx("input",{type:"text",required:!0,className:"w-full p-3 border rounded-lg",placeholder:"IBAN / Hesap No",value:i.iban,onChange:h=>a({...i,iban:h.target.value})}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("input",{type:"number",required:!0,className:"w-full p-3 border rounded-lg",placeholder:"lk Bakiye",value:i.balance,onChange:h=>a({...i,balance:h.target.value})}),E.jsxs("select",{className:"w-full p-3 border rounded-lg",value:i.currency,onChange:h=>a({...i,currency:h.target.value}),children:[E.jsx("option",{value:"TRY",children:"TRY"}),E.jsx("option",{value:"USD",children:"USD"}),E.jsx("option",{value:"EUR",children:"EUR"})]})]}),E.jsxs("button",{type:"submit",className:"w-full bg-slate-800 text-white p-3 rounded-lg font-bold flex justify-center gap-2",children:[E.jsx($r,{size:18})," Kaydet"]})]})})},tR=({type:r,onSave:e,onCancel:i})=>{const[a,o]=_t.useState({name:"",company:"",phone:"",email:"",balance:""}),h=d=>{d.preventDefault(),e({...a,balance:parseFloat(a.balance||0),type:r})};return E.jsx(tl,{title:r==="customer"?"Yeni Mteri":"Yeni Tedariki",onClose:i,children:E.jsxs("form",{onSubmit:h,className:"space-y-4",children:[E.jsx("input",{type:"text",required:!0,className:"w-full p-3 border rounded-lg",placeholder:r==="customer"?"Mteri Ad":"Tedariki Firma",value:a.name,onChange:d=>o({...a,name:d.target.value})}),E.jsx("input",{type:"text",className:"w-full p-3 border rounded-lg",placeholder:"irket nvan (Opsiyonel)",value:a.company,onChange:d=>o({...a,company:d.target.value})}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("input",{type:"tel",className:"w-full p-3 border rounded-lg",placeholder:"Telefon",value:a.phone,onChange:d=>o({...a,phone:d.target.value})}),E.jsx("input",{type:"email",className:"w-full p-3 border rounded-lg",placeholder:"E-posta",value:a.email,onChange:d=>o({...a,email:d.target.value})})]}),E.jsx("input",{type:"number",className:"w-full p-3 border rounded-lg",placeholder:r==="customer"?"Balang Alaca (TL)":"Balang Borcu (TL)",value:a.balance,onChange:d=>o({...a,balance:d.target.value})}),E.jsxs("button",{type:"submit",className:"w-full bg-slate-800 text-white p-3 rounded-lg font-bold flex justify-center gap-2",children:[E.jsx($r,{size:18})," Kaydet"]})]})})},eR=({items:r,onSave:e,onCancel:i})=>{const[a,o]=_t.useState({itemId:"",quantity:"",note:"",status:"planned"}),h=d=>{if(d.preventDefault(),!a.itemId)return;const y=r.find(p=>p.id===a.itemId);e({...a,quantity:parseInt(a.quantity),itemName:y?.name,date:new Date().toISOString()})};return E.jsx(tl,{title:"Yeni retim Emri",onClose:i,children:E.jsxs("form",{onSubmit:h,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"retilecek rn"}),E.jsxs("select",{className:"w-full p-3 border rounded-lg",value:a.itemId,onChange:d=>o({...a,itemId:d.target.value}),required:!0,children:[E.jsx("option",{value:"",children:"rn Seiniz..."}),r.map(d=>E.jsxs("option",{value:d.id,children:[d.name," (Mevcut: ",d.quantity,")"]},d.id))]})]}),E.jsx("input",{type:"number",required:!0,className:"w-full p-3 border rounded-lg",placeholder:"retilecek Miktar",value:a.quantity,onChange:d=>o({...a,quantity:d.target.value})}),E.jsx("input",{type:"text",className:"w-full p-3 border rounded-lg",placeholder:"Not / Parti No",value:a.note,onChange:d=>o({...a,note:d.target.value})}),E.jsxs("select",{className:"w-full p-3 border rounded-lg",value:a.status,onChange:d=>o({...a,status:d.target.value}),children:[E.jsx("option",{value:"planned",children:"Planland"}),E.jsx("option",{value:"in_progress",children:"lemde"}),E.jsx("option",{value:"completed",children:"Tamamland"})]}),E.jsxs("button",{type:"submit",className:"w-full bg-slate-800 text-white p-3 rounded-lg font-bold flex justify-center gap-2",children:[E.jsx($r,{size:18})," Emri Olutur"]})]})})},nR=({user:r,appId:e})=>{const[i,a]=_t.useState([]),[o,h]=_t.useState(!1),[d,y]=_t.useState("");_t.useEffect(()=>{const M=kn(Oe(db,"artifacts",e,"users",r.uid,"transactions")),H=zn(M,F=>{const $=F.docs.map(W=>({id:W.id,...W.data()})).sort((W,lt)=>new Date(lt.date)-new Date(W.date));a($)});return()=>H()},[r,e]);const p=async M=>{await ja(Oe(db,"artifacts",e,"users",r.uid,"transactions"),{...M,createdAt:new Date().toISOString()}),h(!1)},_=async M=>{confirm("Silinsin mi?")&&await Jr(Wn(db,"artifacts",e,"users",r.uid,"transactions",M))},b=_t.useMemo(()=>i.reduce((M,H)=>{const F=H.type==="income"?H.amount:-H.amount;return{...M,[H.type]:M[H.type]+H.amount,balance:M.balance+F}},{income:0,expense:0,balance:0}),[i]),A=i.filter(M=>M.description.toLowerCase().includes(d.toLowerCase()));return E.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsx(en,{title:"Toplam Gelir",value:`${b.income.toLocaleString()}`,icon:HE,colorClass:"text-green-600",bgClass:"bg-green-50"}),E.jsx(en,{title:"Toplam Gider",value:`${b.expense.toLocaleString()}`,icon:Hm,colorClass:"text-red-600",bgClass:"bg-red-50"}),E.jsx(en,{title:"Net Bakiye",value:`${b.balance.toLocaleString()}`,icon:Gr,colorClass:"text-blue-600",bgClass:"bg-blue-50"})]}),E.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[E.jsxs("div",{className:"p-6 border-b border-gray-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[E.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[E.jsx(Wd,{className:"text-slate-500"})," Hareketler"]}),E.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[E.jsxs("div",{className:"relative flex-grow",children:[E.jsx(qE,{className:"absolute left-3 top-3 text-gray-400",size:16}),E.jsx("input",{type:"text",placeholder:"Ara...",className:"pl-10 p-2 border rounded-lg w-full",value:d,onChange:M=>y(M.target.value)})]}),E.jsxs("button",{onClick:()=>h(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 hover:bg-blue-700 whitespace-nowrap",children:[E.jsx(Ua,{size:18})," Yeni lem"]})]})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-slate-50 text-slate-500 text-sm",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-4",children:"Tarih"}),E.jsx("th",{className:"p-4",children:"Aklama"}),E.jsx("th",{className:"p-4 text-right",children:"Tutar"}),E.jsx("th",{className:"p-4 text-center",children:"lem"})]})}),E.jsx("tbody",{className:"divide-y",children:A.map(M=>E.jsxs("tr",{className:"hover:bg-slate-50",children:[E.jsx("td",{className:"p-4 text-sm text-gray-600",children:M.date}),E.jsxs("td",{className:"p-4 font-medium",children:[M.description," ",E.jsx("span",{className:"text-xs text-gray-400 block",children:M.category})]}),E.jsxs("td",{className:`p-4 text-right font-bold ${M.type==="income"?"text-green-600":"text-red-600"}`,children:[M.type==="income"?"+":"-"," ",M.amount.toLocaleString()]}),E.jsx("td",{className:"p-4 text-center",children:E.jsx("button",{onClick:()=>_(M.id),className:"text-gray-300 hover:text-red-500",children:E.jsx(Wr,{size:18})})})]},M.id))})]})})]}),o&&E.jsx(Zx,{onSave:p,onCancel:()=>h(!1)})]})},iR=({user:r,appId:e})=>{const[i,a]=_t.useState([]),[o,h]=_t.useState(!1);_t.useEffect(()=>{const p=zn(kn(Oe(db,"artifacts",e,"users",r.uid,"inventory")),_=>a(_.docs.map(b=>({id:b.id,...b.data()}))));return()=>p()},[r,e]);const d=async p=>{await ja(Oe(db,"artifacts",e,"users",r.uid,"inventory"),p),h(!1)},y=async p=>{confirm("Silinsin mi?")&&await Jr(Wn(db,"artifacts",e,"users",r.uid,"inventory",p))};return E.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsx(en,{title:"Toplam rn eidi",value:i.length,icon:Fc,colorClass:"text-indigo-600",bgClass:"bg-indigo-50"}),E.jsx(en,{title:"Kritik Stoktaki rnler",value:i.filter(p=>p.quantity<=p.minStock).length,icon:Hm,colorClass:"text-orange-600",bgClass:"bg-orange-50"}),E.jsx(en,{title:"Toplam Stok Deeri",value:`${i.reduce((p,_)=>p+_.quantity*_.price,0).toLocaleString()}`,icon:Gr,colorClass:"text-emerald-600",bgClass:"bg-emerald-50"})]}),E.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[E.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[E.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[E.jsx(Fc,{className:"text-slate-500"})," Stok Listesi"]}),E.jsxs("button",{onClick:()=>h(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 hover:bg-indigo-700",children:[E.jsx(Ua,{size:18})," Yeni rn"]})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-slate-50 text-slate-500 text-sm",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-4",children:"rn Ad"}),E.jsx("th",{className:"p-4",children:"Stok"}),E.jsx("th",{className:"p-4",children:"Birim Fiyat"}),E.jsx("th",{className:"p-4 text-center",children:"lem"})]})}),E.jsx("tbody",{className:"divide-y",children:i.map(p=>E.jsxs("tr",{className:"hover:bg-slate-50",children:[E.jsx("td",{className:"p-4 font-medium",children:p.name}),E.jsx("td",{className:"p-4",children:E.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${p.quantity<=p.minStock?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:[p.quantity," ",p.unit]})}),E.jsxs("td",{className:"p-4",children:["",p.price.toLocaleString()]}),E.jsx("td",{className:"p-4 text-center",children:E.jsx("button",{onClick:()=>y(p.id),className:"text-gray-300 hover:text-red-500",children:E.jsx(Wr,{size:18})})})]},p.id))})]})})]}),o&&E.jsx(Jx,{onSave:d,onCancel:()=>h(!1)})]})},sR=({user:r,appId:e})=>{const[i,a]=_t.useState([]),[o,h]=_t.useState(!1);_t.useEffect(()=>{const p=zn(kn(Oe(db,"artifacts",e,"users",r.uid,"personnel")),_=>a(_.docs.map(b=>({id:b.id,...b.data()}))));return()=>p()},[r,e]);const d=async p=>{await ja(Oe(db,"artifacts",e,"users",r.uid,"personnel"),p),h(!1)},y=async p=>{confirm("Silinsin mi?")&&await Jr(Wn(db,"artifacts",e,"users",r.uid,"personnel",p))};return E.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsx(en,{title:"Toplam Personel",value:i.length,icon:Gc,colorClass:"text-purple-600",bgClass:"bg-purple-50"}),E.jsx(en,{title:"Aylk Maa Yk",value:`${i.reduce((p,_)=>p+_.salary,0).toLocaleString()}`,icon:Gr,colorClass:"text-pink-600",bgClass:"bg-pink-50"})]}),E.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[E.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[E.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[E.jsx(Jd,{className:"text-slate-500"})," Personel Listesi"]}),E.jsxs("button",{onClick:()=>h(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 hover:bg-purple-700",children:[E.jsx(Ua,{size:18})," Yeni Personel"]})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-slate-50 text-slate-500 text-sm",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-4",children:"Ad Soyad"}),E.jsx("th",{className:"p-4",children:"Pozisyon"}),E.jsx("th",{className:"p-4",children:"Maa"}),E.jsx("th",{className:"p-4",children:"Telefon"}),E.jsx("th",{className:"p-4 text-center",children:"lem"})]})}),E.jsx("tbody",{className:"divide-y",children:i.map(p=>E.jsxs("tr",{className:"hover:bg-slate-50",children:[E.jsx("td",{className:"p-4 font-medium",children:p.name}),E.jsx("td",{className:"p-4 text-sm text-gray-600",children:p.role}),E.jsxs("td",{className:"p-4 font-bold text-gray-700",children:["",p.salary.toLocaleString()]}),E.jsx("td",{className:"p-4 text-sm text-gray-500",children:p.phone}),E.jsx("td",{className:"p-4 text-center",children:E.jsx("button",{onClick:()=>y(p.id),className:"text-gray-300 hover:text-red-500",children:E.jsx(Wr,{size:18})})})]},p.id))})]})})]}),o&&E.jsx($x,{onSave:d,onCancel:()=>h(!1)})]})},aR=({user:r,appId:e})=>{const[i,a]=_t.useState([]),[o,h]=_t.useState(!1);_t.useEffect(()=>{const p=zn(kn(Oe(db,"artifacts",e,"users",r.uid,"bank_accounts")),_=>a(_.docs.map(b=>({id:b.id,...b.data()}))));return()=>p()},[r,e]);const d=async p=>{await ja(Oe(db,"artifacts",e,"users",r.uid,"bank_accounts"),p),h(!1)},y=async p=>{confirm("Silinsin mi?")&&await Jr(Wn(db,"artifacts",e,"users",r.uid,"bank_accounts",p))};return E.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsx(en,{title:"Toplam Varlk",value:`${i.reduce((p,_)=>_.currency==="TRY"?p+_.balance:p,0).toLocaleString()}`,icon:vo,colorClass:"text-cyan-600",bgClass:"bg-cyan-50"}),E.jsx(en,{title:"Hesap Says",value:i.length,icon:qc,colorClass:"text-blue-600",bgClass:"bg-blue-50"})]}),E.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[E.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[E.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[E.jsx(vo,{className:"text-slate-500"})," Banka Hesaplar"]}),E.jsxs("button",{onClick:()=>h(!0),className:"bg-cyan-600 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 hover:bg-cyan-700",children:[E.jsx(Ua,{size:18})," Yeni Hesap"]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-6",children:i.map(p=>E.jsxs("div",{className:"p-6 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition bg-gradient-to-br from-white to-slate-50 relative group",children:[E.jsx("button",{onClick:()=>y(p.id),className:"absolute top-4 right-4 text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition",children:E.jsx(Wr,{size:16})}),E.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[E.jsx("div",{className:"p-3 bg-white border rounded-lg",children:E.jsx(vo,{size:20,className:"text-cyan-600"})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-gray-800",children:p.bankName}),E.jsx("p",{className:"text-xs text-gray-500 font-mono",children:p.iban})]})]}),E.jsxs("div",{className:"text-2xl font-bold text-slate-800",children:[p.balance.toLocaleString()," ",E.jsx("span",{className:"text-sm font-normal text-gray-500",children:p.currency})]}),E.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Gncel Bakiye"})]},p.id))})]}),o&&E.jsx(Wx,{onSave:d,onCancel:()=>h(!1)})]})},rR=({user:r,appId:e})=>{const[i,a]=_t.useState([]),[o,h]=_t.useState([]),[d,y]=_t.useState("");_t.useEffect(()=>{const F=zn(kn(Oe(db,"artifacts",e,"users",r.uid,"inventory")),$=>a($.docs.map(W=>({id:W.id,...W.data()}))));return()=>F()},[r,e]);const p=F=>{h($=>$.find(lt=>lt.id===F.id)?$.map(lt=>lt.id===F.id?{...lt,count:lt.count+1}:lt):[...$,{...F,count:1}])},_=F=>{h($=>$.reduce((W,lt)=>(lt.id===F?lt.count>1&&W.push({...lt,count:lt.count-1}):W.push(lt),W),[]))},b=()=>h([]),A=async()=>{if(o.length===0||!confirm("Sat onaylyor musunuz?"))return;const F=o.reduce(($,W)=>$+W.price*W.count,0);try{await ja(Oe(db,"artifacts",e,"users",r.uid,"transactions"),{type:"income",description:`POS Sat (${o.length} eit)`,amount:F,category:"POS",date:new Date().toISOString().split("T")[0],createdAt:new Date().toISOString()}),o.forEach(async $=>{const W=i.find(lt=>lt.id===$.id);W&&await Zd(Wn(db,"artifacts",e,"users",r.uid,"inventory",$.id),{quantity:W.quantity-$.count})}),alert("Sat baaryla tamamland!"),h([])}catch($){console.error($),alert("Hata olutu.")}},M=i.filter(F=>F.name.toLowerCase().includes(d.toLowerCase())),H=o.reduce((F,$)=>F+$.price*$.count,0);return E.jsxs("div",{className:"flex flex-col md:flex-row gap-6 h-[calc(100vh-100px)] animate-in fade-in slide-in-from-bottom-4 duration-500",children:[E.jsxs("div",{className:"flex-1 overflow-y-auto",children:[E.jsx("div",{className:"sticky top-0 bg-slate-50 pt-1 pb-4 z-10",children:E.jsxs("div",{className:"relative",children:[E.jsx(qE,{className:"absolute left-3 top-3 text-gray-400",size:20}),E.jsx("input",{type:"text",placeholder:"rn Ara...",className:"w-full pl-10 p-3 border rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 outline-none",value:d,onChange:F=>y(F.target.value)})]})}),E.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:M.map(F=>E.jsxs("div",{onClick:()=>p(F),className:`bg-white p-4 rounded-xl border border-gray-100 shadow-sm cursor-pointer hover:shadow-md transition active:scale-95 flex flex-col justify-between ${F.quantity<=0?"opacity-50 pointer-events-none":""}`,children:[E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-gray-800",children:F.name}),E.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Stok: ",F.quantity]})]}),E.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[E.jsxs("span",{className:"font-bold text-orange-600",children:["",F.price]}),E.jsx("div",{className:"bg-orange-50 p-1.5 rounded-lg text-orange-600",children:E.jsx(Ua,{size:16})})]})]},F.id))})]}),E.jsxs("div",{className:"w-full md:w-96 bg-white rounded-2xl shadow-lg border border-gray-100 flex flex-col h-full md:h-auto md:max-h-full",children:[E.jsxs("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center bg-slate-800 text-white rounded-t-2xl",children:[E.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[E.jsx(qx,{size:20})," Sepet"]}),E.jsx("button",{onClick:b,className:"text-xs text-gray-300 hover:text-white underline",children:"Temizle"})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:o.length===0?E.jsx("div",{className:"text-center text-gray-400 mt-10",children:"Sepetiniz bo."}):o.map(F=>E.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[E.jsxs("div",{children:[E.jsx("div",{className:"font-bold text-sm text-gray-800",children:F.name}),E.jsxs("div",{className:"text-xs text-gray-500",children:["",F.price," x ",F.count]})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("span",{className:"font-bold text-gray-700",children:["",F.price*F.count]}),E.jsx("button",{onClick:()=>_(F.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:E.jsx(Ux,{size:16})})]})]},F.id))}),E.jsxs("div",{className:"p-5 border-t border-gray-100 bg-gray-50 rounded-b-2xl",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsx("span",{className:"text-gray-500",children:"Toplam Tutar"}),E.jsxs("span",{className:"text-2xl font-bold text-slate-900",children:["",H.toLocaleString()]})]}),E.jsxs("button",{onClick:A,disabled:o.length===0,className:"w-full bg-orange-600 text-white py-3 rounded-xl font-bold shadow-lg hover:bg-orange-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex justify-center gap-2",children:[E.jsx(qc,{size:20})," Sat Tamamla"]})]})]})]})},Bv=({user:r,appId:e,type:i})=>{const a=i==="customer"?"customers":"suppliers",[o,h]=_t.useState([]),[d,y]=_t.useState(!1);_t.useEffect(()=>{const b=zn(kn(Oe(db,"artifacts",e,"users",r.uid,a)),A=>h(A.docs.map(M=>({id:M.id,...M.data()}))));return()=>b()},[r,e,a]);const p=async b=>{await ja(Oe(db,"artifacts",e,"users",r.uid,a),b),y(!1)},_=async b=>{confirm("Silinsin mi?")&&await Jr(Wn(db,"artifacts",e,"users",r.uid,a,b))};return E.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsx(en,{title:i==="customer"?"Toplam Mteri":"Toplam Tedariki",value:o.length,icon:Gc,colorClass:"text-blue-600",bgClass:"bg-blue-50"}),E.jsx(en,{title:i==="customer"?"Toplam Alacak":"Toplam Bor",value:`${o.reduce((b,A)=>b+(A.balance||0),0).toLocaleString()}`,icon:Gr,colorClass:i==="customer"?"text-green-600":"text-red-600",bgClass:i==="customer"?"bg-green-50":"bg-red-50"})]}),E.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[E.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[E.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[E.jsx(Rx,{className:"text-slate-500"})," ",i==="customer"?"Mteri Listesi":"Tedariki Listesi"]}),E.jsxs("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 hover:bg-blue-700",children:[E.jsx(Ua,{size:18})," Yeni Ekle"]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-6",children:o.map(b=>E.jsxs("div",{className:"p-4 border rounded-xl hover:shadow-md transition relative group bg-slate-50",children:[E.jsx("button",{onClick:()=>_(b.id),className:"absolute top-2 right-2 text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100",children:E.jsx(Wr,{size:16})}),E.jsx("h3",{className:"font-bold text-gray-800",children:b.name}),E.jsx("p",{className:"text-sm text-gray-500 mb-2",children:b.company}),E.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[E.jsx("div",{children:b.phone}),E.jsx("div",{children:b.email})]}),E.jsxs("div",{className:`mt-3 font-bold text-right ${i==="customer"?"text-green-600":"text-red-600"}`,children:["",b.balance.toLocaleString()]})]},b.id))})]}),d&&E.jsx(tR,{type:i,onSave:p,onCancel:()=>y(!1)})]})},lR=({user:r,appId:e})=>{const[i,a]=_t.useState([]),[o,h]=_t.useState([]),[d,y]=_t.useState(!1);_t.useEffect(()=>{const A=zn(kn(Oe(db,"artifacts",e,"users",r.uid,"inventory")),H=>h(H.docs.map(F=>({id:F.id,...F.data()})))),M=zn(kn(Oe(db,"artifacts",e,"users",r.uid,"production")),H=>a(H.docs.map(F=>({id:F.id,...F.data()}))));return()=>{A(),M()}},[r,e]);const p=async A=>{await ja(Oe(db,"artifacts",e,"users",r.uid,"production"),A),y(!1)},_=async(A,M)=>{if(await Zd(Wn(db,"artifacts",e,"users",r.uid,"production",A.id),{status:M}),M==="completed"){const H=await hx(Wn(db,"artifacts",e,"users",r.uid,"inventory",A.itemId));H.exists()&&await Zd(Wn(db,"artifacts",e,"users",r.uid,"inventory",A.itemId),{quantity:(H.data().quantity||0)+A.quantity})}},b=async A=>{confirm("Silinsin mi?")&&await Jr(Wn(db,"artifacts",e,"users",r.uid,"production",A))};return E.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsx(en,{title:"Planlanan",value:i.filter(A=>A.status==="planned").length,icon:wx,colorClass:"text-amber-600",bgClass:"bg-amber-50"}),E.jsx(en,{title:"retimde",value:i.filter(A=>A.status==="in_progress").length,icon:Hc,colorClass:"text-blue-600",bgClass:"bg-blue-50"}),E.jsx(en,{title:"Tamamlanan",value:i.filter(A=>A.status==="completed").length,icon:Sx,colorClass:"text-green-600",bgClass:"bg-green-50"})]}),E.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[E.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[E.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[E.jsx(Hc,{className:"text-slate-500"})," retim Emirleri"]}),E.jsxs("button",{onClick:()=>y(!0),className:"bg-amber-600 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 hover:bg-amber-700",children:[E.jsx(Ua,{size:18})," Yeni Emir"]})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-slate-50 text-slate-500 text-sm",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-4",children:"Tarih"}),E.jsx("th",{className:"p-4",children:"rn"}),E.jsx("th",{className:"p-4",children:"Miktar"}),E.jsx("th",{className:"p-4",children:"Durum"}),E.jsx("th",{className:"p-4 text-center",children:"lem"})]})}),E.jsx("tbody",{className:"divide-y",children:i.map(A=>E.jsxs("tr",{className:"hover:bg-slate-50",children:[E.jsx("td",{className:"p-4 text-sm text-gray-500",children:new Date(A.date).toLocaleDateString("tr-TR")}),E.jsxs("td",{className:"p-4 font-medium",children:[A.itemName," ",E.jsx("div",{className:"text-xs text-gray-400",children:A.note})]}),E.jsx("td",{className:"p-4 font-bold",children:A.quantity}),E.jsx("td",{className:"p-4",children:E.jsxs("select",{value:A.status,onChange:M=>_(A,M.target.value),disabled:A.status==="completed",className:`p-1 rounded text-xs font-bold ${A.status==="completed"?"bg-green-100 text-green-700":A.status==="in_progress"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:[E.jsx("option",{value:"planned",children:"Planland"}),E.jsx("option",{value:"in_progress",children:"lemde"}),E.jsx("option",{value:"completed",children:"Tamamland"})]})}),E.jsx("td",{className:"p-4 text-center",children:E.jsx("button",{onClick:()=>b(A.id),className:"text-gray-300 hover:text-red-500",children:E.jsx(Wr,{size:16})})})]},A.id))})]})})]}),d&&E.jsx(eR,{items:o,onSave:p,onCancel:()=>y(!1)})]})},oR=({user:r,appId:e})=>{const[i,a]=_t.useState({income:0,expense:0,stockValue:0,receivables:0,payables:0});_t.useEffect(()=>{(async()=>{let y=0,p=0;const _=kn(Oe(db,"artifacts",e,"users",r.uid,"transactions"));zn(_,H=>{H.docs.forEach(F=>{const $=F.data();$.type==="income"?y+=$.amount:p+=$.amount}),a(F=>({...F,income:y,expense:p}))});const b=kn(Oe(db,"artifacts",e,"users",r.uid,"inventory"));zn(b,H=>{let F=0;H.docs.forEach($=>{const W=$.data();F+=W.quantity*W.price}),a($=>({...$,stockValue:F}))});const A=kn(Oe(db,"artifacts",e,"users",r.uid,"customers"));zn(A,H=>{let F=0;H.docs.forEach($=>F+=$.data().balance||0),a($=>({...$,receivables:F}))});const M=kn(Oe(db,"artifacts",e,"users",r.uid,"suppliers"));zn(M,H=>{let F=0;H.docs.forEach($=>F+=$.data().balance||0),a($=>({...$,payables:F}))})})()},[r,e]);const o=i.income-i.expense,h=i.income>0?o/i.income*100:0;return E.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[E.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[E.jsx($d,{className:"text-slate-500"})," Ynetim zet Raporu"]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[E.jsxs("div",{className:"bg-slate-800 text-white p-6 rounded-xl shadow-lg",children:[E.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Net Kr"}),E.jsxs("h3",{className:"text-3xl font-bold",children:["",o.toLocaleString()]}),E.jsxs("div",{className:`text-xs mt-2 ${o>=0?"text-green-400":"text-red-400"}`,children:["% ",h.toFixed(1)," Marj"]})]}),E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[E.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Toplam Stok Deeri"}),E.jsxs("h3",{className:"text-2xl font-bold text-indigo-600",children:["",i.stockValue.toLocaleString()]})]}),E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[E.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Mteri Alacaklar"}),E.jsxs("h3",{className:"text-2xl font-bold text-green-600",children:["",i.receivables.toLocaleString()]})]}),E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[E.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Tedariki Borlar"}),E.jsxs("h3",{className:"text-2xl font-bold text-red-600",children:["",i.payables.toLocaleString()]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[E.jsx("h3",{className:"font-bold mb-6 text-gray-700",children:"Gelir vs Gider"}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[E.jsx("span",{children:"Gelir"}),E.jsxs("span",{className:"font-bold",children:["",i.income.toLocaleString()]})]}),E.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3 overflow-hidden",children:E.jsx("div",{className:"bg-green-500 h-3 rounded-full",style:{width:`${Math.min(i.income/(i.income+i.expense||1)*100,100)}%`}})})]}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[E.jsx("span",{children:"Gider"}),E.jsxs("span",{className:"font-bold",children:["",i.expense.toLocaleString()]})]}),E.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3 overflow-hidden",children:E.jsx("div",{className:"bg-red-500 h-3 rounded-full",style:{width:`${Math.min(i.expense/(i.income+i.expense||1)*100,100)}%`}})})]})]})]}),E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[E.jsx("h3",{className:"font-bold mb-6 text-gray-700",children:"Nakit Ak Tahmini"}),E.jsxs("div",{className:"flex items-center justify-center h-32 text-gray-400 text-sm bg-slate-50 rounded-lg border border-dashed border-gray-200",children:[E.jsx(Tx,{size:16,className:"mr-2"})," Daha fazla veri girildike grafik oluacaktr."]})]})]})]})};function uR(){const[r,e]=_t.useState(null),[i,a]=_t.useState("accounting"),[o,h]=_t.useState(!1);if(_t.useEffect(()=>((async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await BA(auth,__initial_auth_token):await zA(auth))(),qA(auth,e)),[]),!r)return E.jsx("div",{className:"flex h-screen items-center justify-center bg-slate-50 text-slate-500",children:"Sistem Hazrlanyor..."});const d=({id:y,label:p,icon:_,color:b})=>E.jsxs("button",{onClick:()=>{a(y),h(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition font-medium ${i===y?`bg-${b}-50 text-${b}-700 shadow-sm border border-${b}-100`:"text-gray-500 hover:bg-gray-100"}`,children:[E.jsx(_,{size:20,className:i===y?`text-${b}-600`:"text-gray-400"}),p,i===y&&E.jsx(vx,{className:"ml-auto opacity-50",size:16})]});return E.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans flex text-slate-800",children:[E.jsxs("aside",{className:"hidden md:flex w-64 bg-white border-r border-gray-100 flex-col fixed h-full z-10",children:[E.jsxs("div",{className:"p-6 border-b border-gray-50",children:[E.jsxs("h1",{className:"text-2xl font-extrabold tracking-tight text-slate-900 flex items-center gap-2",children:[E.jsx("div",{className:"bg-slate-900 text-white p-2 rounded-lg",children:E.jsx(Gr,{size:20})}),"Mayel ERP"]}),E.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Kullanc: ",r.uid.slice(0,6),"..."]})]}),E.jsxs("nav",{className:"p-4 space-y-1 flex-grow overflow-y-auto custom-scrollbar",children:[E.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 mt-2 px-4",children:"Finans"}),E.jsx(d,{id:"accounting",label:"Muhasebe",icon:Wd,color:"blue"}),E.jsx(d,{id:"bank",label:"Banka",icon:vo,color:"cyan"}),E.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 mt-6 px-4",children:"Operasyon"}),E.jsx(d,{id:"inventory",label:"Depo & Stok",icon:Fc,color:"indigo"}),E.jsx(d,{id:"production",label:"retim",icon:Hc,color:"amber"}),E.jsx(d,{id:"pos",label:"POS Sat",icon:qc,color:"orange"}),E.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 mt-6 px-4",children:"Paydalar"}),E.jsx(d,{id:"customers",label:"Mteriler",icon:Gc,color:"green"}),E.jsx(d,{id:"suppliers",label:"Tedarikiler",icon:Pv,color:"red"}),E.jsx(d,{id:"personnel",label:"Personel",icon:Jd,color:"purple"}),E.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 mt-6 px-4",children:"Analiz"}),E.jsx(d,{id:"reports",label:"Raporlar",icon:$d,color:"slate"})]}),E.jsx("div",{className:"p-4 text-xs text-center text-gray-400 border-t border-gray-50",children:"v4.0 Enterprise"})]}),o&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>h(!1),children:E.jsxs("div",{className:"w-64 bg-white h-full shadow-2xl p-4 overflow-y-auto",onClick:y=>y.stopPropagation(),children:[E.jsxs("div",{className:"flex justify-between items-center mb-8",children:[E.jsx("span",{className:"font-bold text-lg",children:"Men"}),E.jsx("button",{onClick:()=>h(!1),children:E.jsx(FE,{})})]}),E.jsxs("nav",{className:"space-y-1",children:[E.jsx(d,{id:"accounting",label:"Muhasebe",icon:Wd,color:"blue"}),E.jsx(d,{id:"bank",label:"Banka",icon:vo,color:"cyan"}),E.jsx(d,{id:"inventory",label:"Depo & Stok",icon:Fc,color:"indigo"}),E.jsx(d,{id:"production",label:"retim",icon:Hc,color:"amber"}),E.jsx(d,{id:"pos",label:"POS Sat",icon:qc,color:"orange"}),E.jsx(d,{id:"customers",label:"Mteriler",icon:Gc,color:"green"}),E.jsx(d,{id:"suppliers",label:"Tedarikiler",icon:Pv,color:"red"}),E.jsx(d,{id:"personnel",label:"Personel",icon:Jd,color:"purple"}),E.jsx(d,{id:"reports",label:"Raporlar",icon:$d,color:"slate"})]})]})}),E.jsxs("main",{className:"flex-1 md:ml-64 p-4 md:p-8 overflow-y-auto h-screen bg-slate-50",children:[E.jsxs("div",{className:"md:hidden flex justify-between items-center mb-6",children:[E.jsxs("h1",{className:"font-bold text-xl text-slate-900 flex items-center gap-2",children:[E.jsx("div",{className:"bg-slate-900 text-white p-1.5 rounded",children:E.jsx(Gr,{size:16})})," Mayel ERP"]}),E.jsx("button",{onClick:()=>h(!0),className:"p-2 bg-white border rounded-lg",children:E.jsx(Ox,{})})]}),E.jsxs("div",{className:"max-w-7xl mx-auto h-full pb-20",children:[i==="accounting"&&E.jsx(nR,{user:r,appId}),i==="inventory"&&E.jsx(iR,{user:r,appId}),i==="personnel"&&E.jsx(sR,{user:r,appId}),i==="bank"&&E.jsx(aR,{user:r,appId}),i==="pos"&&E.jsx(rR,{user:r,appId}),i==="customers"&&E.jsx(Bv,{user:r,appId,type:"customer"}),i==="suppliers"&&E.jsx(Bv,{user:r,appId,type:"supplier"}),i==="production"&&E.jsx(lR,{user:r,appId}),i==="reports"&&E.jsx(oR,{user:r,appId})]})]})]})}Db.createRoot(document.getElementById("root")).render(E.jsx(_t.StrictMode,{children:E.jsx(uR,{})}));
